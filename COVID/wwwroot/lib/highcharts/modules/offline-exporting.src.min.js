"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/offline-exporting",["highcharts","highcharts/modules/exporting"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){e=e?e._modules:{};function t(e,t,n,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,n))}t(e,"Extensions/DownloadURL.js",[e["Core/Globals.js"]],function(e){var l=e.isSafari,c=e.win,s=c.document,i=c.URL||c.webkitURL||c,f=e.dataURLtoBlob=function(e){var t=e.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);if(t&&3<t.length&&c.atob&&c.ArrayBuffer&&c.Uint8Array&&c.Blob&&i.createObjectURL){for(var n=c.atob(t[3]),e=new c.ArrayBuffer(n.length),o=new c.Uint8Array(e),r=0;r<o.length;++r)o[r]=n.charCodeAt(r);t=new c.Blob([o],{type:t[1]});return i.createObjectURL(t)}},e=e.downloadURL=function(t,e){var n=c.navigator,o=s.createElement("a");if("string"==typeof t||t instanceof String||!n.msSaveOrOpenBlob){t=""+t;var r=/Edge\/\d+/.test(n.userAgent),i=l&&"string"==typeof t&&0===t.indexOf("data:application/pdf");if((i||r||2e6<t.length)&&!(t=f(t)||""))throw new Error("Failed to convert to blob");if(void 0!==o.download)o.href=t,o.download=e,s.body.appendChild(o),o.click(),s.body.removeChild(o);else try{var a=c.open(t,"chart");if(null==a)throw new Error("Failed to open window")}catch(e){c.location.href=t}}else n.msSaveOrOpenBlob(t,e)};return{dataURLtoBlob:f,downloadURL:e}}),t(e,"Extensions/OfflineExporting.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/DefaultOptions.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"],e["Extensions/DownloadURL.js"]],function(e,i,t,a,n,o){var h=i.win,u=i.doc,m=t.getOptions,y=n.addEvent,l=n.error,c=n.extend,s=n.fireEvent,f=n.merge,v=o.downloadURL,x=h.URL||h.webkitURL||h,p=i.isMS?150:0;function b(e,t){var n=u.getElementsByTagName("head")[0],o=u.createElement("script");o.type="text/javascript",o.src=e,o.onload=t,o.onerror=function(){l("Error loading script "+e)},n.appendChild(o)}function w(e){var t=h.navigator.userAgent,t=-1<t.indexOf("WebKit")&&t.indexOf("Chrome")<0;try{if(!t&&!i.isFirefox&&-1===e.indexOf("<foreignObject"))return x.createObjectURL(new h.Blob([e],{type:"image/svg+xml;charset-utf-16"}))}catch(e){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(e)}function C(o,r,i,a,l,e,c,t,s){function n(){setTimeout(function(){var e,t=u.createElement("canvas"),n=t.getContext&&t.getContext("2d");try{if(n){t.height=d.height*a,t.width=d.width*a,n.drawImage(d,0,0,t.width,t.height);try{e=t.toDataURL(r),l(e,r,i,a)}catch(e){g(o,r,i,a)}}else c(o,r,i,a)}finally{s&&s(o,r,i,a)}},p)}function f(){t(o,r,i,a),s&&s(o,r,i,a)}var d=new h.Image,g=function(){d=new h.Image,g=e,d.crossOrigin="Anonymous",d.onload=n,d.onerror=f,d.src=o};d.onload=n,d.onerror=f,d.src=o}function d(i,e,a,l){var t,n,c,s=!0,f=e.libURL||m().exporting.libURL,o=u.createElement("div"),d=e.type||"image/png",g=(e.filename||"chart")+"."+("image/svg+xml"===d?"svg":d.split("/")[1]),p=e.scale||1;function r(){o.innerHTML=i;var e,t=o.getElementsByTagName("text");[].forEach.call(t,function(t){["font-family","font-size"].forEach(function(e){!function(e,t){for(var n=e;n&&n!==o;){if(n.style[t]){e.style[t]=n.style[t];break}n=n.parentNode}}(t,e)}),t.style["font-family"]=t.style["font-family"]&&t.style["font-family"].split(" ").splice(-1),e=t.getElementsByTagName("title"),[].forEach.call(e,function(e){t.removeChild(e)})}),t=function(e,t){var n=e.width.baseVal.value+2*t,t=e.height.baseVal.value+2*t,t=new h.jsPDF(n<t?"p":"l","pt",[n,t]);[].forEach.call(e.querySelectorAll('*[visibility="hidden"]'),function(e){e.parentNode.removeChild(e)});for(var o=e.querySelectorAll("linearGradient"),r=0;r<o.length;r++)for(var i=o[r].querySelectorAll("stop"),a=0;a<i.length&&"0"===i[a].getAttribute("offset")&&"0"===i[a+1].getAttribute("offset");)i[a].remove(),a++;return[].forEach.call(e.querySelectorAll("tspan"),function(e){"â€‹"===e.textContent&&(e.textContent=" ",e.setAttribute("dx",-5))}),h.svg2pdf(e,t,{removeInvalid:!0}),t.output("datauristring")}(o.firstChild,0);try{v(t,g),l&&l()}catch(e){a(e)}}if(f="/"!==f.slice(-1)?f+"/":f,"image/svg+xml"===d)try{t=void 0!==h.navigator.msSaveOrOpenBlob?((n=new MSBlobBuilder).append(i),n.getBlob("image/svg+xml")):w(i),v(t,g),l&&l()}catch(e){a(e)}else"application/pdf"===d?h.jsPDF&&h.svg2pdf?r():(s=!0,b(f+"jspdf.js",function(){b(f+"svg2pdf.js",function(){r()})})):(t=w(i),c=function(){try{x.revokeObjectURL(t)}catch(e){}},C(t,d,{},p,function(e){try{v(e,g),l&&l()}catch(e){a(e)}},function(){function e(){h.canvg.Canvg.fromString(n,i).start();try{v(h.navigator.msSaveOrOpenBlob?t.msToBlob():t.toDataURL(d),g),l&&l()}catch(e){a(e)}finally{c()}}var t=u.createElement("canvas"),n=t.getContext("2d"),o=i.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*p,r=i.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*p;t.width=o,t.height=r,h.canvg?e():(s=!0,b(f+"canvg.js",function(){e()}))},a,a,function(){s&&c()}))}i.CanVGRenderer={},e.prototype.getSVGForLocalExport=function(e,t,n,o){function r(e){return h.sanitizeSVG(e,s)}function i(){u===l.length&&o(r(c.innerHTML))}function a(e,t,n){++u,n.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",e),i()}var l,c,s,f,d,g,p,h=this,u=0;h.unbindGetSVG=y(h,"getSVG",function(e){s=e.chartCopy.options,c=e.chartCopy.container.cloneNode(!0)}),h.getSVGForExport(e,t),l=c.getElementsByTagName("image");try{if(!l.length)return void o(r(c.innerHTML));for(d=0,g=l.length;d<g;++d)(p=(f=l[d]).getAttributeNS("http://www.w3.org/1999/xlink","href"))?C(p,"image/png",{imageElement:f},e.scale,a,n,n,n):(++u,f.parentNode.removeChild(f),i())}catch(e){n(e)}h.unbindGetSVG()},e.prototype.exportChartLocal=function(e,t){function n(e){!1===r.fallbackToExportServer?r.error?r.error(r,e):l(28,!0):o.exportChart(r)}var o=this,r=f(o.options.exporting,e);i.isMS&&o.styledMode&&(a.prototype.inlineWhitelist=[/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/]),i.isMS&&("application/pdf"===r.type||o.container.getElementsByTagName("image").length&&"image/svg+xml"!==r.type)||"application/pdf"===r.type&&[].some.call(o.container.getElementsByTagName("image"),function(e){e=e.getAttribute("href");return""!==e&&0!==e.indexOf("data:")})?n("Image type not supported for this chart/browser."):o.getSVGForLocalExport(r,t||{},n,function(e){-1<e.indexOf("<foreignObject")&&"image/svg+xml"!==r.type&&(i.isMS||"application/pdf"===r.type)?n("Image type not supportedfor charts with embedded HTML"):d(e,c({filename:o.getFilename()},r),n,function(){return s(o,"exportChartLocalSuccess")})})},f(!0,m().exporting,{libURL:"https://code.highcharts.com/9.1.2/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}}),i.downloadSVGLocal=d}),t(e,"masters/modules/offline-exporting.src.js",[],function(){})});