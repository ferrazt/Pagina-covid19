"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/tilemap",["highcharts","highcharts/modules/map"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){t=t?t._modules:{};function e(t,e,a,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,a))}e(t,"Series/Tilemap/TilemapPoint.js",[t["Mixins/ColorSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,a){var n,i,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),o=t.colorPointMixin,t=e.series.prototype.pointClass,e=e.seriesTypes.heatmap.prototype.pointClass,a=a.extend,e=(r(s,i=e),s.prototype.haloPath=function(){return this.series.tileShape.haloPath.apply(this,arguments)},s);function s(){var t=null!==i&&i.apply(this,arguments)||this;return t.options=void 0,t.radius=void 0,t.series=void 0,t.tileEdges=void 0,t}return a(e.prototype,{setState:t.prototype.setState,setVisible:o.setVisible}),e}),e(t,"Series/Tilemap/TilemapShapes.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,a){var n=t.noop,t=e.seriesTypes,e=t.heatmap,i=t.scatter,x=a.clamp,m=a.pick;function r(t,e,a){t=t.options;return{xPad:(t.colsize||1)/-e,yPad:(t.rowsize||1)/-a}}return{hexagon:{alignDataLabel:i.prototype.alignDataLabel,getSeriesPadding:function(t){return r(t,3,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return[["M",e.x2-t,e.y1+t],["L",e.x3+t,e.y1+t],["L",e.x4+1.5*t,e.y2],["L",e.x3+t,e.y3-t],["L",e.x2-t,e.y3-t],["L",e.x1-1.5*t,e.y2],["Z"]]},translate:function(){var d,t=this,e=t.options,c=t.xAxis,u=t.yAxis,y=e.pointPadding||0,f=(e.colsize||1)/3,g=(e.rowsize||1)/2;t.generatePoints(),t.points.forEach(function(t){var e=x(Math.floor(c.len-c.translate(t.x-2*f,0,1,0,1)),-c.len,2*c.len),a=x(Math.floor(c.len-c.translate(t.x-f,0,1,0,1)),-c.len,2*c.len),n=x(Math.floor(c.len-c.translate(t.x+f,0,1,0,1)),-c.len,2*c.len),i=x(Math.floor(c.len-c.translate(t.x+2*f,0,1,0,1)),-c.len,2*c.len),r=x(Math.floor(u.translate(t.y-g,0,1,0,1)),-u.len,2*u.len),o=x(Math.floor(u.translate(t.y,0,1,0,1)),-u.len,2*u.len),s=x(Math.floor(u.translate(t.y+g,0,1,0,1)),-u.len,2*u.len),l=m(t.pointPadding,y),p=l*Math.abs(a-e)/Math.abs(s-o),h=c.reversed?-p:p,p=c.reversed?-l:l,l=u.reversed?-l:l;t.x%2&&(r+=d=d||Math.round(Math.abs(s-r)/2)*(u.reversed?-1:1),o+=d,s+=d),t.plotX=t.clientX=(a+n)/2,t.plotY=o,t.tileEdges={x1:e+=h+p,x2:a+=p,x3:n-=p,x4:i-=h+p,y1:r-=l,y2:o,y3:s+=l},t.shapeType="path",t.shapeArgs={d:[["M",a,r],["L",n,r],["L",i,o],["L",n,s],["L",a,s],["L",e,o],["Z"]]}}),t.translateColors()}},diamond:{alignDataLabel:i.prototype.alignDataLabel,getSeriesPadding:function(t){return r(t,2,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return[["M",e.x2,e.y1+t],["L",e.x3+t,e.y2],["L",e.x2,e.y3-t],["L",e.x1-t,e.y2],["Z"]]},translate:function(){var p,t=this,e=t.options,h=t.xAxis,d=t.yAxis,c=e.pointPadding||0,u=e.colsize||1,y=(e.rowsize||1)/2;t.generatePoints(),t.points.forEach(function(t){var e=x(Math.round(h.len-h.translate(t.x-u,0,1,0,0)),-h.len,2*h.len),a=x(Math.round(h.len-h.translate(t.x,0,1,0,0)),-h.len,2*h.len),n=x(Math.round(h.len-h.translate(t.x+u,0,1,0,0)),-h.len,2*h.len),i=x(Math.round(d.translate(t.y-y,0,1,0,0)),-d.len,2*d.len),r=x(Math.round(d.translate(t.y,0,1,0,0)),-d.len,2*d.len),o=x(Math.round(d.translate(t.y+y,0,1,0,0)),-d.len,2*d.len),s=m(t.pointPadding,c),l=s*Math.abs(a-e)/Math.abs(o-r),l=h.reversed?-l:l,s=d.reversed?-s:s;t.x%2&&(i+=p=Math.abs(o-i)/2*(d.reversed?-1:1),r+=p,o+=p),t.plotX=t.clientX=a,t.plotY=r,t.tileEdges={x1:e+=l,x2:a,x3:n-=l,y1:i-=s,y2:r,y3:o+=s},t.shapeType="path",t.shapeArgs={d:[["M",a,i],["L",n,r],["L",a,o],["L",e,r],["Z"]]}}),t.translateColors()}},circle:{alignDataLabel:i.prototype.alignDataLabel,getSeriesPadding:function(t){return r(t,2,2)},haloPath:function(t){return i.prototype.pointClass.prototype.haloPath.call(this,t+(t&&this.radius))},translate:function(){var r,o,s,l,t=this,e=t.options,p=t.xAxis,h=t.yAxis,d=e.pointPadding||0,c=(e.rowsize||1)/2,u=e.colsize||1,y=!1;t.generatePoints(),t.points.forEach(function(t){var e=x(Math.round(p.len-p.translate(t.x,0,1,0,0)),-p.len,2*p.len),a=x(Math.round(h.translate(t.y,0,1,0,0)),-h.len,2*h.len),n=d,i=!1;void 0!==t.pointPadding&&(n=t.pointPadding,y=i=!0),l&&!y||(r=Math.abs(x(Math.floor(p.len-p.translate(t.x+u,0,1,0,0)),-p.len,2*p.len)-e),o=Math.abs(x(Math.floor(h.translate(t.y+c,0,1,0,0)),-h.len,2*h.len)-a),s=Math.floor(Math.sqrt(r*r+o*o)/2),l=Math.min(r,s,o)-n,y&&!i&&(y=!1)),t.x%2&&(a+=o*(h.reversed?-1:1)),t.plotX=t.clientX=e,t.plotY=a,t.radius=l,t.shapeType="circle",t.shapeArgs={x:e,y:a,r:l}}),t.translateColors()}},square:{alignDataLabel:e.prototype.alignDataLabel,translate:e.prototype.translate,getSeriesPadding:n,haloPath:e.prototype.pointClass.prototype.haloPath}}}),e(t,"Series/Tilemap/TilemapComposition.js",[t["Core/Axis/Axis.js"],t["Core/Utilities.js"]],function(t,e){(0,e.addEvent)(t,"afterSetAxisTranslation",function(){var e,t,a;this.recomputingForTilemap||"colorAxis"===this.coll||(t=(e=this).series.map(function(t){return t.getSeriesPixelPadding&&t.getSeriesPixelPadding(e)}).reduce(function(t,e){return(t&&t.padding)>(e&&e.padding)?t:e},void 0)||{padding:0,axisLengthFactor:1},a=Math.round(t.padding*t.axisLengthFactor),t.padding&&(e.len-=a,e.recomputingForTilemap=!0,e.setAxisTranslation(),delete e.recomputingForTilemap,e.minPixelPadding+=t.padding,e.len+=a))})}),e(t,"Series/Tilemap/TilemapSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Tilemap/TilemapPoint.js"],t["Series/Tilemap/TilemapShapes.js"],t["Core/Utilities.js"]],function(t,e,a,n,i){var r,o,s=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),l=t.noop,p=e.seriesTypes,h=p.column,d=p.heatmap,t=p.scatter,p=i.extend,i=i.merge,d=(s(c,o=d),c.prototype.alignDataLabel=function(){return this.tileShape.alignDataLabel.apply(this,Array.prototype.slice.call(arguments))},c.prototype.drawPoints=function(){var e=this;h.prototype.drawPoints.call(this),this.points.forEach(function(t){t.graphic&&t.graphic[e.chart.styledMode?"css":"animate"](e.colorAttribs(t))})},c.prototype.getSeriesPixelPadding=function(t){var e,a=t.isXAxis,n=this.tileShape.getSeriesPadding(this);return n?(e=Math.round(t.translate(a?2*n.xPad:n.yPad,0,1,0,1)),n=Math.round(t.translate(a?n.xPad:0,0,1,0,1)),{padding:Math.abs(e-n)||0,axisLengthFactor:a?2:1.1}):{padding:0,axisLengthFactor:1}},c.prototype.setOptions=function(){var t=o.prototype.setOptions.apply(this,Array.prototype.slice.call(arguments));return this.tileShape=n[t.tileShape],t},c.prototype.translate=function(){return this.tileShape.translate.apply(this,Array.prototype.slice.call(arguments))},c.defaultOptions=i(d.defaultOptions,{marker:null,states:{hover:{halo:{enabled:!0,size:2,opacity:.5,attributes:{zIndex:3}}}},pointPadding:2,tileShape:"hexagon"}),c);function c(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.tileShape=void 0,t}return p(d.prototype,{getSymbol:l,markerAttribs:t.prototype.markerAttribs,pointAttribs:h.prototype.pointAttribs,pointClass:a}),e.registerSeriesType("tilemap",d),d}),e(t,"masters/modules/tilemap.src.js",[],function(){})});