"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/data",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){e=e?e._modules:{};function t(e,t,r,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,r))}t(e,"Extensions/Ajax.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(r,e){var s=e.merge,n=e.objectEach;return r.ajax=function(e){var r=s(!0,{url:!1,type:"get",dataType:"json",success:!1,error:!1,data:!1,headers:{}},e),e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},o=new XMLHttpRequest;function t(e,t){r.error&&r.error(e,t)}if(!r.url)return!1;o.open(r.type.toUpperCase(),r.url,!0),r.headers["Content-Type"]||o.setRequestHeader("Content-Type",e[r.dataType]||e.text),n(r.headers,function(e,t){o.setRequestHeader(t,e)}),o.onreadystatechange=function(){var e;if(4===o.readyState){if(200===o.status){if(e=o.responseText,"json"===r.dataType)try{e=JSON.parse(e)}catch(e){return t(o,e)}return r.success&&r.success(e)}t(o,o.responseText)}};try{r.data=JSON.stringify(r.data)}catch(e){}o.send(r.data||!0)},r.getJSON=function(e,t){r.ajax({url:e,success:t,dataType:"json",headers:{"Content-Type":"text/plain"}})},{ajax:r.ajax,getJSON:r.getJSON}}),t(e,"Extensions/Data.js",[e["Extensions/Ajax.js"],e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,a,i,r,o){var x=e.ajax,s=a.doc,n=r.seriesTypes,r=o.addEvent,f=o.defined,l=o.extend,p=o.fireEvent,v=o.isNumber,m=o.merge,g=o.objectEach,u=o.pick,y=o.splat,o=(h.prototype.init=function(e,t,r){var o,s=e.decimalPoint;t&&(this.chartOptions=t),r&&(this.chart=r),"."!==s&&","!==s&&(s=void 0),this.options=e,this.columns=e.columns||this.rowsToColumns(e.rows)||[],this.firstRowAsNames=u(e.firstRowAsNames,this.firstRowAsNames,!0),this.decimalRegex=s&&new RegExp("^(-?[0-9]+)"+s+"([0-9]+)$"),this.rawColumns=[],this.columns.length&&(this.dataFound(),o=!0),this.hasURLOption(e)&&(clearTimeout(this.liveDataTimeout),o=!1),!(o=(o=(o=(o=o||this.fetchLiveData())||Boolean(this.parseCSV().length))||Boolean(this.parseTable().length))||this.parseGoogleSpreadsheet())&&e.afterComplete&&e.afterComplete()},h.prototype.hasURLOption=function(e){return Boolean(e&&(e.rowsURL||e.csvURL||e.columnsURL))},h.prototype.getColumnDistribution=function(){function a(e){return(n[e||"line"].prototype.pointArrayMap||[0]).length}function i(e){return n[e||"line"].prototype.pointArrayMap}var l,u=this.chartOptions,e=this.options,t=[],h=u&&u.chart&&u.chart.type,d=[],c=[],p=0,e=e&&e.seriesMapping||u&&u.series&&u.series.map(function(){return{x:0}})||[];(u&&u.series||[]).forEach(function(e){d.push(a(e.type||h))}),e.forEach(function(e){t.push(e.x||0)}),0===t.length&&t.push(0),e.forEach(function(e){var r=new C,t=d[p]||a(h),o=(u&&u.series||[])[p]||{},s=i(o.type||h),n=s||["y"];for(!f(e.x)&&!o.isCartesian&&s||r.addColumnReader(e.x,"x"),g(e,function(e,t){"x"!==t&&r.addColumnReader(e,t)}),l=0;l<t;l++)r.hasReader(n[l])||r.addColumnReader(void 0,n[l]);c.push(r),p++});e=i(h);this.valueCount={global:a(h),xColumns:t,individual:d,seriesBuilders:c,globalPointArrayMap:e=void 0===e?["y"]:e}},h.prototype.dataFound=function(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns)),this.getColumnDistribution(),this.parseTypes(),!1!==this.parsed()&&this.complete()},h.prototype.parseCSV=function(e){var f,t,l,u,r,d=this,c=e||this.options,e=c.csv,o=void 0!==c.startRow&&c.startRow?c.startRow:0,s=c.endRow||Number.MAX_VALUE,m=void 0!==c.startColumn&&c.startColumn?c.startColumn:0,g=c.endColumn||Number.MAX_VALUE,n=0,v=[],h={",":0,";":0,"\t":0};if(f=this.columns=[],e=e&&c.beforeParse?c.beforeParse.call(this,e):e){t=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(c.lineDelimiter||"\n"),(!o||o<0)&&(o=0),(!s||s>=t.length)&&(s=t.length-1);for(var x=c.itemDelimiter||(x=null,u=l=0,r=!1,t.some(function(e,t){var r,o,s,n=!1,a="";if(13<t)return!0;for(var i=0;i<e.length;i++){if(r=e[i],o=e[i+1],s=e[i-1],"#"===r)return;if('"'===r)if(n){if('"'!==s&&'"'!==o){for(;" "===o&&i<e.length;)o=e[++i];void 0!==h[o]&&h[o]++,n=!1}}else n=!0;else void 0!==h[r]?(a=a.trim(),isNaN(Date.parse(a))&&!isNaN(a)&&isFinite(a)||h[r]++,a=""):a+=r;","===r&&u++,"."===r&&l++}}),r=h[";"]>h[","]?";":(h[","],h[";"],","),c.decimalPoint||(c.decimalPoint=u<l?".":",",d.decimalRegex=new RegExp("^(-?[0-9]+)"+c.decimalPoint+"([0-9]+)$")),r),a=0,n=o;n<=s;n++)"#"===t[n][0]?a++:function(t,e,r,o){var s=0,n="",a="",i="",l="",u=0,h=0;function d(e){n=t[e],a=t[e-1],i=t[e+1]}function c(e){v.length<h+1&&v.push([e]),v[h][v[h].length-1]!==e&&v[h].push(e)}function p(){if(u<m||g<u)return++u,void(l="");!isNaN(parseFloat(l))&&isFinite(l)?(l=parseFloat(l),c("number")):isNaN(Date.parse(l))?c("string"):(l=l.replace(/\//g,"-"),c("date")),f.length<h+1&&f.push([]),r||(f[h][e]=l),l="",++h,++u}if(t.trim().length&&"#"!==t.trim()[0]){for(;s<t.length;s++)if(d(s),'"'===n)for(d(++s);s<t.length&&('"'!==n||'"'===a||'"'===i);)('"'!==n||'"'===n&&'"'!==a)&&(l+=n),d(++s);else o&&o[n]?o[n](n,l)&&p():n===x?p():l+=n;p()}}(t[n],n-o-a);c.columnTypes&&0!==c.columnTypes.length||!v.length||!v[0].length||"date"!==v[0][1]||c.dateFormat||(c.dateFormat=function(e,t){var r,o,s,n="YYYY/mm/dd",a=[],i=0,l=!1,u=[],h=[];for((!t||t>e.length)&&(t=e.length);i<t;i++)if(void 0!==e[i]&&e[i]&&e[i].length)for(r=e[i].trim().replace(/\//g," ").replace(/\-/g," ").replace(/\./g," ").split(" "),a=["","",""],s=0;s<r.length;s++)s<a.length&&(r[s]=parseInt(r[s],10),r[s]&&(h[s]=(!h[s]||h[s]<r[s]?r:h)[s],void 0!==u[s]?u[s]!==r[s]&&(u[s]=!1):u[s]=r[s],31<r[s]?r[s]<100?a[s]="YY":a[s]="YYYY":12<r[s]&&r[s]<=31?(a[s]="dd",l=!0):a[s].length||(a[s]="mm")));if(l){for(s=0;s<u.length;s++)!1!==u[s]?12<h[s]&&"YY"!==a[s]&&"YYYY"!==a[s]&&(a[s]="YY"):12<h[s]&&"mm"===a[s]&&(a[s]="dd");return 3===a.length&&"dd"===a[1]&&"dd"===a[2]&&(a[2]="YY"),o=a.join("/"),(c.dateFormats||d.dateFormats)[o]?o:(p("deduceDateFailed"),n)}return n}(f[0])),this.dataFound()}return f},h.prototype.parseTable=function(){var e=this.options,t=e.table,n=this.columns||[],a=e.startRow||0,r=e.endRow||Number.MAX_VALUE,i=e.startColumn||0,l=e.endColumn||Number.MAX_VALUE;return t&&("string"==typeof t&&(t=s.getElementById(t)),[].forEach.call(t.getElementsByTagName("tr"),function(e,s){a<=s&&s<=r&&[].forEach.call(e.children,function(e,t){var r=n[t-i],o=1;if(("TD"===e.tagName||"TH"===e.tagName)&&i<=t&&t<=l)for(n[t-i]||(n[t-i]=[]),n[t-i][s-a]=e.innerHTML;o<=s-a&&void 0===r[s-a-o];)r[s-a-o]=null,o++})}),this.dataFound()),n},h.prototype.fetchLiveData=function(){var a=this,i=this.chart,l=this.options,u=3,h=0,d=l.enablePolling,c=1e3*(l.dataRefreshRate||2),t=m(l);return!!this.hasURLOption(l)&&(c<1e3&&(c=1e3),delete l.csvURL,delete l.rowsURL,delete l.columnsURL,function s(n){function e(e,t,r){if(e&&/^(http|\/|\.\/|\.\.\/)/.test(e))return n&&(clearTimeout(a.liveDataTimeout),i.liveDataURL=e),x({url:e,dataType:r||"json",success:function(e){i&&i.series&&t(e),o()},error:function(e,t){return++h<u&&o(),l.error&&l.error(t,e)}}),1;function o(){d&&i.liveDataURL===e&&(a.liveDataTimeout=setTimeout(s,c))}e&&l.error&&l.error("Invalid URL")}e(t.csvURL,function(e){i.update({data:{csv:e}})},"text")||e(t.rowsURL,function(e){i.update({data:{rows:e}})})||e(t.columnsURL,function(e){i.update({data:{columns:e}})})}(!0),this.hasURLOption(l))},h.prototype.parseGoogleSpreadsheet=function(){var c=this,o=this.options,s=o.googleSpreadsheetKey,p=this.chart,n=o.googleSpreadsheetWorksheet||1,f=o.startRow||0,m=o.endRow||Number.MAX_VALUE,g=o.startColumn||0,v=o.endColumn||Number.MAX_VALUE;o.dataRefreshRate;return s&&(delete o.googleSpreadsheetKey,function t(r){var e=["https://spreadsheets.google.com/feeds/cells",s,n,"public/values?alt=json"].join("/");x({url:e,dataType:"json",success:function(e){r(e),o.enablePolling&&setTimeout(function(){t(r)},1e3*(o.dataRefreshRate||2))},error:function(e,t){return o.error&&o.error(t,e)}})}(function(e){var t,r,o,s,n,a,i=[],l=e.feed.entry,u=(l||[]).length,h=0,d=0;if(!l||0===l.length)return!1;for(a=0;a<u;a++)t=l[a],h=Math.max(h,t.gs$cell.col),d=Math.max(d,t.gs$cell.row);for(a=0;a<h;a++)g<=a&&a<=v&&(i[a-g]=[]);for(a=0;a<u;a++)o=(t=l[a]).gs$cell.row-1,s=t.gs$cell.col-1,g<=s&&s<=v&&f<=o&&o<=m&&(r=null,(n=t.gs$cell||t.content).numericValue?r=0<=n.$t.indexOf("/")||0<=n.$t.indexOf("-")?n.$t:0<n.$t.indexOf("%")?100*parseFloat(n.numericValue):parseFloat(n.numericValue):n.$t&&n.$t.length&&(r=n.$t),i[s-g][o-f]=r);i.forEach(function(e){for(a=0;a<e.length;a++)void 0===e[a]&&(e[a]=null)}),p&&p.series?p.update({data:{columns:i}}):(c.columns=i,c.dataFound())})),!1},h.prototype.trim=function(e,t){return"string"==typeof e&&(e=e.replace(/^\s+|\s+$/g,""),t&&/^[0-9\s]+$/.test(e)&&(e=e.replace(/\s/g,"")),this.decimalRegex&&(e=e.replace(this.decimalRegex,"$1.$2"))),e},h.prototype.parseTypes=function(){for(var e=this.columns,t=e.length;t--;)this.parseColumn(e[t],t)},h.prototype.parseColumn=function(e,t){var r,o,s,n,a,i,l=this.rawColumns,u=this.columns,h=e.length,d=this.firstRowAsNames,c=-1!==this.valueCount.xColumns.indexOf(t),p=[],f=this.chartOptions,m=(this.options.columnTypes||[])[t],g=c&&(f&&f.xAxis&&"category"===y(f.xAxis)[0].type||"string"===m);for(l[t]||(l[t]=[]);h--;)a=p[h]||e[h],o=this.trim(a),s=this.trim(a,!0),r=parseFloat(s),void 0===l[t][h]&&(l[t][h]=o),g||0===h&&d?e[h]=""+o:+s===r?(31536e6<(e[h]=r)&&"float"!==m?e.isDatetime=!0:e.isNumeric=!0,void 0!==e[h+1]&&(i=r>e[h+1])):(o&&o.length&&(n=this.parseDate(a)),c&&v(n)&&"float"!==m?(p[h]=a,e[h]=n,e.isDatetime=!0,void 0!==e[h+1]&&((a=n>e[h+1])!==i&&void 0!==i&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,h=e.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):e.unsorted=!0),i=a)):(e[h]=""===o?null:o,0!==h&&(e.isDatetime||e.isNumeric)&&(e.mixed=!0)));if(c&&e.mixed&&(u[t]=l[t]),c&&i&&this.options.sort)for(t=0;t<u.length;t++)u[t].reverse(),d&&u[t].unshift(u[t].pop())},h.prototype.parseDate=function(e){var t,r,o,s,n=this.options.parseDate,a=this.options.dateFormat||this.dateFormat;if(n)t=n(e);else if("string"==typeof e){if(a)o=(o=this.dateFormats[a])||this.dateFormats["YYYY/mm/dd"],(s=e.match(o.regex))&&(t=o.parser(s));else for(r in this.dateFormats)if(o=this.dateFormats[r],s=e.match(o.regex)){this.dateFormat=a=r,this.alternativeFormat=o.alternative,t=o.parser(s);break}s||(e.match(/:.+(GMT|UTC|[Z+-])/)&&(e=e.replace(/\s*(?:GMT|UTC)?([+-])(\d\d)(\d\d)$/,"$1$2:$3").replace(/(?:\s+|GMT|UTC)([+-])/,"$1").replace(/(\d)\s*(?:GMT|UTC|Z)$/,"$1+00:00")),"object"==typeof(s=Date.parse(e))&&null!==s&&s.getTime?t=s.getTime()-6e4*s.getTimezoneOffset():v(s)&&(t=s-6e4*new Date(s).getTimezoneOffset()))}return t},h.prototype.rowsToColumns=function(e){var t,r,o,s,n;if(e)for(n=[],r=e.length,t=0;t<r;t++)for(s=e[t].length,o=0;o<s;o++)n[o]||(n[o]=[]),n[o][t]=e[t][o];return n},h.prototype.getData=function(){if(this.columns)return this.rowsToColumns(this.columns).slice(1)},h.prototype.parsed=function(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)},h.prototype.getFreeIndexes=function(e,t){for(var r,o,s=[],n=[],a=0;a<e;a+=1)s.push(!0);for(r=0;r<t.length;r+=1)for(o=t[r].getReferencedColumnIndexes(),a=0;a<o.length;a+=1)s[o[a]]=!1;for(a=0;a<s.length;a+=1)s[a]&&n.push(a);return n},h.prototype.complete=function(){var e,t,r,o,s,n,a,i,l,u,h,d=this.columns,c=this.options,p=[];if(d.length,c.complete||c.afterComplete){if(this.firstRowAsNames)for(o=0;o<d.length;o++)d[o].name=d[o].shift();for(t=[],l=this.getFreeIndexes(d.length,this.valueCount.seriesBuilders),a=0;a<this.valueCount.seriesBuilders.length;a++)(i=this.valueCount.seriesBuilders[a]).populateColumns(l)&&p.push(i);for(;0<l.length;){for((i=new C).addColumnReader(0,"x"),-1!==(h=l.indexOf(0))&&l.splice(h,1),o=0;o<this.valueCount.global;o++)i.addColumnReader(void 0,this.valueCount.globalPointArrayMap[o]);i.populateColumns(l)&&p.push(i)}if(0<p.length&&0<p[0].readers.length&&void 0!==(u=d[p[0].readers[0].columnIndex])&&(u.isDatetime?e="datetime":u.isNumeric||(e="category")),"category"===e)for(a=0;a<p.length;a++)for(i=p[a],n=0;n<i.readers.length;n++)"x"===i.readers[n].configName&&(i.readers[n].configName="name");for(a=0;a<p.length;a++){for(i=p[a],r=[],s=0;s<d[0].length;s++)r[s]=i.read(d,s);t[a]={data:r},i.name&&(t[a].name=i.name),"category"===e&&(t[a].turboThreshold=0)}u={series:t},e&&(u.xAxis={type:e},"category"===e&&(u.xAxis.uniqueNames=!1)),c.complete&&c.complete(u),c.afterComplete&&c.afterComplete(u)}},h.prototype.update=function(e,t){var r=this.chart;e&&(e.afterComplete=function(e){e&&(e.xAxis&&r.xAxis[0]&&e.xAxis.type===r.xAxis[0].options.type&&delete e.xAxis,r.update(e,t,!0))},m(!0,r.options.data,e),this.init(r.options.data))},h);function h(e,t,r){this.chart=void 0,this.chartOptions=void 0,this.firstRowAsNames=void 0,this.rawColumns=void 0,this.options=void 0,this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{1,2})$/,parser:function(e){return e?Date.UTC(+e[1],e[2]-1,+e[3]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(e){return e?Date.UTC(+e[3],e[2]-1,+e[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(e){return e?Date.UTC(+e[3],e[1]-1,+e[2]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(e){if(!e)return NaN;var t=+e[3];return t>(new Date).getFullYear()-2e3?t+=1900:t+=2e3,Date.UTC(t,e[2]-1,+e[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(e){return e?Date.UTC(+e[3]+2e3,e[1]-1,+e[2]):NaN}}},this.init(e,t,r)}a.data=function(e,t,r){return new a.Data(e,t,r)},r(t,"init",function(e){var o=this,s=e.args[0]||{},n=e.args[1];s&&s.data&&!o.hasDataDef&&(o.hasDataDef=!0,o.data=new a.Data(l(s.data,{afterComplete:function(e){var t,r;if(Object.hasOwnProperty.call(s,"series"))if("object"==typeof s.series)for(t=Math.max(s.series.length,e&&e.series?e.series.length:0);t--;)r=s.series[t]||{},s.series[t]=m(r,e&&e.series?e.series[t]:{});else delete s.series;s=m(e,s),o.init(s,n)}}),s,o),e.preventDefault())});var C=(d.prototype.populateColumns=function(t){var r=!0;return this.readers.forEach(function(e){void 0===e.columnIndex&&(e.columnIndex=t.shift())}),this.readers.forEach(function(e){void 0===e.columnIndex&&(r=!1)}),r},d.prototype.read=function(r,o){var e,s=this.pointIsArray,n=s?[]:{};return this.readers.forEach(function(e){var t=r[e.columnIndex][o];s?n.push(t):0<e.configName.indexOf(".")?i.prototype.setNestedProperty(n,t,e.configName):n[e.configName]=t}),void 0===this.name&&2<=this.readers.length&&2<=(e=this.getReferencedColumnIndexes()).length&&(e.shift(),e.sort(function(e,t){return e-t}),this.name=r[e.shift()].name),n},d.prototype.addColumnReader=function(e,t){this.readers.push({columnIndex:e,configName:t}),"x"!==t&&"y"!==t&&void 0!==t&&(this.pointIsArray=!1)},d.prototype.getReferencedColumnIndexes=function(){for(var e,t=[],r=0;r<this.readers.length;r+=1)void 0!==(e=this.readers[r]).columnIndex&&t.push(e.columnIndex);return t},d.prototype.hasReader=function(e){for(var t=0;t<this.readers.length;t+=1)if(this.readers[t].configName===e)return!0},d);function d(){this.readers=[],this.pointIsArray=!0,this.name=void 0}return a.Data=o,a.Data}),t(e,"masters/modules/data.src.js",[],function(){})});