"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/treegrid",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){e=e?e._modules:{};function t(e,t,i,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,i))}t(e,"Core/Axis/BrokenAxis.js",[e["Core/Axis/Axis.js"],e["Core/Series/Series.js"],e["Extensions/Stacking.js"],e["Core/Utilities.js"]],function(u,p,h,e){var t,g=e.addEvent,i=e.find,m=e.fireEvent,x=e.isArray,k=e.isNumber,v=e.pick;return function(e){function o(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function r(){var e=this;e.brokenAxis&&e.brokenAxis.hasBreaks&&(e.options.ordinal=!1)}function n(){var e=this,t=e.brokenAxis;if(t&&t.hasBreaks){for(var i=e.tickPositions,o=e.tickPositions.info,r=[],n=0;n<i.length;n++)t.isInAnyBreak(i[n])||r.push(i[n]);e.tickPositions=r,e.tickPositions.info=o}}function s(){var e=this;e.brokenAxis||(e.brokenAxis=new t(e))}function a(){var e=this,t=e.isDirty,i=e.options.connectNulls,o=e.points,r=e.xAxis,n=e.yAxis;if(t)for(var s=o.length;s--;){var a=o[s],l=!(null===a.y&&!1===i)&&(r&&r.brokenAxis&&r.brokenAxis.isInAnyBreak(a.x,!0)||n&&n.brokenAxis&&n.brokenAxis.isInAnyBreak(a.y,!0));a.visible=!l&&!1!==a.options.visible}}function l(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,v(this.pointArrayMap,["y"]))}function d(i,e){var o,r,n,s,t,a=this,l=a.points;i&&i.brokenAxis&&i.brokenAxis.hasBreaks&&(t=i.brokenAxis,e.forEach(function(e){o=t&&t.breakArray||[],r=i.isXAxis?i.min:v(a.options.threshold,i.min),l.forEach(function(t){s=v(t["stack"+e.toUpperCase()],t[e]),o.forEach(function(e){k(r)&&k(s)&&(n=!1,r<e.from&&s>e.to||r>e.from&&s<e.from?n="pointBreak":(r<e.from&&s>e.from&&s<e.to||r>e.from&&s>e.to&&s<e.from)&&(n="pointInBreak"),n&&m(i,n,{point:t,brk:e}))})})}))}function c(){var e=this.currentDataGrouping,e=e&&e.gapSize,t=this.points.slice(),i=this.yAxis,o=this.options.gapSize,r=t.length-1;if(o&&0<r){"value"!==this.options.gapUnit&&(o*=this.basePointRange),e&&o<e&&e>=this.basePointRange&&(o=e);for(var n,s,a=void 0;r--;)a&&!1!==a.visible||(a=t[r+1]),n=t[r],!1!==a.visible&&!1!==n.visible&&(a.x-n.x>o&&(s=(n.x+a.x)/2,t.splice(r+1,0,{isNull:!0,x:s}),i.stacking&&this.options.stacking&&((i.stacking.stacks[this.stackKey][s]=new h(i,i.options.stackLabels,!1,s,this.stack)).total=0)),a=n)}return this.getGraphPath(t)}e.compose=function(e,t){var i;return-1===e.keepProps.indexOf("brokenAxis")&&(e.keepProps.push("brokenAxis"),(i=p.prototype).drawBreaks=d,i.gappedPath=c,g(e,"init",s),g(e,"afterInit",o),g(e,"afterSetTickPositions",n),g(e,"afterSetOptions",r),g(t,"afterGeneratePoints",a),g(t,"afterRender",l)),e};var t=(f.isInBreak=function(e,t){var i=e.repeat||1/0,o=e.from,r=e.to-e.from,i=o<=t?(t-o)%i:i-(o-t)%i,i=e.inclusive?i<=r:i<r&&0!=i;return i},f.lin2Val=function(e){var t=this.brokenAxis,i=t&&t.breakArray;if(!i||!k(e))return e;for(var o,r=e,n=0;n<i.length&&!((o=i[n]).from>=r);n++)(o.to<r||f.isInBreak(o,r))&&(r+=o.len);return r},f.val2Lin=function(e){var t=this.brokenAxis,i=t&&t.breakArray;if(!i||!k(e))return e;for(var o,r=e,n=0;n<i.length;n++)if((o=i[n]).to<=e)r-=o.len;else{if(o.from>=e)break;if(f.isInBreak(o,e)){r-=e-o.from;break}}return r},f.prototype.findBreakAt=function(t,e){return i(e,function(e){return e.from<t&&t<e.to})},f.prototype.isInAnyBreak=function(e,t){var i,o,r,n=this.axis,s=n.options.breaks||[],a=s.length;if(a&&k(e)){for(;a--;)f.isInBreak(s[a],e)&&(i=!0,o=o||v(s[a].showPoints,!n.isXAxis));r=i&&t?i&&!o:i}return r},f.prototype.setBreaks=function(e,t){var p=this,h=p.axis,i=x(e)&&!!e.length;h.isDirty=p.hasBreaks!==i,p.hasBreaks=i,h.options.breaks=h.userOptions.breaks=e,h.forceRedraw=!0,h.series.forEach(function(e){e.isDirty=!0}),i||h.val2lin!==f.val2Lin||(delete h.val2lin,delete h.lin2val),i&&(h.userOptions.ordinal=!1,h.lin2val=f.lin2Val,h.val2lin=f.val2Lin,h.setExtremes=function(e,t,i,o,r){if(p.hasBreaks){for(var n=this.options.breaks||[],s=void 0;s=p.findBreakAt(e,n);)e=s.to;for(;s=p.findBreakAt(t,n);)t=s.from;t<e&&(t=e)}u.prototype.setExtremes.call(this,e,t,i,o,r)},h.setAxisTranslation=function(){var e,t,i,o,r,n,s,a,l,d,c;u.prototype.setAxisTranslation.call(this),p.unitLength=void 0,p.hasBreaks&&(e=h.options.breaks||[],t=[],i=[],o=v(h.pointRangePadding,0),r=0,a=h.userMin||h.min,l=h.userMax||h.max,e.forEach(function(e){s=e.repeat||1/0,k(a)&&k(l)&&(f.isInBreak(e,a)&&(a+=e.to%s-a%s),f.isInBreak(e,l)&&(l-=l%s-e.from%s))}),e.forEach(function(e){if(d=e.from,s=e.repeat||1/0,k(a)&&k(l)){for(;a<d-s;)d-=s;for(;d<a;)d+=s;for(c=d;c<l;c+=s)t.push({value:c,move:"in"}),t.push({value:c+e.to-e.from,move:"out",size:e.breakSize})}}),t.sort(function(e,t){return e.value===t.value?("in"===e.move?0:1)-("in"===t.move?0:1):e.value-t.value}),n=0,d=a,t.forEach(function(e){1===(n+="in"===e.move?1:-1)&&"in"===e.move&&(d=e.value),0===n&&k(d)&&(i.push({from:d,to:e.value,len:e.value-d-(e.size||0)}),r+=e.value-d-(e.size||0))}),p.breakArray=i,k(a)&&k(l)&&k(h.min)&&(p.unitLength=l-a-r+o,m(h,"afterBreaks"),h.staticScale?h.transA=h.staticScale:p.unitLength&&(h.transA*=(l-h.min+o)/p.unitLength),o&&(h.minPixelPadding=h.transA*(h.minPointOffset||0)),h.min=a,h.max=l))}),v(t,!0)&&h.chart.redraw()},f);function f(e){this.hasBreaks=!1,this.axis=e}e.Additions=t}(t=t||{}),t}),t(e,"Core/Axis/GridAxis.js",[e["Core/Axis/Axis.js"],e["Core/Axis/AxisDefaults.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(y,A,P,t){var e,i=P.dateFormats,G=t.addEvent,O=t.defined,C=t.erase,B=t.find,T=t.isArray,w=t.isNumber,I=t.merge,E=t.pick,N=t.timeUnits,S=t.wrap;function L(e){return t.isObject(e,!0)}return function(x){var e;function o(o,e){var r={width:0,height:0};return e.forEach(function(e){var t,i=o[e],e=0;L(i)&&(t=(i=L(i.label)?i.label:{}).getBBox?i.getBBox().height:0,i.textStr&&!w(i.textPxLength)&&(i.textPxLength=i.getBBox().width),e=w(i.textPxLength)?Math.round(i.textPxLength):0,i.textStr&&(e=Math.round(i.getBBox().width)),r.height=Math.max(t,r.height),r.width=Math.max(e,r.width))}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(e=this.treeGrid.mapOfPosToGridNode[-1].height||0,r.width+=this.options.labels.indentation*(e-1)),r}function r(){var e=this.grid;(e&&e.columns||[]).forEach(function(e){e.getOffset()})}function n(e){var t,i,o,r,n,s,a,l,d,c,p,h,f,u,g=this;!0===(g.options.grid||{}).enabled&&(u=g.axisTitle,t=g.height,i=g.horiz,o=g.left,r=g.offset,n=g.opposite,s=g.options,a=g.top,l=g.width,d=g.tickSize(),c=u&&u.getBBox().width,p=s.title.x,h=s.title.y,f=E(s.title.margin,i?5:10),u=g.chart.renderer.fontMetrics(s.title.style.fontSize,u).f,g=(i?a+t:o)+(i?1:-1)*(n?-1:1)*(d?d[0]/2:0)+(g.side===x.Side.bottom?u:0),e.titlePosition.x=i?o-(c||0)/2-f+p:g+(n?l:0)+r+p,e.titlePosition.y=i?g-(n?t:0)+(n?u:-u)/2+r+h:a-f+h)}function s(){var e,t=this,i=t.chart,o=t.options.grid,r=void 0===o?{}:o,n=t.userOptions;if(r.enabled&&((o=(e=t).options).labels.align=E(o.labels.align,"center"),e.categories||(o.showLastLabel=!1),e.labelRotation=0,o.labels.rotation=0),r.columns)for(var s=t.grid.columns=[],a=t.grid.columnIndex=0;++a<r.columns.length;){var l=I(n,r.columns[r.columns.length-a-1],{linkedTo:0,type:"category",scrollbar:{enabled:!1}});delete l.grid.columns;l=new y(t.chart,l);l.grid.isColumn=!0,l.grid.columnIndex=a,C(i.axes,l),C(i[t.coll],l),s.push(l)}}function a(){var e,t,i,o,r,n,s,a=this,l=a.grid,d=a.options;!0===(d.grid||{}).enabled&&(e=a.min||0,t=a.max||0,a.maxLabelDimensions=a.getMaxLabelDimensions(a.ticks,a.tickPositions),a.rightWall&&a.rightWall.destroy(),a.grid&&a.grid.isOuterAxis()&&a.axisLine&&((o=d.lineWidth)&&(r=(s=a.getLinePath(o))[0],i=s[1],o=((a.tickSize("tick")||[1])[0]-1)*(a.side===x.Side.top||a.side===x.Side.left?-1:1),"M"===r[0]&&"L"===i[0]&&(a.horiz?(r[2]+=o,i[2]+=o):(r[1]+=o,i[1]+=o)),!a.horiz&&a.chart.marginRight&&(r=[r,["L",a.left,r[2]||0]],n=["L",a.chart.chartWidth-a.chart.marginRight,a.toPixels(t+a.tickmarkOffset)],n=[["M",i[1]||0,a.toPixels(t+a.tickmarkOffset)],n],a.grid.upperBorder||e%1==0||(a.grid.upperBorder=a.grid.renderBorder(r)),a.grid.upperBorder&&(a.grid.upperBorder.attr({stroke:d.lineColor,"stroke-width":d.lineWidth}),a.grid.upperBorder.animate({d:r})),a.grid.lowerBorder||t%1==0||(a.grid.lowerBorder=a.grid.renderBorder(n)),a.grid.lowerBorder&&(a.grid.lowerBorder.attr({stroke:d.lineColor,"stroke-width":d.lineWidth}),a.grid.lowerBorder.animate({d:n}))),a.grid.axisLineExtra?(a.grid.axisLineExtra.attr({stroke:d.lineColor,"stroke-width":d.lineWidth}),a.grid.axisLineExtra.animate({d:s})):a.grid.axisLineExtra=a.grid.renderBorder(s),a.axisLine[a.showAxis?"show":"hide"](!0))),(l&&l.columns||[]).forEach(function(e){e.render()}),!a.horiz&&a.chart.hasRendered&&(a.scrollbar||a.linkedParent&&a.linkedParent.scrollbar)&&(n=a.tickmarkOffset,d=a.tickPositions[a.tickPositions.length-1],s=a.tickPositions[0],(l=a.ticks[s].label)&&(n<e-s?l.hide():l.show()),(l=a.ticks[d].label)&&(n<d-t?l.hide():l.show()),(l=a.ticks[d].mark)&&(d-t<n&&0<d-t&&a.ticks[d].isLast?l.hide():a.ticks[d-1]&&l.show())))}function l(){var e=this,t=e.tickPositions&&e.tickPositions.info,i=e.options,o=i.grid||{},r=e.userOptions.labels||{};o.enabled&&(e.horiz?(e.series.forEach(function(e){e.options.pointRange=0}),t&&i.dateTimeLabelFormats&&i.labels&&!O(r.align)&&(!1===i.dateTimeLabelFormats[t.unitName].range||1<t.count)&&(i.labels.align="left",O(r.x)||(i.labels.x=3))):"treegrid"!==this.options.type&&e.grid&&e.grid.columns&&(this.minPointOffset=this.tickInterval))}function d(e){var d,t=this.options,i=e.userOptions,e=t&&L(t.grid)?t.grid:{};!0===e.enabled&&(d=I(!0,{className:"highcharts-grid-axis "+(i.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},i),"xAxis"===this.coll&&(O(i.linkedTo)&&!O(i.tickPixelInterval)&&(d.tickPixelInterval=350),O(i.tickPixelInterval)||!O(i.linkedTo)||O(i.tickPositioner)||O(i.tickInterval)||(d.tickPositioner=function(e,t){var i=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(i){for(var o=d.units||[],r=void 0,n=void 0,s=void 0,a=0;a<o.length;a++)if(o[a][0]===i.unitName){r=a;break}o[r+1]?(s=o[r+1][0],n=(o[r+1][1]||[1])[0]):"year"===i.unitName&&(s="year",n=10*i.count);var l=N[s];return this.tickInterval=l*n,this.getTimeTicks({unitRange:l,count:n,unitName:s},e,t,this.options.startOfWeek)}})),I(!0,this.options,d),this.horiz&&(t.minPadding=E(i.minPadding,0),t.maxPadding=E(i.maxPadding,0)),w(t.grid.borderWidth)&&(t.tickWidth=t.lineWidth=e.borderWidth))}function c(e){var t=e.userOptions,e=t&&t.grid||{},t=e.columns;e.enabled&&t&&I(!0,this.options,t[t.length-1])}function p(){(this.grid.columns||[]).forEach(function(e){e.setScale()})}function h(e){var t=A.defaultLeftAxisOptions,i=this.horiz,o=this.maxLabelDimensions,r=this.options.grid,r=void 0===r?{}:r;r.enabled&&o&&(t=2*Math.abs(t.labels.x),o=i?r.cellHeight||t+o.height:t+o.width,T(e.tickSize)?e.tickSize[0]=o:e.tickSize=[o,0])}function f(){this.axes.forEach(function(e){(e.grid&&e.grid.columns||[]).forEach(function(e){e.setAxisSize(),e.setAxisTranslation()})})}function u(t){var e=this.grid;(e.columns||[]).forEach(function(e){e.destroy(t.keepEvents)}),e.columns=void 0}function g(e){var t=e.userOptions||{},e=t.grid||{};e.enabled&&O(e.borderColor)&&(t.tickColor=t.lineColor=e.borderColor),this.grid||(this.grid=new i(this))}function m(e){var t,i,o,r,n=this.label,s=this.axis,a=s.reversed,l=s.chart,d=s.options.grid||{},c=s.options.labels,p=c.align,h=x.Side[s.side],f=e.tickmarkOffset,u=s.tickPositions,g=this.pos-f,m=w(u[e.index+1])?u[e.index+1]-f:(s.max||0)+f,u=s.tickSize("tick"),f=u?u[0]:0,u=u?u[1]/2:0;!0===d.enabled&&("top"===h?i=(t=s.top+s.offset)-f:"bottom"===h?t=(i=l.chartHeight-s.bottom+s.offset)+f:(t=s.top+s.len-(s.translate(a?m:g)||0),i=s.top+s.len-(s.translate(a?g:m)||0)),"right"===h?r=(o=l.chartWidth-s.right+s.offset)+f:"left"===h?o=(r=s.left+s.offset)-f:(o=Math.round(s.left+(s.translate(a?m:g)||0))-u,r=Math.min(Math.round(s.left+(s.translate(a?g:m)||0))-u,s.left+s.len)),this.slotWidth=r-o,e.pos.x="left"===p?o:"right"===p?r:o+(r-o)/2,e.pos.y=i+(t-i)/2,l=l.renderer.fontMetrics(c.style.fontSize,n&&n.element),n=n?n.getBBox().height:0,c.useHTML?e.pos.y+=l.b+-n/2:(n=Math.round(n/l.h),e.pos.y+=(l.b-(l.h-l.f))/2+-((n-1)*l.h)/2),e.pos.x+=s.horiz&&c.x||0)}function k(e){var t,i,o,r,n,s=e.axis,a=e.value;s.options.grid&&s.options.grid.enabled&&(r=s.tickPositions,t=(s.linkedParent||s).series[0],i=a===r[0],o=a===r[r.length-1],n=void 0,(r=t&&B(t.options.data,function(e){return e[s.isXAxis?"x":"y"]===a}))&&t.is("gantt")&&(n=I(r),P.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(n)),e.isFirst=i,e.isLast=o,e.point=n)}function v(){var e=this,t=e.options,i=t.grid||{},o=e.categories,r=e.tickPositions,n=r[0],s=r[r.length-1],a=e.linkedParent&&e.linkedParent.min,l=e.linkedParent&&e.linkedParent.max,d=a||e.min,a=l||e.max,l=e.tickInterval,s=a<s&&s-l<a;!0!==i.enabled||o||!e.horiz&&!e.isLinked||(n<d&&d<n+l&&!t.startOnTick&&(r[0]=d),s&&!t.endOnTick&&(r[r.length-1]=a))}function b(e){var t=this.options.grid;return!0===(void 0===t?{}:t).enabled&&this.categories?this.tickInterval:e.apply(this,(e=arguments,Array.prototype.slice.call(e,1)))}(e=x.Side||(x.Side={}))[e.top=0]="top",e[e.right=1]="right",e[e.bottom=2]="bottom",e[e.left=3]="left",x.compose=function(e,t,i){return-1===e.keepProps.indexOf("grid")&&(e.keepProps.push("grid"),e.prototype.getMaxLabelDimensions=o,S(e.prototype,"unsquish",b),G(e,"init",g),G(e,"afterGetOffset",r),G(e,"afterGetTitlePosition",n),G(e,"afterInit",s),G(e,"afterRender",a),G(e,"afterSetAxisTranslation",l),G(e,"afterSetOptions",d),G(e,"afterSetOptions",c),G(e,"afterSetScale",p),G(e,"afterTickSize",h),G(e,"trimTicks",v),G(e,"destroy",u)),G(t,"afterSetChartSize",f),G(i,"afterGetLabelPosition",m),G(i,"labelFormat",k),e};var i=(t.prototype.isOuterAxis=function(){var i=this.axis,e=i.chart,t=i.grid.columnIndex,o=i.linkedParent&&i.linkedParent.grid.columns||i.grid.columns,r=t?i.linkedParent:i,n=-1,s=0;return e[i.coll].forEach(function(e,t){e.side!==i.side||e.options.isInternal||(s=t,e===r&&(n=t))}),s===n&&(!w(t)||o.length===t)},t.prototype.renderBorder=function(e){var t=this.axis,i=t.chart.renderer,o=t.options,t=i.path(e).addClass("highcharts-axis-line").add(t.axisBorder);return i.styledMode||t.attr({stroke:o.lineColor,"stroke-width":o.lineWidth,zIndex:7}),t},t);function t(e){this.axis=e}x.Additions=i}(e=e||{}),i.E=function(e){return this.dateFormat("%a",e,!0).charAt(0)},i.W=function(e){var t=new this.Date(e),i=(this.get("Day",t)+6)%7,e=new this.Date(t.valueOf());this.set("Date",e,this.get("Date",t)-i+3);i=new this.Date(this.get("FullYear",e),0,1);return 4!==this.get("Day",i)&&(this.set("Month",t,0),this.set("Date",t,1+(11-this.get("Day",i))%7)),(1+Math.floor((e.valueOf()-i.valueOf())/6048e5)).toString()},e}),t(e,"Gantt/Tree.js",[e["Core/Utilities.js"]],function(e){function o(e,o){var r=e.reduce(function(e,t){var i=u(t.parent,"");return void 0===e[i]&&(e[i]=[]),e[i].push(t),e},{});return Object.keys(r).forEach(function(e,t){var i=r[e];""!==e&&-1===o.indexOf(e)&&(i.forEach(function(e){t[""].push(e)}),delete t[e])}),r}var h=e.extend,f=e.isNumber,u=e.pick,g=function(o,e,r,t,n,s){var a,l,d=0,c=0,i=s&&s.after,p=s&&s.before,e={data:t,depth:r-1,id:o,level:r,parent:e};return"function"==typeof p&&p(e,s),p=(n[o]||[]).map(function(e){var t=g(e.id,o,r+1,e,n,s),i=e.start,e=!0===e.milestone?i:e.end;return a=!f(a)||i<a?i:a,l=!f(l)||l<e?e:l,d=d+1+t.descendants,c=Math.max(t.height+1,c),t}),t&&(t.start=u(t.start,a),t.end=u(t.end,l)),h(e,{children:p,descendants:d,height:c}),"function"==typeof i&&i(e,s),e};return{getListOfParents:o,getNode:g,getTree:function(e,t){var i=e.map(function(e){return e.id}),i=o(e,i);return g("",null,1,null,i,t)}}}),t(e,"Core/Axis/TreeGridTick.js",[e["Core/Color/Palette.js"],e["Core/Utilities.js"]],function(x,e){var t,k=e.addEvent,v=e.isObject,b=e.isNumber,y=e.pick,a=e.wrap;return function(e){var t=!1;function i(){this.treeGrid||(this.treeGrid=new n(this))}function o(e,t,i,o,r,n,s,a,l){var d=this,c=y(d.options&&d.options.labels,n),p=d.pos,h=d.axis,n="treegrid"===h.options.type,l=e.apply(d,[t,i,o,r,c,s,a,l]);return n&&(n=c&&v(c.symbol,!0)?c.symbol:{},c=c&&b(c.indentation)?c.indentation:0,p=(p=(h=h.treeGrid.mapOfPosToGridNode)&&h[p])&&p.depth||1,l.x+=(n.width||0)+2*(n.padding||0)+(p-1)*c),l}function r(e){var t,i,o=this,r=o.pos,n=o.axis,s=o.label,a=n.treeGrid.mapOfPosToGridNode,l=n.options,d=y(o.options&&o.options.labels,l&&l.labels),c=d&&v(d.symbol,!0)?d.symbol:{},p=a&&a[r],h=p&&p.depth,f="treegrid"===l.type,u=-1<n.tickPositions.indexOf(r),g="highcharts-treegrid-node-",m=n.chart.styledMode;f&&p&&s&&s.element&&s.addClass(g+"level-"+h),e.apply(o,Array.prototype.slice.call(arguments,1)),f&&s&&s.element&&p&&p.descendants&&0<p.descendants&&(t=n.treeGrid.isCollapsed(p),i=o,a={color:!m&&s.styles&&s.styles.color||"",collapsed:t,group:s.parentGroup,options:c,renderer:s.renderer,show:u,xy:s.xy},l=i.treeGrid,r=!l.labelIcon,h=a.renderer,e=a.xy,f=a.options,n=f.width||0,p=f.height||0,c={x:e.x-n/2-(f.padding||0),y:e.y-p/2},u=a.collapsed?90:180,i=a.show&&b(c.y),(e=l.labelIcon)||(l.labelIcon=e=h.path(h.symbols[f.type](f.x||0,f.y||0,n,p)).addClass("highcharts-label-icon").add(a.group)),e.attr({y:i?0:-9999}),h.styledMode||e.attr({cursor:"pointer",fill:y(a.color,x.neutralColor60),"stroke-width":1,stroke:f.lineColor,strokeWidth:f.lineWidth||0}),e[r?"attr":"animate"]({translateX:c.x,translateY:c.y,rotation:u}),u=g+(t?"expanded":"collapsed"),s.addClass(g+(t?"collapsed":"expanded")).removeClass(u),m||s.css({cursor:"pointer"}),[s,o.treeGrid.labelIcon].forEach(function(e){e&&!e.attachedTreeGridEvents&&(k(e.element,"mouseover",function(){var e;(e=s).addClass("highcharts-treegrid-node-active"),e.renderer.styledMode||e.css({textDecoration:"underline"})}),k(e.element,"mouseout",function(){var e,t;e=s,t=v((t=d).style)?t.style:{},e.removeClass("highcharts-treegrid-node-active"),e.renderer.styledMode||e.css({textDecoration:t.textDecoration})}),k(e.element,"click",function(){o.treeGrid.toggleCollapse()}),e.attachedTreeGridEvents=!0)}))}e.compose=function(e){t||(k(e,"init",i),a(e.prototype,"getLabelPosition",o),a(e.prototype,"renderLabel",r),e.prototype.collapse=function(e){this.treeGrid.collapse(e)},e.prototype.expand=function(e){this.treeGrid.expand(e)},e.prototype.toggleCollapse=function(e){this.treeGrid.toggleCollapse(e)},t=!0)};var n=(s.prototype.collapse=function(e){var t=this.tick,i=t.axis,o=i.brokenAxis;o&&i.treeGrid.mapOfPosToGridNode&&(t=t.pos,t=i.treeGrid.mapOfPosToGridNode[t],t=i.treeGrid.collapse(t),o.setBreaks(t,y(e,!0)))},s.prototype.expand=function(e){var t=this.tick,i=t.axis,o=i.brokenAxis;o&&i.treeGrid.mapOfPosToGridNode&&(t=t.pos,t=i.treeGrid.mapOfPosToGridNode[t],t=i.treeGrid.expand(t),o.setBreaks(t,y(e,!0)))},s.prototype.toggleCollapse=function(e){var t=this.tick,i=t.axis,o=i.brokenAxis;o&&i.treeGrid.mapOfPosToGridNode&&(t=t.pos,t=i.treeGrid.mapOfPosToGridNode[t],t=i.treeGrid.toggleCollapse(t),o.setBreaks(t,y(e,!0)))},s);function s(e){this.tick=e}e.Additions=n}(t=t||{}),t}),t(e,"Mixins/TreeSeries.js",[e["Core/Color/Color.js"],e["Core/Utilities.js"]],function(x,e){function p(e){return"boolean"==typeof e}var h=e.extend,l=e.isArray,d=e.isNumber,c=e.isObject,f=e.merge,k=e.pick;return{getColor:function(e,t){var i,o,r,n,s,a,l=t.index,d=t.mapOptionsToLevel,c=t.parentColor,p=t.parentColorIndex,h=t.series,f=t.colors,u=t.siblings,g=h.points,m=h.chart.options.chart;return e&&(g=g[e.i],i=d[e.level]||{},g&&i.colorByPoint&&(n=g.index%(f?f.length:m.colorCount),o=f&&f[n]),h.chart.styledMode||(r=k(g&&g.options.color,i&&i.color,o,c&&(s=c,(a=i&&i.colorVariation)&&"brightness"===a.key?x.parse(s).brighten(a.to*(l/u)).get():s),h.color)),n=k(g&&g.options.colorIndex,i&&i.colorIndex,n,p,t.colorIndex)),{color:r,colorIndex:n}},getLevelOptions:function(e){var r,t,i,n,o,s,a=null;if(c(e))for(a={},n=d(e.from)?e.from:1,s=e.levels,t={},r=c(e.defaults)?e.defaults:{},l(s)&&(t=s.reduce(function(e,t){var i,o;return c(t)&&d(t.level)&&(o=f({},t),i=(p(o.levelIsConstant)?o:r).levelIsConstant,delete o.levelIsConstant,delete o.level,i=t.level+(i?0:n-1),c(e[i])?h(e[i],o):e[i]=o),e},{})),o=d(e.to)?e.to:1,i=0;i<=o;i++)a[i]=f({},r,c(t[i])?t[i]:{});return a},setTreeValues:function o(r,n){var e=n.before,t=n.idRoot,i=n.mapIdToNode[t],s=!p(n.levelIsConstant)||n.levelIsConstant,a=n.points[r.i],l=a&&a.options||{},d=0,c=[];return r.levelDynamic=r.level-(s?0:i.level),r.name=k(a&&a.name,""),r.visible=t===r.id||!!p(n.visible)&&n.visible,(r="function"==typeof e?e(r,n):r).children.forEach(function(e,t){var i=h({},n);h(i,{index:t,siblings:r.children.length,visible:r.visible}),e=o(e,i),c.push(e),e.visible&&(d+=e.val)}),r.visible=0<d||r.visible,l=k(l.value,d),r.children=c,r.childrenTotal=d,r.isLeaf=r.visible&&!d,r.val=l,r},updateRootId:function(e){var t;return c(e)&&(t=c(e.options)?e.options:{},t=k(e.rootNode,t.rootId,""),c(e.userOptions)&&(e.userOptions.rootId=t),e.rootNode=t),t}}}),t(e,"Core/Axis/TreeGridAxis.js",[e["Core/Axis/BrokenAxis.js"],e["Core/Axis/GridAxis.js"],e["Gantt/Tree.js"],e["Core/Axis/TreeGridTick.js"],e["Mixins/TreeSeries.js"],e["Core/Utilities.js"]],function(h,f,u,g,e,t){var i,m=e.getLevelOptions,x=t.addEvent,k=t.find,o=t.fireEvent,v=t.isArray,b=t.isObject,y=t.isString,A=t.merge,P=t.pick,G=t.wrap;return function(e){var l;function r(e,t){var i=e.collapseEnd||0,e=e.collapseStart||0;return t<=i&&(e-=.5),{from:e,to:i,showPoints:!1}}function d(e,t,i){var a,l,s=[],o=[],d={},c="boolean"==typeof t&&t,p={},h=-1,t={after:function(e){var e=p[e.pos],t=0,i=0;e.children.forEach(function(e){i+=(e.descendants||0)+1,t=Math.max((e.height||0)+1,t)}),e.descendants=i,e.height=t,e.collapsed&&o.push(e)},before:function(e){var t,i,o=b(e.data,!0)?e.data:{},r=y(o.name)?o.name:"",n=d[e.parent],n=b(n,!0)?p[n.pos]:null;c&&b(n,!0)&&(t=k(n.children,function(e){return e.name===r}))?(i=t.pos,t.nodes.push(e)):i=h++,p[i]||(p[i]=t={depth:n?n.depth+1:0,name:r,id:o.id,nodes:[e],children:[],pos:i},-1!==i&&s.push(r),b(n,!0)&&n.children.push(t)),y(e.id)&&(d[e.id]=e),t&&!0===o.collapsed&&(t.collapsed=!0),e.pos=i}},t=u.getTree(e,t);return a=i,p=(l=function(e,i,t){var o=e.nodes,r=i+(-1===i?0:a-1),n=(r-i)/2,s=i+n;return o.forEach(function(e){var t=e.data;b(t,!0)&&(t.y=i+(t.seriesIndex||0),delete t.seriesIndex),e.pos=s}),(t[s]=e).pos=s,e.tickmarkOffset=.5+n,e.collapseStart=r+.5,e.children.forEach(function(e){l(e,r+1,t),r=(e.collapseEnd||0)-.5}),e.collapseEnd=r+.5,t})(p[-1],-1,{}),{categories:s,mapOfIdToNode:d,mapOfPosToGridNode:p,collapsedNodes:o,tree:t}}function n(l){l.target.axes.filter(function(e){return"treegrid"===e.options.type}).forEach(function(e){var i,t=e.options||{},o=t.labels,r=t.uniqueNames,n=t.max,t=!e.treeGrid.mapOfPosToGridNode||e.series.some(function(e){return!e.hasRendered||e.isDirtyData||e.isDirty}),s=0;if(t){if(i=e.series.reduce(function(t,i){return i.visible&&((i.options.data||[]).forEach(function(e){i.options.keys&&i.options.keys.length&&(e=i.pointClass.prototype.optionsToObject.call({series:i},e),i.pointClass.setGanttPointAliases(e)),b(e,!0)&&(e.seriesIndex=s,t.push(e))}),!0===r&&s++),t},[]),n&&i.length<n)for(var a=i.length;a<=n;a++)i.push({name:a+"​"});t=d(i,r||!1,!0===r?s:1),e.categories=t.categories,e.treeGrid.mapOfPosToGridNode=t.mapOfPosToGridNode,e.hasNames=!0,e.treeGrid.tree=t.tree,e.series.forEach(function(e){var t=(e.options.data||[]).map(function(t){return v(t)&&e.options.keys&&e.options.keys.length&&i.forEach(function(e){0<=t.indexOf(e.x)&&0<=t.indexOf(e.x2)&&(t=e)}),b(t,!0)?A(t):t});e.visible&&e.setData(t,!1)}),e.treeGrid.mapOptionsToLevel=m({defaults:o,from:1,levels:o&&o.levels,to:e.treeGrid.tree&&e.treeGrid.tree.height}),"beforeRender"===l.type&&(e.treeGrid.collapsedNodes=t.collapsedNodes)}})}function s(e,t){var i,o=this,r=o.treeGrid.mapOptionsToLevel||{},n="treegrid"===o.options.type,s=o.ticks,a=s[t];n&&o.treeGrid.mapOfPosToGridNode?((r=r[(n=o.treeGrid.mapOfPosToGridNode[t]).depth])&&(i={labels:r}),!a&&l?s[t]=a=new l(o,t,void 0,void 0,{category:n.name,tickmarkOffset:n.tickmarkOffset,options:i}):(a.parameters.category=n.name,a.options=i,a.addLabel())):e.apply(o,Array.prototype.slice.call(arguments,1))}function a(e,t,i){var o=this,r="treegrid"===i.type;o.treeGrid||(o.treeGrid=new p(o)),r&&(x(t,"beforeRender",n),x(t,"beforeRedraw",n),x(t,"addSeries",function(e){e.options.data&&(e=d(e.options.data,i.uniqueNames||!1,1),o.treeGrid.collapsedNodes=(o.treeGrid.collapsedNodes||[]).concat(e.collapsedNodes))}),x(o,"foundExtremes",function(){o.treeGrid.collapsedNodes&&o.treeGrid.collapsedNodes.forEach(function(t){var e=o.treeGrid.collapse(t);o.brokenAxis&&(o.brokenAxis.setBreaks(e,!1),o.treeGrid.collapsedNodes&&(o.treeGrid.collapsedNodes=o.treeGrid.collapsedNodes.filter(function(e){return t.collapseStart!==e.collapseStart||t.collapseEnd!==e.collapseEnd})))})}),x(o,"afterBreaks",function(){"yAxis"===o.coll&&!o.staticScale&&o.chart.options.chart.height&&(o.isDirty=!0)}),i=A({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},i,{reversed:!0,grid:{columns:void 0}})),e.apply(o,[t,i]),r&&(o.hasNames=!0,o.options.showLastLabel=!0)}function c(e){var t=this,i=t.options;"treegrid"===i.type?(t.min=P(t.userMin,i.min,t.dataMin),t.max=P(t.userMax,i.max,t.dataMax),o(t,"foundExtremes"),t.setAxisTranslation(),t.tickmarkOffset=.5,t.tickInterval=1,t.tickPositions=t.treeGrid.mapOfPosToGridNode?t.treeGrid.getTickPositions():[]):e.apply(t,Array.prototype.slice.call(arguments,1))}e.compose=function(e,t,i,o){return-1===e.keepProps.indexOf("treeGrid")&&(e.keepProps.push("treeGrid"),l=o,G(e.prototype,"generateTick",s),G(e.prototype,"init",a),G(e.prototype,"setTickInterval",c),e.prototype.utils={getNode:u.getNode},f.compose(e,t,o),h.compose(e,i),g.compose(o)),e};var p=(t.prototype.setCollapsedStatus=function(o){var e=this.axis,r=e.chart;e.series.forEach(function(e){var t,i=e.options.data;o.id&&i&&(t=r.get(o.id),e=i[e.data.indexOf(t)],t&&e&&(t.collapsed=o.collapsed,e.collapsed=o.collapsed))})},t.prototype.collapse=function(e){var t=this.axis,i=t.options.breaks||[],o=r(e,t.max);return i.push(o),e.collapsed=!0,t.treeGrid.setCollapsedStatus(e),i},t.prototype.expand=function(e){var t=this.axis,i=t.options.breaks||[],o=r(e,t.max);return e.collapsed=!1,t.treeGrid.setCollapsedStatus(e),i.reduce(function(e,t){return t.to===o.to&&t.from===o.from||e.push(t),e},[])},t.prototype.getTickPositions=function(){var i=this.axis,o=Math.floor(i.min/i.tickInterval)*i.tickInterval,r=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(e,t){t=+t;return!(o<=t&&t<=r)||i.brokenAxis&&i.brokenAxis.isInAnyBreak(t)||e.push(t),e},[])},t.prototype.isCollapsed=function(e){var t=this.axis,i=t.options.breaks||[],o=r(e,t.max);return i.some(function(e){return e.from===o.from&&e.to===o.to})},t.prototype.toggleCollapse=function(e){return this.isCollapsed(e)?this.expand(e):this.collapse(e)},t);function t(e){this.axis=e}e.Additions=p}(i=i||{}),i}),t(e,"masters/modules/treegrid.src.js",[e["Core/Globals.js"],e["Core/Axis/TreeGridAxis.js"]],function(e,t){t.compose(e.Axis,e.Chart,e.Series,e.Tick)})});