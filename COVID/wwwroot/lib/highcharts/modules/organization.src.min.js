"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/organization",["highcharts","highcharts/modules/sankey"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){t=t?t._modules:{};function e(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o))}e(t,"Series/Organization/OrganizationPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(t){var i,e,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),t=t.seriesTypes.sankey.prototype.pointClass;function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.fromNode=void 0,t.linksFrom=void 0,t.linksTo=void 0,t.options=void 0,t.series=void 0,t.toNode=void 0,t}return o(n,e=t),n.prototype.getSum=function(){return 1},n}),e(t,"Series/Organization/OrganizationSeries.js",[t["Series/Organization/OrganizationPoint.js"],t["Core/Color/Palette.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o,i){var n,r,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),h=o.seriesTypes.sankey,a=i.css,p=i.extend,d=i.merge,l=i.pick,u=i.wrap,e=(s(g,r=h),g.curvedPath=function(t,e){for(var o=[],i=0;i<t.length;i++){var n,r,s,a,h,p,d=t[i][1],l=t[i][2];"number"==typeof d&&"number"==typeof l&&(0===i?o.push(["M",d,l]):i!==t.length-1&&e?(p=t[i-1],h=t[i+1],p&&h&&(n=p[1],r=p[2],s=h[1],a=h[2],"number"==typeof n&&"number"==typeof s&&"number"==typeof r&&"number"==typeof a&&n!==s&&r!==a&&(p=r<a?1:-1,o.push(["L",d-(h=n<s?1:-1)*Math.min(Math.abs(d-n),e),l-p*Math.min(Math.abs(l-r),e)],["C",d,l,d,l,d+h*Math.min(Math.abs(d-s),e),l+p*Math.min(Math.abs(l-a),e)])))):o.push(["L",d,l]))}return o},g.prototype.alignDataLabel=function(t,e,o){var i,n;o.useHTML&&(i=t.shapeArgs.width,n=t.shapeArgs.height,o=this.options.borderWidth+2*this.options.dataLabels.padding,this.chart.inverted&&(i=n,n=t.shapeArgs.width),n-=o,i-=o,(o=e.text)&&(a(o.element.parentNode,{width:i+"px",height:n+"px"}),a(o.element,{left:0,top:0,width:"100%",height:"100%",overflow:"hidden"})),e.getBBox=function(){return{width:i,height:n}},e.width=i,e.height=n),r.prototype.alignDataLabel.apply(this,arguments)},g.prototype.createNode=function(t){t=r.prototype.createNode.call(this,t);return t.getSum=function(){return 1},t},g.prototype.createNodeColumn=function(){var t=r.prototype.createNodeColumn.call(this);return u(t,"offset",function(t,e,o){o=t.call(this,e,o);return e.hangsFrom?{absoluteTop:e.hangsFrom.nodeY}:o}),t},g.prototype.pointAttribs=function(t,e){var o=this,i=h.prototype.pointAttribs.call(o,t,e),n=(t.isNode?t:t.fromNode).level,r=o.mapOptionsToLevel[n||0]||{},s=t.options,a=r.states&&r.states[e]||{},e=["borderRadius","linkColor","linkLineWidth"].reduce(function(t,e){return t[e]=l(a[e],s[e],r[e],o.options[e]),t},{});return t.isNode?e.borderRadius&&(i.r=e.borderRadius):(i.stroke=e.linkColor,i["stroke-width"]=e.linkLineWidth,delete i.fill),i},g.prototype.translateLink=function(t){var e=t.fromNode,o=t.toNode,i=Math.round(this.options.linkLineWidth)%2/2,n=Math.floor(e.shapeArgs.x+e.shapeArgs.width)+i,r=Math.floor(e.shapeArgs.y+e.shapeArgs.height/2)+i,s=Math.floor(o.shapeArgs.x)+i,a=Math.floor(o.shapeArgs.y+o.shapeArgs.height/2)+i,h=this.options.hangingIndent,p=o.options.offset,d=/%$/.test(p)&&parseInt(p,10),l=this.chart.inverted;l&&(n-=e.shapeArgs.width,s+=o.shapeArgs.width),p=Math.floor(s+(l?1:-1)*(this.colDistance-this.nodeWidth)/2)+i,d&&(50<=d||d<=-50)&&(p=s=Math.floor(s+(l?-.5:.5)*o.shapeArgs.width)+i,a=o.shapeArgs.y,0<d&&(a+=o.shapeArgs.height)),o.hangsFrom===e&&(this.chart.inverted?(r=Math.floor(e.shapeArgs.y+e.shapeArgs.height-h/2)+i,a=o.shapeArgs.y+o.shapeArgs.height):r=Math.floor(e.shapeArgs.y+h/2)+i,p=s=Math.floor(o.shapeArgs.x+o.shapeArgs.width/2)+i),t.plotY=1,t.shapeType="path",t.shapeArgs={d:g.curvedPath([["M",n,r],["L",p,r],["L",p,a],["L",s,a]],this.options.linkRadius)}},g.prototype.translateNode=function(t,e){h.prototype.translateNode.call(this,t,e),t.hangsFrom&&(t.shapeArgs.height-=this.options.hangingIndent,this.chart.inverted||(t.shapeArgs.y+=this.options.hangingIndent)),t.nodeHeight=this.chart.inverted?t.shapeArgs.width:t.shapeArgs.height},g.defaultOptions=d(h.defaultOptions,{borderColor:e.neutralColor60,borderRadius:3,linkRadius:10,borderWidth:1,dataLabels:{nodeFormatter:function(){var t={width:"100%",height:"100%",display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"},e={"max-height":"100%","border-radius":"50%"},o={width:"100%",padding:0,"text-align":"center","white-space":"normal"};function i(o){return Object.keys(o).reduce(function(t,e){return t+e+":"+o[e]+";"},'style="')+'"'}this.point.image&&(e["max-width"]="30%",o.width="70%"),this.series.chart.renderer.forExport&&(t.display="block",o.position="absolute",o.left=this.point.image?"30%":0,o.top=0);t="<div "+i(t)+">";return this.point.image&&(t+='<img src="'+this.point.image+'" '+i(e)+">"),t+="<div "+i(o)+">",this.point.name&&(t+="<h4 "+i({margin:0})+">"+this.point.name+"</h4>"),this.point.title&&(t+="<p "+i({margin:0})+">"+(this.point.title||"")+"</p>"),this.point.description&&(t+="<p "+i({opacity:.75,margin:"5px"})+">"+this.point.description+"</p>"),t+="</div></div>"},style:{fontWeight:"normal",fontSize:"13px"},useHTML:!0},hangingIndent:20,linkColor:e.neutralColor60,linkLineWidth:1,nodeWidth:50,tooltip:{nodeFormat:"{point.name}<br>{point.title}<br>{point.description}"}}),g);function g(){var t=null!==r&&r.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return p(e.prototype,{pointClass:t}),o.registerSeriesType("organization",e),e}),e(t,"masters/modules/organization.src.js",[],function(){})});