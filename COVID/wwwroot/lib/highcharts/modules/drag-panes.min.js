"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/drag-panes",["highcharts","highcharts/modules/stock"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o))}e(t=t?t._modules:{},"Extensions/DragPanes.js",[t["Core/Globals.js"],t["Core/Axis/Axis.js"],t["Core/Axis/AxisDefaults.js"],t["Core/Color/Palette.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],function(t,e,o,i,s,n){var a=t.hasTouch,h=n.addEvent,x=n.clamp,y=n.isNumber,r=n.merge,c=n.objectEach,g=n.relativeLength;n=n.wrap;var p=(u.prototype.init=function(t,e){this.axis=t,this.options=t.options.resize,this.render(),e||this.addMouseEvents()},u.prototype.render=function(){var t=this.axis,e=t.chart,o=this.options,i=o.x||0,s=o.y,n=x(t.top+t.height+s,e.plotTop,e.plotTop+e.plotHeight),r={};e.styledMode||(r={cursor:o.cursor,stroke:o.lineColor,"stroke-width":o.lineWidth,dashstyle:o.lineDashStyle}),this.lastPos=n-s,this.controlLine||(this.controlLine=e.renderer.path().addClass("highcharts-axis-resizer")),this.controlLine.add(t.axisGroup),o=e.styledMode?this.controlLine.strokeWidth():o.lineWidth,r.d=e.renderer.crispLine([["M",t.left+i,n],["L",t.left+t.width+i,n]],o),this.controlLine.attr(r)},u.prototype.addMouseEvents=function(){var t,e,o,i=this,s=i.controlLine.element,n=i.axis.chart.container,r=[];i.mouseMoveHandler=t=function(t){i.onMouseMove(t)},i.mouseUpHandler=e=function(t){i.onMouseUp(t)},i.mouseDownHandler=o=function(t){i.onMouseDown(t)},r.push(h(n,"mousemove",t),h(n.ownerDocument,"mouseup",e),h(s,"mousedown",o)),a&&r.push(h(n,"touchmove",t),h(n.ownerDocument,"touchend",e),h(s,"touchstart",o)),i.eventsToUnbind=r},u.prototype.onMouseMove=function(t){t.touches&&0===t.touches[0].pageX||!this.grabbed||(this.hasDragged=!0,this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y))},u.prototype.onMouseUp=function(t){this.hasDragged&&this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y),this.grabbed=this.hasDragged=this.axis.chart.activeResizer=null},u.prototype.onMouseDown=function(t){this.axis.chart.pointer.reset(!1,0),this.grabbed=this.axis.chart.activeResizer=!0},u.prototype.updateAxes=function(r){var a=this,h=a.axis.chart,t=0===(e=a.options.controlledAxis).next.length?[h.yAxis.indexOf(a.axis)+1]:e.next,e=[a.axis].concat(e.prev),c=[],p=!1,u=h.plotTop,l=h.plotHeight,d=u+l,f=(r=x(r,u,d))-a.lastPos;f*f<1||([e,t].forEach(function(t,n){t.forEach(function(t,e){var o,i,s=(t=y(t)?h.yAxis[t]:n||e?h.get(t):t)&&t.options;s&&"navigator-y-axis"!==s.id&&(e=t.top,o=Math.round(g(s.minLength,l)),i=Math.round(g(s.maxLength,l)),n?(f=r-a.lastPos,s=Math.round(x(t.len-f,o,i)),e=t.top+f,d<e+s&&(r+=i=d-s-e,e+=i),e<u&&(d<(e=u)+s&&(s=l)),s===o&&(p=!0),c.push({axis:t,options:{top:100*(e-u)/l+"%",height:100*s/l+"%"}})):((s=Math.round(x(r-e,o,i)))===i&&(p=!0),r=e+s,c.push({axis:t,options:{height:100*s/l+"%"}})))})}),p||(c.forEach(function(t){t.axis.update(t.options,!1)}),h.redraw(!1)))},u.prototype.destroy=function(){var o=this;delete o.axis.resizer,this.eventsToUnbind&&this.eventsToUnbind.forEach(function(t){t()}),o.controlLine.destroy(),c(o,function(t,e){o[e]=null})},u.resizerOptions={minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:!1,cursor:"ns-resize",lineColor:i.neutralColor20,lineDashStyle:"Solid",lineWidth:4,x:0,y:0}},u);function u(t){this.options=this.lastPos=this.controlLine=this.axis=void 0,this.init(t)}return e.keepProps.push("resizer"),h(e,"afterRender",function(){var t=this.resizer,e=this.options.resize;e&&(e=!1!==e.enabled,t?e?t.init(this,!0):t.destroy():e&&(this.resizer=new p(this)))}),h(e,"destroy",function(t){!t.keepEvents&&this.resizer&&this.resizer.destroy()}),n(s.prototype,"runPointActions",function(t){this.chart.activeResizer||t.apply(this,Array.prototype.slice.call(arguments,1))}),n(s.prototype,"drag",function(t){this.chart.activeResizer||t.apply(this,Array.prototype.slice.call(arguments,1))}),r(!0,o.defaultYAxisOptions,p.resizerOptions),t.AxisResizer=p,t.AxisResizer}),e(t,"masters/modules/drag-panes.src.js",[],function(){})});