"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/stock",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){t=t?t._modules:{};function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i))}e(t,"Core/Axis/NavigatorAxis.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){var s=t.isTouchDevice,i=e.addEvent,l=e.correctFloat,h=e.defined,p=e.isNumber,d=e.pick,o=(r.prototype.destroy=function(){this.axis=void 0},r.prototype.toFixedRange=function(t,e,i,o){var r=this.axis,n=r.chart,a=n&&n.fixedRange,n=(r.pointRange||0)/2,t=d(i,r.translate(t,!0,!r.horiz)),e=d(o,r.translate(e,!0,!r.horiz)),r=a&&(e-t)/a;return h(i)||(t=l(t+n)),h(o)||(e=l(e-n)),.7<r&&r<1.3&&(o?t=e-a:e=t+a),{min:t=!p(t)||!p(e)?e=void 0:t,max:e}},r);function r(t){this.axis=t}function n(){}return n.compose=function(t){t.keepProps.push("navigatorAxis"),i(t,"init",function(){var t=this;t.navigatorAxis||(t.navigatorAxis=new o(t))}),i(t,"zoom",function(t){var e=this,i=e.chart.options,o=i.navigator,r=e.navigatorAxis,n=i.chart.pinchType,a=i.rangeSelector,i=i.chart.zoomType;e.isXAxis&&(o&&o.enabled||a&&a.enabled)&&("y"===i?t.zoomed=!1:(!s&&"xy"===i||s&&"xy"===n)&&e.options.range&&(n=r.previousZoom,h(t.newMin)?r.previousZoom=[e.min,e.max]:n&&(t.newMin=n[0],t.newMax=n[1],r.previousZoom=void 0))),void 0!==t.zoomed&&t.preventDefault()})},n.AdditionsClass=o,n}),e(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Utilities.js"]],function(t){var i=t.addEvent,l=t.defined,o=t.pick;function e(){}return e.compose=function(t,e){function s(t){var e=o(t.options&&t.options.min,t.min),i=o(t.options&&t.options.max,t.max);return{axisMin:e,axisMax:i,scrollMin:l(t.dataMin)?Math.min(e,t.min,t.dataMin,o(t.threshold,1/0)):e,scrollMax:l(t.dataMax)?Math.max(i,t.max,t.dataMax,o(t.threshold,-1/0)):i}}return i(t,"afterInit",function(){var a=this;a.options&&a.options.scrollbar&&a.options.scrollbar.enabled&&(a.options.scrollbar.vertical=!a.horiz,a.options.startOnTick=a.options.endOnTick=!1,a.scrollbar=new e(a.chart.renderer,a.options.scrollbar,a.chart),i(a.scrollbar,"changed",function(t){var e,i=s(a),o=i.axisMin,r=i.axisMax,n=i.scrollMin,i=i.scrollMax-n;l(o)&&l(r)&&(i=a.horiz&&!a.reversed||!a.horiz&&a.reversed?(e=n+i*this.to,n+i*this.from):(e=n+i*(1-this.from),n+i*(1-this.to)),this.shouldUpdateExtremes(t.DOMType)?a.setExtremes(i,e,!0,"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType,t):this.setRange(this.from,this.to))}))}),i(t,"afterRender",function(){var t=this,e=s(t),i=e.scrollMin,o=e.scrollMax,r=t.scrollbar,n=t.axisTitleMargin+(t.titleOffset||0),a=t.chart.scrollbarsOffsets,e=t.options.margin||0;r&&(e=t.horiz?(t.opposite||(a[1]+=n),r.position(t.left,t.top+t.height+2+a[1]-(t.opposite?e:0),t.width,t.height),t.opposite||(a[1]+=e),1):(t.opposite&&(a[0]+=n),r.position(t.left+t.width+2+a[0]-(t.opposite?0:e),t.top,t.width,t.height),t.opposite&&(a[0]+=e),0),a[e]+=r.size+r.options.margin,isNaN(i)||isNaN(o)||!l(t.min)||!l(t.max)||t.min===t.max?r.setRange(0,1):(e=(t.min-i)/(o-i),i=(t.max-i)/(o-i),t.horiz&&!t.reversed||!t.horiz&&t.reversed?r.setRange(e,i):r.setRange(1-i,1-e)))}),i(t,"afterGetOffset",function(){var t=this.horiz?2:1,e=this.scrollbar;e&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[t]+=e.size+e.options.margin)}),t},e}),e(t,"Core/ScrollbarDefaults.js",[t["Core/Globals.js"],t["Core/Color/Palette.js"]],function(t,e){return{height:t.isTouchDevice?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:e.neutralColor20,barBorderWidth:1,barBorderColor:e.neutralColor20,buttonArrowColor:e.neutralColor80,buttonBackgroundColor:e.neutralColor10,buttonBorderColor:e.neutralColor20,buttonBorderWidth:1,rifleColor:e.neutralColor80,trackBackgroundColor:e.neutralColor5,trackBorderColor:e.neutralColor5,trackBorderWidth:1}}),e(t,"Core/Scrollbar.js",[t["Core/DefaultOptions.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Core/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(t,s,e,r,i){var n=t.defaultOptions,l=i.addEvent,p=i.correctFloat,d=i.defined,o=i.destroyObjectProperties,a=i.fireEvent,h=i.merge,c=i.pick,u=i.removeEvent,i=(g.compose=function(t){e.compose(t,g)},g.swapXY=function(t,e){return e&&t.forEach(function(t){for(var e,i=t.length,o=0;o<i;o+=2)"number"==typeof(e=t[o+1])&&(t[o+1]=t[o+2],t[o+2]=e)}),t},g.prototype.addEvents=function(){var t=this.options.inverted?[1,0]:[0,1],e=this.scrollbarButtons,i=this.scrollbarGroup.element,o=this.track.element,r=this.mouseDownHandler.bind(this),n=this.mouseMoveHandler.bind(this),a=this.mouseUpHandler.bind(this),o=[[e[t[0]].element,"click",this.buttonToMinClick.bind(this)],[e[t[1]].element,"click",this.buttonToMaxClick.bind(this)],[o,"click",this.trackClick.bind(this)],[i,"mousedown",r],[i.ownerDocument,"mousemove",n],[i.ownerDocument,"mouseup",a]];s.hasTouch&&o.push([i,"touchstart",r],[i.ownerDocument,"touchmove",n],[i.ownerDocument,"touchend",a]),o.forEach(function(t){l.apply(null,t)}),this._events=o},g.prototype.buttonToMaxClick=function(t){var e=this,i=(e.to-e.from)*c(e.options.step,.2);e.updatePosition(e.from+i,e.to+i),a(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:t})},g.prototype.buttonToMinClick=function(t){var e=this,i=p(e.to-e.from)*c(e.options.step,.2);e.updatePosition(p(e.from-i),p(e.to-i)),a(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:t})},g.prototype.cursorToScrollbarPosition=function(t){var e=this,i=e.options,i=i.minWidth>e.calculatedWidth?i.minWidth:0;return{chartX:(t.chartX-e.x-e.xOffset)/(e.barWidth-i),chartY:(t.chartY-e.y-e.yOffset)/(e.barWidth-i)}},g.prototype.destroy=function(){var e=this,t=e.chart.scroller;e.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(t){e[t]&&e[t].destroy&&(e[t]=e[t].destroy())}),t&&e===t.scrollbar&&(t.scrollbar=null,o(t.scrollbarButtons))},g.prototype.drawScrollbarButton=function(t){var e=this,i=e.renderer,o=e.scrollbarButtons,r=e.options,n=e.size,a=i.g().add(e.group);o.push(a),a=i.rect().addClass("highcharts-scrollbar-button").add(a),e.chart.styledMode||a.attr({stroke:r.buttonBorderColor,"stroke-width":r.buttonBorderWidth,fill:r.buttonBackgroundColor}),a.attr(a.crisp({x:-.5,y:-.5,width:n+1,height:n+1,r:r.buttonBorderRadius},a.strokeWidth())),a=i.path(g.swapXY([["M",n/2+(t?-1:1),n/2-3],["L",n/2+(t?-1:1),n/2+3],["L",n/2+(t?2:-2),n/2]],r.vertical)).addClass("highcharts-scrollbar-arrow").add(o[t]),e.chart.styledMode||a.attr({fill:r.buttonArrowColor})},g.prototype.init=function(t,e,i){var o=this;o.scrollbarButtons=[],o.renderer=t,o.userOptions=e,o.options=h(r,n.scrollbar,e),o.chart=i,o.size=c(o.options.size,o.options.height),e.enabled&&(o.render(),o.addEvents())},g.prototype.mouseDownHandler=function(t){var e=this,t=e.chart.pointer.normalize(t),t=e.cursorToScrollbarPosition(t);e.chartX=t.chartX,e.chartY=t.chartY,e.initPositions=[e.from,e.to],e.grabbedCenter=!0},g.prototype.mouseMoveHandler=function(t){var e=this,i=e.chart.pointer.normalize(t),o=e.options.vertical?"chartY":"chartX",r=e.initPositions||[];!e.grabbedCenter||t.touches&&0===t.touches[0][o]||(o=e.cursorToScrollbarPosition(i)[o]-e[o],e.hasDragged=!0,e.updatePosition(r[0]+o,r[1]+o),e.hasDragged&&a(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))},g.prototype.mouseUpHandler=function(t){var e=this;e.hasDragged&&a(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),e.grabbedCenter=e.hasDragged=e.chartX=e.chartY=null},g.prototype.position=function(t,e,i,o){var r=this,n=r.options.vertical,a=r.rendered?"animate":"attr",s=o,l=0;r.x=t,r.y=e+this.trackBorderWidth,r.width=i,r.height=o,r.xOffset=s,r.yOffset=l,n?(r.width=r.yOffset=i=l=r.size,r.xOffset=s=0,r.barWidth=o-2*i,r.x=t+=r.options.margin):(r.height=r.xOffset=o=s=r.size,r.barWidth=i-2*o,r.y=r.y+r.options.margin),r.group[a]({translateX:t,translateY:r.y}),r.track[a]({width:i,height:o}),r.scrollbarButtons[1][a]({translateX:n?0:i-s,translateY:n?o-l:0})},g.prototype.removeEvents=function(){this._events.forEach(function(t){u.apply(null,t)}),this._events.length=0},g.prototype.render=function(){var t=this,e=t.renderer,i=t.options,o=t.size,r=t.chart.styledMode,n=e.g("scrollbar").attr({zIndex:i.zIndex,translateY:-99999}).add();t.group=n,t.track=e.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:i.trackBorderRadius||0,height:o,width:o}).add(n),r||t.track.attr({fill:i.trackBackgroundColor,stroke:i.trackBorderColor,"stroke-width":i.trackBorderWidth}),t.trackBorderWidth=t.track.strokeWidth(),t.track.attr({y:-this.trackBorderWidth%2/2}),t.scrollbarGroup=e.g().add(n),t.scrollbar=e.rect().addClass("highcharts-scrollbar-thumb").attr({height:o,width:o,r:i.barBorderRadius||0}).add(t.scrollbarGroup),t.scrollbarRifles=e.path(g.swapXY([["M",-3,o/4],["L",-3,2*o/3],["M",0,o/4],["L",0,2*o/3],["M",3,o/4],["L",3,2*o/3]],i.vertical)).addClass("highcharts-scrollbar-rifles").add(t.scrollbarGroup),r||(t.scrollbar.attr({fill:i.barBackgroundColor,stroke:i.barBorderColor,"stroke-width":i.barBorderWidth}),t.scrollbarRifles.attr({stroke:i.rifleColor,"stroke-width":1})),t.scrollbarStrokeWidth=t.scrollbar.strokeWidth(),t.scrollbarGroup.translate(-t.scrollbarStrokeWidth%2/2,-t.scrollbarStrokeWidth%2/2),t.drawScrollbarButton(0),t.drawScrollbarButton(1)},g.prototype.setRange=function(t,e){var i,o,r=this,n=r.options,a=n.vertical,s=n.minWidth,l=r.barWidth,h=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";d(l)&&(i=l*Math.min(e,1),t=Math.max(t,0),o=Math.ceil(l*t),r.calculatedWidth=i=p(i-o),i<s&&(o=(l-s+i)*t,i=s),s=Math.floor(o+r.xOffset+r.yOffset),o=i/2-.5,r.from=t,r.to=e,a?(r.scrollbarGroup[h]({translateY:s}),r.scrollbar[h]({height:i}),r.scrollbarRifles[h]({translateY:o}),r.scrollbarTop=s,r.scrollbarLeft=0):(r.scrollbarGroup[h]({translateX:s}),r.scrollbar[h]({width:i}),r.scrollbarRifles[h]({translateX:o}),r.scrollbarLeft=s,r.scrollbarTop=0),i<=12?r.scrollbarRifles.hide():r.scrollbarRifles.show(!0),!1===n.showFull&&(t<=0&&1<=e?r.group.hide():r.group.show()),r.rendered=!0)},g.prototype.shouldUpdateExtremes=function(t){return c(this.options.liveRedraw,s.svg&&!s.isTouchDevice&&!this.chart.isBoosting)||"mouseup"===t||"touchend"===t||!d(t)},g.prototype.trackClick=function(t){var e=this,i=e.chart.pointer.normalize(t),o=e.to-e.from,r=e.y+e.scrollbarTop,n=e.x+e.scrollbarLeft;e.options.vertical&&i.chartY>r||!e.options.vertical&&i.chartX>n?e.updatePosition(e.from+o,e.to+o):e.updatePosition(e.from-o,e.to-o),a(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:t})},g.prototype.update=function(t){this.destroy(),this.init(this.chart.renderer,h(!0,this.options,t),this.chart)},g.prototype.updatePosition=function(t,e){1<e&&(t=p(1-p(e-t)),e=1),t<0&&(e=p(e-t),t=0),this.from=t,this.to=e},g.defaultOptions=r,g);function g(t,e,i){this._events=[],this.chart=void 0,this.chartX=0,this.chartY=0,this.from=0,this.group=void 0,this.options=void 0,this.renderer=void 0,this.scrollbar=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.x=0,this.y=0,this.init(t,e,i)}return n.scrollbar=h(!0,i.defaultOptions,n.scrollbar),i}),e(t,"Core/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxis.js"],t["Core/DefaultOptions.js"],t["Core/Color/Palette.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Scrollbar.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(h,t,e,l,p,i,o,r,d,n,a,s){function c(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var o=[].filter.call(e,S);if(o.length)return Math[t].apply(0,o)}var e=e.parse,u=l.hasTouch,g=l.isTouchDevice,f=i.defaultOptions,a=a.seriesTypes,x=s.addEvent,y=s.clamp,M=s.correctFloat,A=s.defined,m=s.destroyObjectProperties,v=s.erase,b=s.extend,k=s.find,C=s.isArray,S=s.isNumber,w=s.merge,D=s.pick,B=s.removeEvent,O=s.splat,a=void 0===a.areaspline?"line":"areaspline";b(f,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:o.neutralColor5,borderColor:o.neutralColor40},maskFill:e(o.highlightColor60).setOpacity(.3).get(),outlineColor:o.neutralColor20,outlineWidth:1,series:{type:a,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:o.neutralColor10,gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:o.neutralColor40},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),r.getRendererType().prototype.symbols["navigator-handle"]=function(t,e,i,o,r){var n=(r&&r.width||0)/2,a=Math.round(n/3)+.5,r=r&&r.height||0;return[["M",-n-1,.5],["L",n,.5],["L",n,r+.5],["L",-n-1,r+.5],["L",-n-1,.5],["M",-a,4],["L",-a,r-3],["M",a-1,4],["L",a-1,r-3]]};var E=(T.prototype.drawHandle=function(t,e,i,o){var r=this,n=r.navigatorOptions.handles.height;r.handles[e][o](i?{translateX:Math.round(r.left+r.height/2),translateY:Math.round(r.top+parseInt(t,10)+.5-n)}:{translateX:Math.round(r.left+parseInt(t,10)),translateY:Math.round(r.top+r.height/2-n/2-1)})},T.prototype.drawOutline=function(t,e,i,o){var r,n=this,a=n.navigatorOptions.maskInside,s=n.outline.strokeWidth(),l=s/2,h=s%2/2,p=n.outlineHeight,d=n.scrollbarHeight||0,c=n.size,u=n.left-d,s=n.top;i?(r=[["M",(u-=l)+p,s-d-h],["L",u+p,i=s+e+h],["L",u,i],["L",u,e=s+t+h],["L",u+p,e],["L",u+p,s+c+d]],a&&r.push(["M",u+p,i-l],["L",u+p,e+l])):(r=[["M",u,s+=l],["L",t+=u+d-h,s],["L",t,s+p],["L",e+=u+d-h,s+p],["L",e,s],["L",u+c+2*d,s]],a&&r.push(["M",t-l,s],["L",e+l,s])),n.outline[o]({d:r})},T.prototype.drawMasks=function(t,e,i,o){var r,n,a,s=this,l=s.left,h=s.top,p=s.height,d=i?(n=[l,l,l],a=[h,h+t,h+e],r=[p,p,p],[t,e-t,s.size-e]):(n=[l,l+t,l+e],a=[h,h,h],r=[t,e-t,s.size-e],[p,p,p]);s.shades.forEach(function(t,e){t[o]({x:n[e],y:a[e],width:r[e],height:d[e]})})},T.prototype.renderElements=function(){var i,o=this,r=o.navigatorOptions,t=r.maskInside,n=o.chart,e=n.inverted,a=n.renderer,s={cursor:e?"ns-resize":"ew-resize"};o.navigatorGroup=i=a.g("navigator").attr({zIndex:8,visibility:"hidden"}).add(),[!t,t,!t].forEach(function(t,e){o.shades[e]=a.rect().addClass("highcharts-navigator-mask"+(1===e?"-inside":"-outside")).add(i),n.styledMode||o.shades[e].attr({fill:t?r.maskFill:"rgba(0,0,0,0)"}).css(1===e&&s)}),o.outline=a.path().addClass("highcharts-navigator-outline").add(i),n.styledMode||o.outline.attr({"stroke-width":r.outlineWidth,stroke:r.outlineColor}),r.handles.enabled&&[0,1].forEach(function(t){var e;r.handles.inverted=n.inverted,o.handles[t]=a.symbol(r.handles.symbols[t],-r.handles.width/2-1,0,r.handles.width,r.handles.height,r.handles),o.handles[t].attr({zIndex:7-t}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][t]).add(i),n.styledMode||(e=r.handles,o.handles[t].attr({fill:e.backgroundColor,stroke:e.borderColor,"stroke-width":e.lineWidth}).css(s))})},T.prototype.update=function(t){(this.series||[]).forEach(function(t){t.baseSeries&&delete t.baseSeries.navigatorSeries}),this.destroy();var e=this.chart.options;w(!0,e.navigator,this.options,t),this.init(this.chart)},T.prototype.render=function(t,e,i,o){var r,n,a,s,l,h=this,p=h.chart,d=h.scrollbarHeight,c=h.xAxis,u=c.pointRange||0,g=c.navigatorAxis.fake?p.xAxis[0]:c,f=h.navigatorEnabled,x=h.rendered,m=p.inverted,v=p.xAxis[0].minRange,b=p.xAxis[0].options.maxRange;if(!this.hasDragged||A(i)){if(t=M(t-u/2),e=M(e+u/2),!S(t)||!S(e)){if(!x)return;i=0,o=D(c.width,g.width)}h.left=D(c.left,p.plotLeft+d+(m?p.plotWidth:0)),h.size=l=s=D(c.len,(m?p.plotHeight:p.plotWidth)-2*d),r=m?d:s+2*d,i=D(i,c.toPixels(t,!0)),o=D(o,c.toPixels(e,!0)),S(i)&&Math.abs(i)!==1/0||(i=0,o=r),p=c.toValue(i,!0),t=c.toValue(o,!0),(e=Math.abs(M(t-p)))<v?this.grabbedLeft?i=c.toPixels(t-v-u,!0):this.grabbedRight&&(o=c.toPixels(p+v+u,!0)):A(b)&&M(e-u)>b&&(this.grabbedLeft?i=c.toPixels(t-b-u,!0):this.grabbedRight&&(o=c.toPixels(p+b+u,!0))),h.zoomedMax=y(Math.max(i,o),0,l),h.zoomedMin=y(h.fixedWidth?h.zoomedMax-h.fixedWidth:Math.min(i,o),0,l),h.range=h.zoomedMax-h.zoomedMin,l=Math.round(h.zoomedMax),o=Math.round(h.zoomedMin),f&&(h.navigatorGroup.attr({visibility:"visible"}),x=x&&!h.hasDragged?"animate":"attr",h.drawMasks(o,l,m,x),h.drawOutline(o,l,m,x),h.navigatorOptions.handles.enabled&&(h.drawHandle(o,0,m,x),h.drawHandle(l,1,m,x))),h.scrollbar&&(m?(a=h.top-d,n=h.left-d+(f||!g.opposite?0:(g.titleOffset||0)+g.axisTitleMargin),d=s+2*d):(a=h.top+(f?h.height:-d),n=h.left-d),h.scrollbar.position(n,a,r,d),h.scrollbar.setRange(h.zoomedMin/(s||1),h.zoomedMax/(s||1))),h.rendered=!0}},T.prototype.addMouseEvents=function(){var t,e,i=this,o=i.chart,r=o.container,n=[];i.mouseMoveHandler=t=function(t){i.onMouseMove(t)},i.mouseUpHandler=e=function(t){i.onMouseUp(t)},(n=i.getPartsEvents("mousedown")).push(x(o.renderTo,"mousemove",t),x(r.ownerDocument,"mouseup",e)),u&&(n.push(x(o.renderTo,"touchmove",t),x(r.ownerDocument,"touchend",e)),n.concat(i.getPartsEvents("touchstart"))),i.eventsToUnbind=n,i.series&&i.series[0]&&n.push(x(i.series[0].xAxis,"foundExtremes",function(){o.navigator.modifyNavigatorAxisExtremes()}))},T.prototype.getPartsEvents=function(o){var r=this,n=[];return["shades","handles"].forEach(function(i){r[i].forEach(function(t,e){n.push(x(t.element,o,function(t){r[i+"Mousedown"](t,e)}))})}),n},T.prototype.shadesMousedown=function(t,e){t=this.chart.pointer.normalize(t);var i,o,r=this,n=r.chart,a=r.xAxis,s=r.zoomedMin,l=r.left,h=r.size,p=r.range,d=t.chartX;n.inverted&&(d=t.chartY,l=r.top),1===e?(r.grabbedCenter=d,r.fixedWidth=p,r.dragOffset=d-s):(l=d-l-p/2,0===e?l=Math.max(0,l):2===e&&h<=l+p&&(l=h-p,r.reversedExtremes?(l-=p,i=r.getUnionExtremes().dataMin):o=r.getUnionExtremes().dataMax),l!==s&&(r.fixedWidth=p,o=a.navigatorAxis.toFixedRange(l,l+p,i,o),A(o.min)&&n.xAxis[0].setExtremes(Math.min(o.min,o.max),Math.max(o.min,o.max),!0,null,{trigger:"navigator"})))},T.prototype.handlesMousedown=function(t,e){t=this.chart.pointer.normalize(t);var i=this,o=i.chart,r=o.xAxis[0],t=i.reversedExtremes;0===e?(i.grabbedLeft=!0,i.otherHandlePos=i.zoomedMax,i.fixedExtreme=t?r.min:r.max):(i.grabbedRight=!0,i.otherHandlePos=i.zoomedMin,i.fixedExtreme=t?r.max:r.min),o.fixedRange=null},T.prototype.onMouseMove=function(t){var e=this,i=e.chart,o=e.left,r=e.navigatorSize,n=e.range,a=e.dragOffset,s=i.inverted;t.touches&&0===t.touches[0].pageX||(i=(t=i.pointer.normalize(t)).chartX,s&&(o=e.top,i=t.chartY),e.grabbedLeft?(e.hasDragged=!0,e.render(0,0,i-o,e.otherHandlePos)):e.grabbedRight?(e.hasDragged=!0,e.render(0,0,e.otherHandlePos,i-o)):e.grabbedCenter&&(e.hasDragged=!0,i<a?i=a:r+a-n<i&&(i=r+a-n),e.render(0,0,i-a,i-a+n)),e.hasDragged&&e.scrollbar&&D(e.scrollbar.options.liveRedraw,l.svg&&!g&&!this.chart.isBoosting)&&(t.DOMType=t.type,setTimeout(function(){e.onMouseUp(t)},0)))},T.prototype.onMouseUp=function(t){var e,i,o=this,r=o.chart,n=o.xAxis,a=o.scrollbar,s=t.DOMEvent||t,l=r.inverted,h=o.rendered&&!o.hasDragged?"animate":"attr";(!o.hasDragged||a&&a.hasDragged)&&"scrollbar"!==t.trigger||(a=o.getUnionExtremes(),o.zoomedMin===o.otherHandlePos?e=o.fixedExtreme:o.zoomedMax===o.otherHandlePos&&(i=o.fixedExtreme),o.zoomedMax===o.size&&(i=o.reversedExtremes?a.dataMin:a.dataMax),0===o.zoomedMin&&(e=o.reversedExtremes?a.dataMax:a.dataMin),i=n.navigatorAxis.toFixedRange(o.zoomedMin,o.zoomedMax,e,i),A(i.min)&&r.xAxis[0].setExtremes(Math.min(i.min,i.max),Math.max(i.min,i.max),!0,!o.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:s})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(o.grabbedLeft=o.grabbedRight=o.grabbedCenter=o.fixedWidth=o.fixedExtreme=o.otherHandlePos=o.hasDragged=o.dragOffset=null),o.navigatorEnabled&&S(o.zoomedMin)&&S(o.zoomedMax)&&(s=Math.round(o.zoomedMin),t=Math.round(o.zoomedMax),o.shades&&o.drawMasks(s,t,l,h),o.outline&&o.drawOutline(s,t,l,h),o.navigatorOptions.handles.enabled&&Object.keys(o.handles).length===o.handles.length&&(o.drawHandle(s,0,l,h),o.drawHandle(t,1,l,h)))},T.prototype.removeEvents=function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},T.prototype.removeBaseSeriesEvents=function(){var t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(t){B(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&B(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},T.prototype.init=function(a){var t=a.options,e=t.navigator,i=e.enabled,o=t.scrollbar,r=o.enabled,n=i?e.height:0,s=r?o.height:0;this.handles=[],this.shades=[],this.chart=a,this.setBaseSeries(),this.height=n,this.scrollbarHeight=s,this.scrollbarEnabled=r,this.navigatorEnabled=i,this.navigatorOptions=e,this.scrollbarOptions=o,this.outlineHeight=n+s,this.opposite=D(e.opposite,Boolean(!i&&a.inverted));var l=this,t=l.baseSeries,r=a.xAxis.length,o=a.yAxis.length,i=t&&t[0]&&t[0].xAxis||a.xAxis[0]||{options:{}};a.isDirtyBox=!0,l.navigatorEnabled?(l.xAxis=new h(a,w({breaks:i.options.breaks,ordinal:i.options.ordinal},e.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:r,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},a.inverted?{offsets:[s,0,-s,0],width:n}:{offsets:[0,-s,0,s],height:n})),l.yAxis=new h(a,w(e.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:o,isInternal:!0,reversed:D(e.yAxis&&e.yAxis.reversed,a.yAxis[0]&&a.yAxis[0].reversed,!1),zoomEnabled:!1},a.inverted?{width:n}:{height:n})),t||e.series.data?l.updateNavigatorSeries(!1):0===a.series.length&&(l.unbindRedraw=x(a,"beforeRedraw",function(){0<a.series.length&&!l.series&&(l.setBaseSeries(),l.unbindRedraw())})),l.reversedExtremes=a.inverted&&!l.xAxis.reversed||!a.inverted&&l.xAxis.reversed,l.renderElements(),l.addMouseEvents()):(l.xAxis={chart:a,navigatorAxis:{fake:!0},translate:function(t,e){var i=a.xAxis[0],o=i.getExtremes(),r=i.len-2*s,n=c("min",i.options.min,o.dataMin),o=c("max",i.options.max,o.dataMax)-n;return e?t*o/r+n:r*(t-n)/o},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)}},l.xAxis.navigatorAxis.axis=l.xAxis,l.xAxis.navigatorAxis.toFixedRange=p.AdditionsClass.prototype.toFixedRange.bind(l.xAxis.navigatorAxis)),a.options.scrollbar.enabled&&(a.scrollbar=l.scrollbar=new d(a.renderer,w(a.options.scrollbar,{margin:l.navigatorEnabled?0:10,vertical:a.inverted}),a),x(l.scrollbar,"changed",function(t){var e=l.size,i=e*this.to,e=e*this.from;l.hasDragged=l.scrollbar.hasDragged,l.render(0,0,e,i),this.shouldUpdateExtremes(t.DOMType)&&setTimeout(function(){l.onMouseUp(t)})})),l.addBaseSeriesEvents(),l.addChartEvents()},T.prototype.getUnionExtremes=function(t){var e,i=this.chart.xAxis[0],o=this.xAxis,r=o.options,n=i.options;return e=!t||null!==i.dataMin?{dataMin:D(r&&r.min,c("min",n.min,i.dataMin,o.dataMin,o.min)),dataMax:D(r&&r.max,c("max",n.max,i.dataMax,o.dataMax,o.max))}:e},T.prototype.setBaseSeries=function(i,t){var e=this.chart,o=this.baseSeries=[];i=i||e.options&&e.options.navigator.baseSeries||(e.series.length?k(e.series,function(t){return!t.options.isInternal}).index:0),(e.series||[]).forEach(function(t,e){t.options.isInternal||!t.options.showInNavigator&&(e!==i&&t.options.id!==i||!1===t.options.showInNavigator)||o.push(t)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,t)},T.prototype.updateNavigatorSeries=function(t,o){var r,n,a,s=this,l=s.chart,h=s.baseSeries,p=s.navigatorOptions.series,d={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},c=s.series=(s.series||[]).filter(function(t){var e=t.baseSeries;return!(h.indexOf(e)<0)||(e&&(B(e,"updatedData",s.updatedDataHandler),delete e.navigatorSeries),t.chart&&t.destroy(),!1)});h&&h.length&&h.forEach(function(t){var e=t.navigatorSeries,i=b({color:t.color,visible:t.visible},C(p)?f.navigator.series:p);e&&!1===s.navigatorOptions.adaptToUpdatedData||(d.name="Navigator "+h.length,r=t.options||{},a=r.navigatorOptions||{},i.dataLabels=O(i.dataLabels),(n=w(r,d,i,a)).pointRange=D(i.pointRange,a.pointRange,f.plotOptions[n.type||"line"].pointRange),i=a.data||i.data,s.hasNavigatorData=s.hasNavigatorData||!!i,n.data=i||r.data&&r.data.slice(0),e&&e.options?e.update(n,o):(t.navigatorSeries=l.initSeries(n),t.navigatorSeries.baseSeries=t,c.push(t.navigatorSeries)))}),(!p.data||h&&h.length)&&!C(p)||(s.hasNavigatorData=!1,(p=O(p)).forEach(function(t,e){d.name="Navigator "+(c.length+1),(n=w(f.navigator.series,{color:l.series[e]&&!l.series[e].options.isInternal&&l.series[e].color||l.options.colors[e]||l.options.colors[0]},d,t)).data=t.data,n.data&&(s.hasNavigatorData=!0,c.push(l.initSeries(n)))})),t&&this.addBaseSeriesEvents()},T.prototype.addBaseSeriesEvents=function(){var e=this,t=e.baseSeries||[];t[0]&&t[0].xAxis&&t[0].eventsToUnbind.push(x(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),t.forEach(function(t){t.eventsToUnbind.push(x(t,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),t.eventsToUnbind.push(x(t,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&t.xAxis&&t.eventsToUnbind.push(x(t,"updatedData",this.updatedDataHandler)),t.eventsToUnbind.push(x(t,"remove",function(){this.navigatorSeries&&(v(e.series,this.navigatorSeries),A(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))},this)},T.prototype.getBaseSeriesMin=function(t){return this.baseSeries.reduce(function(t,e){return Math.min(t,e.xData?e.xData[0]:t)},t)},T.prototype.modifyNavigatorAxisExtremes=function(){var t,e=this.xAxis;void 0!==e.getExtremes&&(!(t=this.getUnionExtremes(!0))||t.dataMin===e.min&&t.dataMax===e.max||(e.min=t.dataMin,e.max=t.dataMax))},T.prototype.modifyBaseAxisExtremes=function(){var t,e,i=this,o=i.chart.navigator,r=i.getExtremes(),n=r.min,a=r.max,s=r.dataMin,l=r.dataMax,h=a-n,p=o.stickToMin,d=o.stickToMax,r=D(i.options.overscroll,0),a=o.series&&o.series[0],n=!!i.setExtremes;i.eventArgs&&"rangeSelectorButton"===i.eventArgs.trigger||(p&&(t=(e=s)+h),d&&(t=l+r,p||(e=Math.max(s,t-h,o.getBaseSeriesMin(a&&a.xData?a.xData[0]:-Number.MAX_VALUE)))),n&&(p||d)&&S(e)&&(i.min=i.userMin=e,i.max=i.userMax=t)),o.stickToMin=o.stickToMax=null},T.prototype.updatedDataHandler=function(){var t=this.chart.navigator,e=this.navigatorSeries;t.stickToMax=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size),t.stickToMin=t.shouldStickToMin(this,t),e&&!t.hasNavigatorData&&(e.options.pointStart=this.xData[0],e.setData(this.options.data,!1,null,!1))},T.prototype.shouldStickToMin=function(t,e){var i=e.getBaseSeriesMin(t.xData[0]),o=t.xAxis,r=o.max,e=o.min,t=o.options.range,o=!0;return o=S(r)&&S(e)?t&&0<r-i?r-i<t&&!this.chart.fixedRange:e<=i:o},T.prototype.addChartEvents=function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(x(this.chart,"redraw",function(){var t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);e&&t.render(e.min,e.max)}),x(this.chart,"getMargins",function(){var t=this,e=t.navigator,i=e.opposite?"plotTop":"marginBottom";t[i=t.inverted?e.opposite?"marginRight":"plotLeft":i]=(t[i]||0)+(e.navigatorEnabled||!t.inverted?e.outlineHeight:0)+e.navigatorOptions.margin}))},T.prototype.destroy=function(){this.removeEvents(),this.xAxis&&(v(this.chart.xAxis,this.xAxis),v(this.chart.axes,this.xAxis)),this.yAxis&&(v(this.chart.yAxis,this.yAxis),v(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(t){t.destroy&&t.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(function(t){this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null},this),[this.handles].forEach(function(t){m(t)},this)},T);function T(t){this.baseSeries=void 0,this.chart=void 0,this.handles=void 0,this.height=void 0,this.left=void 0,this.navigatorEnabled=void 0,this.navigatorGroup=void 0,this.navigatorOptions=void 0,this.navigatorSeries=void 0,this.navigatorSize=void 0,this.opposite=void 0,this.outline=void 0,this.outlineHeight=void 0,this.range=void 0,this.rendered=void 0,this.shades=void 0,this.size=void 0,this.top=void 0,this.xAxis=void 0,this.yAxis=void 0,this.zoomedMax=void 0,this.zoomedMin=void 0,this.init(t)}return l.Navigator||(l.Navigator=E,p.compose(h),x(t,"beforeShowResetZoom",function(){var t=this.options,e=t.navigator,i=t.rangeSelector;if((e&&e.enabled||i&&i.enabled)&&(!g&&"x"===t.chart.zoomType||g&&"x"===t.chart.pinchType))return!1}),x(t,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new E(this))}),x(t,"afterSetChartSize",function(){var t,e,i,o,r=this.legend,n=this.navigator;n&&(e=r&&r.options,i=n.xAxis,o=n.yAxis,t=n.scrollbarHeight,this.inverted?(n.left=n.opposite?this.chartWidth-t-n.height:this.spacing[3]+t,n.top=this.plotTop+t):(n.left=D(i.left,this.plotLeft+t),n.top=n.navigatorOptions.top||this.chartHeight-n.height-t-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(e&&"bottom"===e.verticalAlign&&"proximate"!==e.layout&&e.enabled&&!e.floating?r.legendHeight+D(e.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),i&&o&&(this.inverted?i.options.left=o.options.left=n.left:i.options.top=o.options.top=n.top,i.setAxisSize(),o.setAxisSize()))}),x(t,"update",function(t){var e=t.options.navigator||{},i=t.options.scrollbar||{};this.navigator||this.scroller||!e.enabled&&!i.enabled||(w(!0,this.options.navigator,e),w(!0,this.options.scrollbar,i),delete t.options.navigator,delete t.options.scrollbar)}),x(t,"afterUpdate",function(t){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new E(this),D(t.redraw,!0)&&this.redraw(t.animation))}),x(t,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)}),x(n,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}),t.prototype.callbacks.push(function(t){var e=t.navigator;e&&t.xAxis[0]&&(t=t.xAxis[0].getExtremes(),e.render(t.min,t.max))})),l.Navigator=E,l.Navigator}),e(t,"Core/Axis/OrdinalAxis.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,e,d,c,i){var o,r,n=i.addEvent,l=i.correctFloat,y=i.css,B=i.defined,O=i.error,m=i.pick,E=i.timeUnits;function a(t){this.index={},this.axis=t}return r=o=o||{},a.prototype.beforeSetTickPositions=function(){var i,o,t,e,r,n,a=this.axis,s=a.ordinal,l=[],h=!1,p=a.getExtremes(),d=p.min,c=p.max,u=a.isXAxis&&!!a.options.breaks,g=a.options.ordinal,f=Number.MAX_VALUE,x=a.chart.options.chart.ignoreHiddenSeries;if(g||u){if(a.series.forEach(function(t,e){if(o=[],(!x||!1!==t.visible)&&(!1!==t.takeOrdinalPosition||u)&&(l=l.concat(t.processedXData),i=l.length,l.sort(function(t,e){return t-e}),f=Math.min(f,m(t.closestPointRange,f)),i)){for(e=0;e<i-1;)l[e]!==l[e+1]&&o.push(l[e+1]),e++;o[0]!==l[0]&&o.unshift(l[0]),l=o}t.isSeriesBoosting&&(n=!0)}),n&&(l.length=0),2<(i=l.length)){for(t=l[1]-l[0],r=i-1;r--&&!h;)l[r+1]-l[r]!=t&&(h=!0);!a.options.keepOrdinalPadding&&(l[0]-d>t||c-l[l.length-1]>t)&&(h=!0)}else a.options.overscroll&&(2===i?f=l[1]-l[0]:1===i?(f=a.options.overscroll,l=[l[0],l[0]+f]):f=s.overscrollPointsRange);h||a.forceOrdinal?(a.options.overscroll&&(s.overscrollPointsRange=f,l=l.concat(s.getOverscrollPositions())),s.positions=l,e=a.ordinal2lin(Math.max(d,l[0]),!0),p=Math.max(a.ordinal2lin(Math.min(c,l[l.length-1]),!0),1),s.slope=p=(c-d)/(p-e),s.offset=d-e*p):(s.overscrollPointsRange=m(a.closestPointRange,s.overscrollPointsRange),s.positions=a.ordinal.slope=s.offset=void 0)}a.isOrdinal=g&&h,s.groupIntervalFactor=null},a.findIndexOf=function(t,e,i){for(var o,r=0,n=t.length-1;r<=n;){if(t[o=Math.floor((r+n)/2)]===e)return o;t[o]<e?r=o+1:n=o-1}return i?o:-1},a.prototype.getExtendedPositions=function(){var e,i,o=this,t=o.axis,r=t.constructor.prototype,n=t.chart,a=t.series[0].currentDataGrouping,s=o.index,l=a?a.count+a.unitName:"raw",h=t.options.overscroll,p=t.getExtremes();return(s=s||(o.index={}))[l]||((e={series:[],chart:n,forceOrdinal:!1,getExtremes:function(){return{min:p.dataMin,max:p.dataMax+h}},getGroupPixelWidth:r.getGroupPixelWidth,getTimeTicks:r.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:r.ordinal2lin,val2lin:r.val2lin}).ordinal.axis=e,t.series.forEach(function(t){(i={xAxis:e,xData:t.xData.slice(),chart:n,destroyGroupedData:d.noop,getProcessedData:c.prototype.getProcessedData}).xData=i.xData.concat(o.getOverscrollPositions()),i.options={dataGrouping:a?{enabled:!0,forced:!0,approximation:"open",units:[[a.unitName,[a.count]]]}:{enabled:!1}},e.series.push(i),t.processData.apply(i),i.closestPointRange!==i.basePointRange&&i.currentDataGrouping&&(e.forceOrdinal=!0)}),t.ordinal.beforeSetTickPositions.apply({axis:e}),s[l]=e.ordinal.positions),s[l]},a.prototype.getGroupIntervalFactor=function(t,e,i){this.axis;var o,r=i.processedXData,n=r.length,a=[],s=this.groupIntervalFactor;if(!s){for(o=0;o<n-1;o++)a[o]=r[o+1]-r[o];a.sort(function(t,e){return t-e}),i=a[Math.floor(n/2)],t=Math.max(t,r[0]),e=Math.min(e,r[n-1]),this.groupIntervalFactor=s=n*i/(e-t)}return s},a.prototype.getIndexOfPoint=function(t,e){var i=this,o=i.axis,r=i.positions?i.positions[0]:0,i=(t-(i.slope?i.slope*o.transA:0))/(o.translationSlope*(i.slope||o.closestPointRange||i.overscrollPointsRange));return a.findIndexOf(e,r)+i},a.prototype.getOverscrollPositions=function(){var t=this.axis,e=t.options.overscroll,i=this.overscrollPointsRange,o=[],r=t.dataMax;if(B(i))for(o.push(r);r<=t.dataMax+e;)o.push(r+=i);return o},a.prototype.postProcessTickInterval=function(t){var e=this.axis,i=this.slope,t=i?e.options.breaks?e.closestPointRange||t:t/(i/e.closestPointRange):t;return t},r.Composition=a,r.compose=function(t,e,i){t.keepProps.push("ordinal");var o=t.prototype;t.prototype.getTimeTicks=function(t,e,i,o,r,n,a){void 0===r&&(r=[]),void 0===n&&(n=0);var s,l,h,p,d,c,u=0,g={},f=[],x=-Number.MAX_VALUE,m=this.options.tickPixelInterval,v=this.chart.time,b=[];if(!this.options.ordinal&&!this.options.breaks||!r||r.length<3||void 0===e)return v.getTimeTicks.apply(v,arguments);for(d=r.length,s=0;s<d;s++){if(c=s&&r[s-1]>i,r[s]<e&&(u=s),s===d-1||r[s+1]-r[s]>5*n||c){if(r[s]>x){for(l=v.getTimeTicks(t,r[u],r[s],o);l.length&&l[0]<=x;)l.shift();l.length&&(x=l[l.length-1]),b.push(f.length),f=f.concat(l)}u=s+1}if(c)break}if(l){if(p=l.info,a&&p.unitRange<=E.hour){for(s=f.length-1,u=1;u<s;u++)v.dateFormat("%d",f[u])!==v.dateFormat("%d",f[u-1])&&(g[f[u]]="day",h=!0);h&&(g[f[0]]="day"),p.higherRanks=g}p.segmentStarts=b,f.info=p}else O(12,!1,this.chart);if(a&&B(m)){for(var y,a=f.length,M=a,A=void 0,k=void 0,C=[],S=void 0,w=void 0,D=[];M--;)k=this.translate(f[M]),S&&(D[M]=S-k),C[M]=S=k;for(D.sort(),(w=D[Math.floor(D.length/2)])<.6*m&&(w=null),M=f[a-1]>i?a-1:a,S=void 0;M--;)k=C[M],y=Math.abs(S-k),S&&y<.8*m&&(null===w||y<.8*w)?(g[f[M]]&&!g[f[M+1]]?(A=M+1,S=k):A=M,f.splice(A,1)):S=k}return f},o.index2val=function(t){var e=this.ordinal.positions;if(!e)return t;var i,o=e.length-1;return t<0?t=e[0]:o<t?t=e[o]:i=t-(o=Math.floor(t)),void 0!==i&&void 0!==e[o]?e[o]+(i?i*(e[o+1]-e[o]):0):t},o.lin2val=function(t){var e=this,i=e.ordinal,o=t>e.left&&t<e.left+e.len,r=(e.old||e).min,n=(e.old||e).transA,e=i.positions;if(!e)return t;n*=t-r;if(o||(i.extendedOrdinalPositions||(i.extendedOrdinalPositions=i.getExtendedPositions()),e=i.extendedOrdinalPositions),e&&e.length){i=i.getIndexOfPoint(n,e),n=l(i%1);if(0<=i&&i<e.length){var a=e[Math.floor(i)],s=e[Math.ceil(i)]-a;return e[Math.floor(i)]+n*s}a=e.length,n=e[0],s=e[a-1],e=(s-n)/(a-1);return i<0?n+e*i:s+e*(i-a)}return t},o.val2lin=function(t,e){var i=this.ordinal,o=i.positions;if(o){for(var r=o.length,n=void 0,a=void 0,n=r;n--;)if(o[n]===t){a=n;break}for(n=r-1;n--;)if(t>o[n]||0===n){a=n+(t-o[n])/(o[n+1]-o[n]);break}r=e?a:i.slope*(a||0)+i.offset}else r=t;return r},o.ordinal2lin=o.val2lin,n(t,"afterInit",function(){this.ordinal||(this.ordinal=new r.Composition(this))}),n(t,"foundExtremes",function(){var t=this;t.isXAxis&&B(t.options.overscroll)&&t.max===t.dataMax&&(!t.chart.mouseIsDown||t.isInternal)&&(!t.eventArgs||t.eventArgs&&"navigator"!==t.eventArgs.trigger)&&(t.max+=t.options.overscroll,!t.isInternal&&B(t.userMin)&&(t.min+=t.options.overscroll))}),n(t,"afterSetScale",function(){var t=this;t.horiz&&!t.isDirty&&(t.isDirty=t.isOrdinal&&t.chart.navigator&&!t.chart.navigator.adaptToUpdatedData)}),n(t,"initialAxisTranslation",function(){var t=this;t.ordinal&&(t.ordinal.beforeSetTickPositions(),t.tickInterval=t.ordinal.postProcessTickInterval(t.tickInterval))}),n(e,"pan",function(t){var e,i,o,r,n,a,s,l,h,p,d,c,u,g=this,f=g.xAxis[0],x=f.options.overscroll,m=t.originalEvent.chartX,v=g.options.chart.panning,b=!1;v&&"y"!==v.type&&f.options.ordinal&&f.series.length?(p=g.mouseDownX,i=(e=f.getExtremes()).dataMax,o=e.min,r=e.max,n=void 0,a=g.hoverPoints,u=f.closestPointRange||f.ordinal&&f.ordinal.overscrollPointsRange,s=(p-m)/(f.translationSlope*(f.ordinal.slope||u)),l={ordinal:{positions:f.ordinal.getExtendedPositions()}},d=f.index2val,c=f.val2lin,u=p=h=void 0,l.ordinal.positions?1<Math.abs(s)&&(a&&a.forEach(function(t){t.setState()}),i>(h=(u=s<0?(p=l,f.ordinal.positions?f:l):(p=f.ordinal.positions?f:l,l)).ordinal.positions)[h.length-1]&&h.push(i),g.fixedRange=r-o,(n=f.navigatorAxis.toFixedRange(null,null,d.apply(p,[c.apply(p,[o,!0])+s]),d.apply(u,[c.apply(u,[r,!0])+s]))).min>=Math.min(e.dataMin,o)&&n.max<=Math.max(i,r)+x&&f.setExtremes(n.min,n.max,!0,!1,{trigger:"pan"}),g.mouseDownX=m,y(g.container,{cursor:"move"})):b=!0):b=!0,b||v&&/y/.test(v.type)?x&&(f.max=f.dataMax+x):t.preventDefault()}),n(i,"updatedData",function(){var t=this.xAxis;t&&t.options.ordinal&&delete t.ordinal.index})},o.compose(t,e,c),o}),e(t,"Core/Axis/BrokenAxis.js",[t["Core/Axis/Axis.js"],t["Core/Series/Series.js"],t["Extensions/Stacking.js"],t["Core/Utilities.js"]],function(g,d,c,t){var e,f=t.addEvent,i=t.find,x=t.fireEvent,m=t.isArray,v=t.isNumber,b=t.pick;return function(t){function o(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function r(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function n(){var t=this,e=t.brokenAxis;if(e&&e.hasBreaks){for(var i=t.tickPositions,o=t.tickPositions.info,r=[],n=0;n<i.length;n++)e.isInAnyBreak(i[n])||r.push(i[n]);t.tickPositions=r,t.tickPositions.info=o}}function a(){this.brokenAxis||(this.brokenAxis=new e(this))}function s(){var t=this,e=t.isDirty,i=t.options.connectNulls,o=t.points,r=t.xAxis,n=t.yAxis;if(e)for(var a=o.length;a--;){var s=o[a],l=!(null===s.y&&!1===i)&&(r&&r.brokenAxis&&r.brokenAxis.isInAnyBreak(s.x,!0)||n&&n.brokenAxis&&n.brokenAxis.isInAnyBreak(s.y,!0));s.visible=!l&&!1!==s.options.visible}}function l(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,b(this.pointArrayMap,["y"]))}function h(i,t){var o,r,n,a,e,s=this,l=s.points;i&&i.brokenAxis&&i.brokenAxis.hasBreaks&&(e=i.brokenAxis,t.forEach(function(t){o=e&&e.breakArray||[],r=i.isXAxis?i.min:b(s.options.threshold,i.min),l.forEach(function(e){a=b(e["stack"+t.toUpperCase()],e[t]),o.forEach(function(t){v(r)&&v(a)&&(n=!1,r<t.from&&a>t.to||r>t.from&&a<t.from?n="pointBreak":(r<t.from&&a>t.from&&a<t.to||r>t.from&&a>t.to&&a<t.from)&&(n="pointInBreak"),n&&x(i,n,{point:e,brk:t}))})})}))}function p(){var t=this.currentDataGrouping,t=t&&t.gapSize,e=this.points.slice(),i=this.yAxis,o=this.options.gapSize,r=e.length-1;if(o&&0<r){"value"!==this.options.gapUnit&&(o*=this.basePointRange),t&&o<t&&t>=this.basePointRange&&(o=t);for(var n,a,s=void 0;r--;)s&&!1!==s.visible||(s=e[r+1]),n=e[r],!1!==s.visible&&!1!==n.visible&&(s.x-n.x>o&&(a=(n.x+s.x)/2,e.splice(r+1,0,{isNull:!0,x:a}),i.stacking&&this.options.stacking&&((i.stacking.stacks[this.stackKey][a]=new c(i,i.options.stackLabels,!1,a,this.stack)).total=0)),s=n)}return this.getGraphPath(e)}t.compose=function(t,e){var i;return-1===t.keepProps.indexOf("brokenAxis")&&(t.keepProps.push("brokenAxis"),(i=d.prototype).drawBreaks=h,i.gappedPath=p,f(t,"init",a),f(t,"afterInit",o),f(t,"afterSetTickPositions",n),f(t,"afterSetOptions",r),f(e,"afterGeneratePoints",s),f(e,"afterRender",l)),t};var e=(u.isInBreak=function(t,e){var i=t.repeat||1/0,o=t.from,r=t.to-t.from,i=o<=e?(e-o)%i:i-(o-e)%i,i=t.inclusive?i<=r:i<r&&0!=i;return i},u.lin2Val=function(t){var e=this.brokenAxis,i=e&&e.breakArray;if(!i||!v(t))return t;for(var o,r=t,n=0;n<i.length&&!((o=i[n]).from>=r);n++)(o.to<r||u.isInBreak(o,r))&&(r+=o.len);return r},u.val2Lin=function(t){var e=this.brokenAxis,i=e&&e.breakArray;if(!i||!v(t))return t;for(var o,r=t,n=0;n<i.length;n++)if((o=i[n]).to<=t)r-=o.len;else{if(o.from>=t)break;if(u.isInBreak(o,t)){r-=t-o.from;break}}return r},u.prototype.findBreakAt=function(e,t){return i(t,function(t){return t.from<e&&e<t.to})},u.prototype.isInAnyBreak=function(t,e){var i,o,r,n=this.axis,a=n.options.breaks||[],s=a.length;if(s&&v(t)){for(;s--;)u.isInBreak(a[s],t)&&(i=!0,o=o||b(a[s].showPoints,!n.isXAxis));r=i&&e?i&&!o:i}return r},u.prototype.setBreaks=function(t,e){var d=this,c=d.axis,i=m(t)&&!!t.length;c.isDirty=d.hasBreaks!==i,d.hasBreaks=i,c.options.breaks=c.userOptions.breaks=t,c.forceRedraw=!0,c.series.forEach(function(t){t.isDirty=!0}),i||c.val2lin!==u.val2Lin||(delete c.val2lin,delete c.lin2val),i&&(c.userOptions.ordinal=!1,c.lin2val=u.lin2Val,c.val2lin=u.val2Lin,c.setExtremes=function(t,e,i,o,r){if(d.hasBreaks){for(var n=this.options.breaks||[],a=void 0;a=d.findBreakAt(t,n);)t=a.to;for(;a=d.findBreakAt(e,n);)e=a.from;e<t&&(e=t)}g.prototype.setExtremes.call(this,t,e,i,o,r)},c.setAxisTranslation=function(){var t,e,i,o,r,n,a,s,l,h,p;g.prototype.setAxisTranslation.call(this),d.unitLength=void 0,d.hasBreaks&&(t=c.options.breaks||[],e=[],i=[],o=b(c.pointRangePadding,0),r=0,s=c.userMin||c.min,l=c.userMax||c.max,t.forEach(function(t){a=t.repeat||1/0,v(s)&&v(l)&&(u.isInBreak(t,s)&&(s+=t.to%a-s%a),u.isInBreak(t,l)&&(l-=l%a-t.from%a))}),t.forEach(function(t){if(h=t.from,a=t.repeat||1/0,v(s)&&v(l)){for(;s<h-a;)h-=a;for(;h<s;)h+=a;for(p=h;p<l;p+=a)e.push({value:p,move:"in"}),e.push({value:p+t.to-t.from,move:"out",size:t.breakSize})}}),e.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),n=0,h=s,e.forEach(function(t){1===(n+="in"===t.move?1:-1)&&"in"===t.move&&(h=t.value),0===n&&v(h)&&(i.push({from:h,to:t.value,len:t.value-h-(t.size||0)}),r+=t.value-h-(t.size||0))}),d.breakArray=i,v(s)&&v(l)&&v(c.min)&&(d.unitLength=l-s-r+o,x(c,"afterBreaks"),c.staticScale?c.transA=c.staticScale:d.unitLength&&(c.transA*=(l-c.min+o)/d.unitLength),o&&(c.minPixelPadding=c.transA*(c.minPointOffset||0)),c.min=s,c.max=l))}),b(e,!0)&&c.chart.redraw()},u);function u(t){this.hasBreaks=!1,this.axis=t}t.Additions=e}(e=e||{}),e}),e(t,"masters/modules/broken-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/BrokenAxis.js"]],function(t,e){e.compose(t.Axis,t.Series)}),e(t,"Extensions/DataGrouping.js",[t["Core/Axis/Axis.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Tooltip.js"],t["Core/DefaultOptions.js"],t["Core/Utilities.js"]],function(o,m,t,e,i,r,n,a,s){var u=t.format,v=r.prototype,l=s.addEvent,h=s.arrayMax,p=s.arrayMin,d=s.correctFloat,O=s.defined,b=s.error,g=s.extend,E=s.isNumber,T=s.merge,y=s.pick,P=e.approximations={sum:function(t){var e,i=t.length;if(!i&&t.hasNulls)e=null;else if(i)for(e=0;i--;)e+=t[i];return e},average:function(t){var e=t.length,t=P.sum(t);return t=E(t)&&e?d(t/e):t},averages:function(){var e=[];return[].forEach.call(arguments,function(t){e.push(P.average(t))}),void 0===e[0]?void 0:e},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},high:function(t){return t.length?h(t):t.hasNulls?null:void 0},low:function(t){return t.length?p(t):t.hasNulls?null:void 0},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},ohlc:function(t,e,i,o){if(t=P.open(t),e=P.high(e),i=P.low(i),o=P.close(o),E(t)||E(e)||E(i)||E(o))return[t,e,i,o]},range:function(t,e){return t=P.low(t),e=P.high(e),E(t)||E(e)?[t,e]:null===t&&null===e?null:void 0}},t=function(t,e,i,o){var r,n,a,s,l,h,p=this,d=p.data,c=p.options&&p.options.data,u=[],g=[],f=[],x=t.length,m=!!e,v=[],b=p.pointArrayMap,y=b&&b.length,M=["x"].concat(b||["y"]),A=this.options.dataGrouping&&this.options.dataGrouping.groupAll,k=0,C=0;for(a="function"==typeof(h=o)?h:P[h]||P[p.getDGApproximation&&p.getDGApproximation()||"average"],y?b.forEach(function(){v.push([])}):v.push([]),s=y||1,l=0;l<=x&&!(t[l]>=i[0]);l++);for(;l<=x;l++){for(;void 0!==i[k+1]&&t[l]>=i[k+1]||l===x;){for(r=i[k],p.dataGroupInfo={start:A?C:p.cropStart+C,length:v[0].length},n=a.apply(p,v),p.pointClass&&!O(p.dataGroupInfo.options)&&(p.dataGroupInfo.options=T(p.pointClass.prototype.optionsToObject.call({series:p},p.options.data[p.cropStart+C])),M.forEach(function(t){delete p.dataGroupInfo.options[t]})),void 0!==n&&(u.push(r),g.push(n),f.push(p.dataGroupInfo)),C=l,B=0;B<s;B++)v[B].length=0,v[B].hasNulls=!1;if(k+=1,l===x)break}if(l===x)break;if(b)for(var S,w=p.options.dataGrouping&&p.options.dataGrouping.groupAll?l:p.cropStart+l,D=d&&d[w]||p.pointClass.prototype.applyOptions.apply({series:p},[c[w]]),B=0;B<y;B++)S=D[b[B]],E(S)?v[B].push(S):null===S&&(v[B].hasNulls=!0);else w=m?e[l]:null,E(w)?v[0].push(w):null===w&&(v[0].hasNulls=!0)}return{groupedXData:u,groupedYData:g,groupMap:f}},s={approximations:P,groupData:t},M=v.processData,c=v.generatePoints,f={groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},x={line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5}},A=e.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]];return v.getDGApproximation=function(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("column")?"sum":"average"},v.groupData=t,v.processData=function(){var t,e=this,i=e.chart,o=e.options.dataGrouping,r=!1!==e.allowDG&&o&&y(o.enabled,i.options.isStock),n=e.visible||!i.options.chart.ignoreHiddenSeries,a=this.currentDataGrouping,s=!1;if(e.forceCrop=r,e.groupPixelWidth=null,e.hasProcessed=!0,r&&!e.requireSorting&&(e.requireSorting=s=!0),g=!1===M.apply(e,arguments)||!r,s&&(e.requireSorting=!1),!g){e.destroyGroupedData();var l=void 0,h=o.groupAll?e.xData:e.processedXData,p=o.groupAll?e.yData:e.processedYData,d=i.plotSizeX,c=e.xAxis,r=c.options.ordinal,s=e.groupPixelWidth=c.getGroupPixelWidth&&c.getGroupPixelWidth();if(s&&h&&h.length){e.isDirty=t=!0,e.points=null;var u=c.getExtremes(),g=u.min,u=u.max,r=r&&c.ordinal&&c.ordinal.getGroupIntervalFactor(g,u,e)||1,f=c.getTimeTicks(m.AdditionsClass.prototype.normalizeTimeTickInterval(s*(u-g)/d*r,o.units||A),Math.min(g,h[0]),Math.max(u,h[h.length-1]),c.options.startOfWeek,h,e.closestPointRange),g=v.groupData.apply(e,[h,p,f,o.approximation]),h=g.groupedXData,p=g.groupedYData,x=0;for(o&&o.smoothed&&h.length&&(o.firstAnchor="firstPoint",o.anchor="middle",o.lastAnchor="lastPoint",b(32,!1,i,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),function(t,e,i){var o=t.options.dataGrouping,r=t.currentDataGrouping&&t.currentDataGrouping.gapSize;if(o&&t.xData&&r&&t.groupMap){var n,a=e.length-1,s=o.anchor,l=y(o.firstAnchor,s),h=y(o.lastAnchor,s);if(s&&"start"!==s)for(var p=r*{middle:.5,end:1}[s],d=e.length-1;d--&&0<d;)e[d]+=p;l&&"start"!==l&&t.xData[0]>=e[0]&&(n=t.groupMap[0].start,o=t.groupMap[0].length,s=void 0,E(n)&&E(o)&&(s=n+(o-1)),e[0]={middle:e[0]+.5*r,end:e[0]+r,firstPoint:t.xData[0],lastPoint:s&&t.xData[s]}[l]),h&&"start"!==h&&r&&e[a]>=i-r&&(i=t.groupMap[t.groupMap.length-1].start,e[a]={middle:e[a]+.5*r,end:e[a]+r,firstPoint:i&&t.xData[i],lastPoint:t.xData[t.xData.length-1]}[h])}}(e,h,u),l=1;l<f.length;l++)f.info.segmentStarts&&-1!==f.info.segmentStarts.indexOf(l)||(x=Math.max(f[l]-f[l-1],x));(u=f.info).gapSize=x,e.closestPointRange=f.info.totalRange,e.groupMap=g.groupMap,n&&(g=c,O((n=h)[0])&&E(g.min)&&E(g.dataMin)&&n[0]<g.min&&((!O(g.options.min)&&g.min<=g.dataMin||g.min===g.dataMin)&&(g.min=Math.min(n[0],g.min)),g.dataMin=Math.min(n[0],g.dataMin)),O(n[n.length-1])&&E(g.max)&&E(g.dataMax)&&n[n.length-1]>g.max&&((!O(g.options.max)&&E(g.dataMax)&&g.max>=g.dataMax||g.max===g.dataMax)&&(g.max=Math.max(n[n.length-1],g.max)),g.dataMax=Math.max(n[n.length-1],g.dataMax))),o.groupAll&&(h=(c=e.cropData(h,p,c.min,c.max,1)).xData,p=c.yData,e.cropStart=c.start),e.processedXData=h,e.processedYData=p}else e.groupMap=null;e.hasGroupedData=t,e.currentDataGrouping=u,e.preventGraphAnimation=(a&&a.totalRange)!==(u&&u.totalRange)}},v.destroyGroupedData=function(){this.groupedData&&(this.groupedData.forEach(function(t,e){t&&(this.groupedData[e]=t.destroy?t.destroy():null)},this),this.groupedData.length=0)},v.generatePoints=function(){c.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},l(i,"update",function(){if(this.dataGroup)return b(24,!1,this.series.chart),!1}),l(n,"headerFormatter",function(t){var e,i,o=this.chart,r=o.time,n=t.labelConfig,a=n.series,s=a.options,l=a.tooltipOptions,h=s.dataGrouping,p=l.xDateFormat,d=a.xAxis,c=l[(t.isFooter?"footer":"header")+"Format"];d&&"datetime"===d.options.type&&h&&E(n.key)&&(i=a.currentDataGrouping,s=h.dateTimeLabelFormats||f.dateTimeLabelFormats,i?(h=s[i.unitName],1===i.count?p=h[0]:(p=h[1],e=h[2])):!p&&s&&(p=this.getXDateFormat(n,l,d)),p=r.dateFormat(p,n.key),e&&(p+=r.dateFormat(e,n.key+i.totalRange-1)),a.chart.styledMode&&(c=this.styledModeFormat(c)),t.text=u(c,{point:g(n.point,{key:p}),series:a},o),t.preventDefault())}),l(r,"destroy",v.destroyGroupedData),l(r,"afterSetOptions",function(t){var e=t.options,i=this.type,o=this.chart.options.plotOptions,r=a.defaultOptions.plotOptions[i].dataGrouping,n=this.useCommonDataGrouping&&f;(x[i]||n)&&(r=r||T(f,x[i]),t=this.chart.rangeSelector,e.dataGrouping=T(n,r,o.series&&o.series.dataGrouping,o[i].dataGrouping,this.userOptions.dataGrouping,!e.isInternal&&t&&E(t.selected)&&t.buttonOptions[t.selected].dataGrouping))}),l(o,"afterSetScale",function(){this.series.forEach(function(t){t.hasProcessed=!1})}),o.prototype.getGroupPixelWidth=function(){for(var t,e,i=this.series,o=i.length,r=0,n=!1,a=o;a--;)(e=i[a].options.dataGrouping)&&(r=Math.max(r,y(e.groupPixelWidth,f.groupPixelWidth)));for(a=o;a--;)(e=i[a].options.dataGrouping)&&i[a].hasProcessed&&(t=(i[a].processedXData||i[a].data).length,(i[a].groupPixelWidth||t>this.chart.plotSizeX/r||t&&e.forced)&&(n=!0));return n?r:0},o.prototype.setDataGrouping=function(e,t){var i;if(t=y(t,!0),e=e||{forced:!1,units:null},this instanceof o)for(i=this.series.length;i--;)this.series[i].update({dataGrouping:e},!1);else this.chart.options.series.forEach(function(t){t.dataGrouping=e},!1);this.ordinal&&(this.ordinal.slope=void 0),t&&this.chart.redraw()},e.dataGrouping=s}),e(t,"Series/OHLC/OHLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(t){var o,e,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),t=t.seriesTypes.column;function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.close=void 0,t.high=void 0,t.low=void 0,t.open=void 0,t.options=void 0,t.plotClose=void 0,t.plotOpen=void 0,t.series=void 0,t}return e=t.prototype.pointClass,i(r,e),r.prototype.getClassName=function(){return e.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")},r.prototype.resolveUpColor=function(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)},r.prototype.resolveColor=function(){e.prototype.resolveColor.call(this),this.resolveUpColor()},r.prototype.getZone=function(){var t=e.prototype.getZone.call(this);return this.resolveUpColor(),t},r}),e(t,"Series/OHLC/OHLCSeries.js",[t["Series/OHLC/OHLCPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){var o,s,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),n=e.seriesTypes.column,a=i.extend,i=i.merge,n=(r(l,s=n),l.prototype.drawPoints=function(){function h(t,e,i){var o=t[0],t=t[1];"number"==typeof o[2]&&(o[2]=Math.max(i+e,o[2])),"number"==typeof t[2]&&(t[2]=Math.min(i-e,t[2]))}var p=this,t=p.points,d=p.chart;t.forEach(function(t){var e,i,o,r,n,a,s=t.graphic,l=!s;void 0!==t.plotY&&(s||(t.graphic=s=d.renderer.path().add(p.group)),d.styledMode||s.attr(p.pointAttribs(t,t.selected&&"select")),i=(a=s.strokeWidth())%2/2,n=Math.round(t.plotX)-i,o=Math.round(t.shapeArgs.width/2),r=[["M",n,Math.round(t.yBottom)],["L",n,Math.round(t.plotHigh)]],null!==t.open&&(e=Math.round(t.plotOpen)+i,r.push(["M",n,e],["L",n-o,e]),h(r,a/2,e)),null!==t.close&&(i=Math.round(t.plotClose)+i,r.push(["M",n,i],["L",n+o,i]),h(r,a/2,i)),s[l?"attr":"animate"]({d:r}).addClass(t.getClassName(),!0))})},l.prototype.init=function(){s.prototype.init.apply(this,arguments),this.options.stacking=void 0},l.prototype.pointAttribs=function(t,e){var i=s.prototype.pointAttribs.call(this,t,e),e=this.options;return delete i.fill,!t.options.color&&e.upColor&&t.open<t.close&&(i.stroke=e.upColor),i},l.prototype.toYData=function(t){return[t.open,t.high,t.low,t.close]},l.prototype.translate=function(){var o=this,r=o.yAxis,n=!!o.modifyValue,a=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];s.prototype.translate.apply(o),o.points.forEach(function(i){[i.open,i.high,i.low,i.close,i.low].forEach(function(t,e){null!==t&&(n&&(t=o.modifyValue(t)),i[a[e]]=r.toPixels(t,!0))}),i.tooltipPos[1]=i.plotHigh+r.pos-o.chart.plotTop})},l.defaultOptions=i(n.defaultOptions,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}),l);function l(){var t=null!==s&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.yData=void 0,t}return a(n.prototype,{animate:null,directTouch:!1,pointArrayMap:["open","high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),n.prototype.pointClass=t,e.registerSeriesType("ohlc",n),n}),e(t,"Series/Candlestick/CandlestickSeries.js",[t["Core/DefaultOptions.js"],t["Core/Color/Palette.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,o){var r,n,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=t.defaultOptions,t=i.seriesTypes,l=t.column,t=t.ohlc,o=o.merge,e=(a(h,n=t),h.prototype.pointAttribs=function(t,e){var i=l.prototype.pointAttribs.call(this,t,e),o=this.options,r=t.open<t.close,n=o.lineColor||this.color,a=t.color||this.color;return i["stroke-width"]=o.lineWidth,i.fill=t.options.color||r&&o.upColor||a,i.stroke=t.options.lineColor||r&&o.upLineColor||n,e&&(e=o.states[e],i.fill=e.color||i.fill,i.stroke=e.lineColor||i.stroke,i["stroke-width"]=e.lineWidth||i["stroke-width"]),i},h.prototype.drawPoints=function(){var p=this,t=p.points,d=p.chart,c=p.yAxis.reversed;t.forEach(function(t){var e,i,o,r,n,a,s,l=t.graphic,h=!l;void 0!==t.plotY&&(l||(t.graphic=l=d.renderer.path().add(p.group)),p.chart.styledMode||l.attr(p.pointAttribs(t,t.selected&&"select")).shadow(p.options.shadow),a=l.strokeWidth()%2/2,n=Math.round(t.plotX)-a,o=t.plotOpen,r=t.plotClose,e=Math.min(o,r),i=Math.max(o,r),s=Math.round(t.shapeArgs.width/2),o=c?i!==t.yBottom:Math.round(e)!==Math.round(t.plotHigh),r=c?Math.round(e)!==Math.round(t.plotHigh):i!==t.yBottom,e=Math.round(e)+a,i=Math.round(i)+a,(a=[]).push(["M",n-s,i],["L",n-s,e],["L",n+s,e],["L",n+s,i],["Z"],["M",n,e],["L",n,o?Math.round(c?t.yBottom:t.plotHigh):e],["M",n,i],["L",n,r?Math.round(c?t.plotHigh:t.yBottom):i]),l[h?"attr":"animate"]({d:a}).addClass(t.getClassName(),!0))})},h.defaultOptions=o(t.defaultOptions,s.plotOptions,{states:{hover:{lineWidth:2}},tooltip:s.plotOptions.ohlc.tooltip,threshold:null,lineColor:e.neutralColor100,lineWidth:1,upColor:e.backgroundColor,stickyTracking:!0}),h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.registerSeriesType("candlestick",e),e}),e(t,"Series/Flags/FlagsPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var o,i,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),t=t.seriesTypes.column,n=e.isNumber;function a(){var t=null!==i&&i.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return i=t.prototype.pointClass,r(a,i),a.prototype.isValid=function(){return n(this.y)||void 0===this.y},a.prototype.hasNewShapeType=function(){var t=this.options.shape||this.series.options.shape;return this.graphic&&t&&t!==this.graphic.symbolKey},a}),e(t,"Mixins/OnSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,e,i){var y=t.prototype,o=e.prototype,M=i.defined,A=i.stableSort;return{getPlotBox:function(){return o.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)},translate:function(){y.translate.apply(this);var t,o,e,i,r,n,a=this,s=a.options,l=a.chart,h=a.points,p=h.length-1,d=s.onSeries,d=d&&l.get(d),c=s.onKey||"y",u=d&&d.options.step,g=d&&d.points,f=g&&g.length,x=l.inverted,m=a.xAxis,v=a.yAxis,b=0;if(d&&d.visible&&f)for(b=(d.pointXOffset||0)+(d.barW||0)/2,l=d.currentDataGrouping,i=g[f-1].x+(l?l.totalRange:0),A(h,function(t,e){return t.x-e.x}),c="plot"+c[0].toUpperCase()+c.substr(1);f--&&h[p]&&(e=g[f],(t=h[p]).y=e.y,!(e.x<=t.x&&void 0!==e[c]&&(t.x<=i&&(t.plotY=e[c],e.x<t.x&&!u&&(r=g[f+1])&&void 0!==r[c]&&(n=(t.x-e.x)/(r.x-e.x),t.plotY+=n*(r[c]-e[c]),t.y+=n*(r.y-e.y))),f++,--p<0))););h.forEach(function(t,e){var i;t.plotX+=b,void 0!==t.plotY&&!x||(0<=t.plotX&&t.plotX<=m.len?x?(t.plotY=m.translate(t.x,0,1,0,1),t.plotX=M(t.y)?v.translate(t.y,0,0,0,1):0):t.plotY=(m.opposite?0:a.yAxis.len)+m.offset:t.shapeArgs={}),(o=h[e-1])&&o.plotX===t.plotX&&(void 0===o.stackIndex&&(o.stackIndex=0),i=o.stackIndex+1),t.stackIndex=i}),this.onSeries=d}}}),e(t,"Series/Flags/FlagsSymbols.js",[t["Core/Renderer/RendererRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"]],function(t,e){var h=e.prototype.symbols;function i(l){h[l+"pin"]=function(t,e,i,o,r){var n,a=r&&r.anchorX,s=r&&r.anchorY;return"circle"===l&&i<o&&(t-=Math.round((o-i)/2),i=o),n=h[l](t,e,i,o),a&&s&&(r=a,"circle"===l?r=t+i/2:(t=n[0],i=n[1],"M"===t[0]&&"L"===i[0]&&(r=(t[1]+i[1])/2)),n.push(["M",r,s<e?e:e+o],["L",a,s]),n=n.concat(h.circle(a-1,s-1,2,2))),n}}h.flag=function(t,e,i,o,r){var n=r&&r.anchorX||t,a=r&&r.anchorY||e,r=h.circle(n-1,a-1,2,2);return r.push(["M",n,a],["L",t,e+o],["L",t,e],["L",t+i,e],["L",t+i,e+o],["L",t,e+o],["Z"]),r},i("circle"),i("square");t=t.getRendererType();return t!==e&&(t.prototype.symbols.circlepin=h.circlepin,t.prototype.symbols.flag=h.flag,t.prototype.symbols.squarepin=h.squarepin),h}),e(t,"Series/Flags/FlagsSeries.js",[t["Series/Flags/FlagsPoint.js"],t["Core/Globals.js"],t["Mixins/OnSeries.js"],t["Core/Color/Palette.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(t,b,e,i,o,y,r){var n,a,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=b.noop,h=o.series,p=o.seriesTypes.column,d=r.addEvent,M=r.defined,c=r.extend,A=r.merge,k=r.objectEach,C=r.wrap,i=(s(u,a=p),u.prototype.animate=function(t){t&&this.setClip()},u.prototype.drawPoints=function(){for(var t,e,i,o,r,n,a,s,l=this,h=l.points,p=l.chart,d=p.renderer,c=p.inverted,u=l.options,g=u.y,f=l.yAxis,x={},m=[],v=h.length;v--;)o=h[v],a=(c?o.plotY:o.plotX)>l.xAxis.len,t=o.plotX,r=o.stackIndex,i=o.options.shape||u.shape,void 0!==(e=o.plotY)&&(e=o.plotY+g-(void 0!==r&&r*u.stackDistance)),o.anchorX=r?void 0:o.plotX,n=r?void 0:o.plotY,s="flag"!==i,r=o.graphic,void 0!==e&&0<=t&&!a?((r=r&&o.hasNewShapeType()?r.destroy():r)||(r=o.graphic=d.label("",null,null,i,null,null,u.useHTML).addClass("highcharts-point").add(l.markerGroup),o.graphic.div&&(o.graphic.div.point=o),r.isNew=!0),r.attr({align:s?"center":"left",width:u.width,height:u.height,"text-align":u.textAlign}),p.styledMode||r.attr(l.pointAttribs(o)).css(A(u.style,o.style)).shadow(u.shadow),0<t&&(t-=r.strokeWidth()%2),n={y:e,anchorY:n},u.allowOverlapX&&(n.x=t,n.anchorX=o.anchorX),r.attr({text:o.options.title||u.title||"A"})[r.isNew?"attr":"animate"](n),u.allowOverlapX||(x[o.plotX]?x[o.plotX].size=Math.max(x[o.plotX].size,r.width):x[o.plotX]={align:s?.5:0,size:r.width,target:t,anchorX:t}),o.tooltipPos=[t,e+f.pos-p.plotTop]):r&&(o.graphic=r.destroy());u.allowOverlapX||(k(x,function(t){t.plotX=t.anchorX,m.push(t)}),b.distribute(m,(c?f:this.xAxis).len,100),h.forEach(function(t){var e=t.graphic&&x[t.plotX];e&&(t.graphic[t.graphic.isNew?"attr":"animate"]({x:e.pos+e.align*e.size,anchorX:t.anchorX}),M(e.pos)?t.graphic.isNew=!1:(t.graphic.attr({x:-9999,anchorX:-9999}),t.graphic.isNew=!0))})),u.useHTML&&C(l.markerGroup,"on",function(t){return y.prototype.on.apply(t.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},u.prototype.drawTracker=function(){var i=this.points;a.prototype.drawTracker.call(this),i.forEach(function(e){var t=e.graphic;t&&(e.unbindMouseOver&&e.unbindMouseOver(),e.unbindMouseOver=d(t.element,"mouseover",function(){0<e.stackIndex&&!e.raised&&(e._y=t.y,t.attr({y:e._y-8}),e.raised=!0),i.forEach(function(t){t!==e&&t.raised&&t.graphic&&(t.graphic.attr({y:t._y}),t.raised=!1)})}))})},u.prototype.pointAttribs=function(t,e){var i=this.options,o=t&&t.color||this.color,r=i.lineColor,n=t&&t.lineWidth,t=t&&t.fillColor||i.fillColor;return e&&(t=i.states[e].fillColor,r=i.states[e].lineColor,n=i.states[e].lineWidth),{fill:t||o,stroke:r||o,"stroke-width":n||i.lineWidth||0}},u.prototype.setClip=function(){h.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])},u.defaultOptions=A(p.defaultOptions,{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:i.backgroundColor,lineWidth:1,states:{hover:{lineColor:i.neutralColor100,fillColor:i.highlightColor20}},style:{fontSize:"11px",fontWeight:"bold"}}),u);function u(){var t=null!==a&&a.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return c(i.prototype,{allowDG:!1,buildKDTree:l,forceCrop:!0,getPlotBox:e.getPlotBox,init:h.prototype.init,invertGroups:l,invertible:!1,noSharedTooltip:!0,pointClass:t,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],translate:e.translate}),o.registerSeriesType("flags",i),i}),e(t,"Extensions/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/DefaultOptions.js"],t["Core/Color/Palette.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(m,t,u,e,g,o,i){var f=e.defaultOptions,v=i.addEvent,x=i.createElement,b=i.css,y=i.defined,r=i.destroyObjectProperties,n=i.discardElement,M=i.extend,a=i.find,A=i.fireEvent,S=i.isNumber,k=i.merge,s=i.objectEach,l=i.pad,C=i.pick,h=i.pInt,w=i.splat;M(f,{rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:g.highlightColor80,cursor:"pointer"},labelStyle:{color:g.neutralColor60}}}),M(f.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:""});var p,d,c=(D.prototype.clickButton=function(t,e){var i,o,r,n,a,s=this,l=s.chart,h=s.buttonOptions[t],p=l.xAxis[0],d=l.scroller&&l.scroller.getUnionExtremes()||p||{},c=d.dataMin,u=d.dataMax,g=p&&Math.round(Math.min(p.max,C(u,p.max))),f=h.type,x=h._range,d=h.dataGrouping;if(null!==c&&null!==u){if(l.fixedRange=x,s.setSelected(t),d&&(this.forcedDataGrouping=!0,m.prototype.setDataGrouping.call(p||{chart:this.chart},d,!1),this.frozenStates=h.preserveDataGrouping),"month"===f||"year"===f)p?(d={range:h,max:g,chart:l,dataMin:c,dataMax:u},i=p.minFromRange.call(d),S(d.newMax)&&(g=d.newMax)):x=h;else if(x)i=Math.max(g-x,c),g=Math.min(i+x,u);else if("ytd"===f){if(!p)return void(s.deferredYTDClick=t);void 0===u&&(c=Number.MAX_VALUE,u=Number.MIN_VALUE,l.series.forEach(function(t){t=t.xData;c=Math.min(t[0],c),u=Math.max(t[t.length-1],u)}),e=!1),i=r=(s=s.getYTDExtremes(u,c,l.time.useUTC)).min,g=s.max}else"all"===f&&p&&(l.navigator&&l.navigator.baseSeries[0]&&(l.navigator.baseSeries[0].xAxis.options.range=void 0),i=c,g=u);y(i)&&(i+=h._offsetMin),y(g)&&(g+=h._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=t+1),p?p.setExtremes(i,g,C(e,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:h}):(o=w(l.options.xAxis)[0],a=o.range,o.range=x,n=o.min,o.min=r,v(l,"load",function(){o.range=a,o.min=n})),A(this,"afterBtnClick")}},D.prototype.setSelected=function(t){this.selected=this.options.selected=t},D.prototype.init=function(e){function t(){var t=i.minInput,e=i.maxInput;t&&t.blur&&A(t,"blur"),e&&e.blur&&A(e,"blur")}var i=this,o=e.options.rangeSelector,r=o.buttons||i.defaultButtons.slice(),n=o.selected;i.chart=e,i.options=o,i.buttons=[],i.buttonOptions=r,this.eventsToUnbind=[],this.eventsToUnbind.push(v(e.container,"mousedown",t)),this.eventsToUnbind.push(v(e,"resize",t)),r.forEach(i.computeButtonRange),void 0!==n&&r[n]&&this.clickButton(n,!1),this.eventsToUnbind.push(v(e,"load",function(){e.xAxis&&e.xAxis[0]&&v(e.xAxis[0],"setExtremes",function(t){this.max-this.min!==e.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&i.forcedDataGrouping&&!i.frozenStates&&this.setDataGrouping(!1,!1)})}))},D.prototype.updateButtonStates=function(){var c=this,t=this.chart,u=this.dropdown,g=t.xAxis[0],f=Math.round(g.max-g.min),x=!g.hasVisibleSeries,e=t.scroller&&t.scroller.getUnionExtremes()||g,m=e.dataMin,v=e.dataMax,t=c.getYTDExtremes(v,m,t.time.useUTC),b=t.min,y=t.max,M=c.selected,A=S(M),k=c.options.allButtonsEnabled,C=c.buttons;c.buttonOptions.forEach(function(t,e){var i=t._range,o=t.type,r=t.count||1,n=C[e],a=0,s=t._offsetMax-t._offsetMin,l=e===M,h=i<g.minRange,p=!1,d=!1,t=i===f;("month"===o||"year"===o)&&864e5*{month:28,year:365}[o]*r-s<=f+36e5&&f-36e5<=864e5*{month:31,year:366}[o]*r+s?t=!0:"ytd"===o?(t=y-b+s===f,p=!l):"all"===o&&(t=g.max-g.min>=v-m,d=!l&&A&&t),l=l&&t||t&&!A&&!p||l&&c.frozenStates,(d=!k&&(v-m<i||h||d||x))?a=3:l&&(A=!0,a=2),n.state!==a&&(n.setState(a),u&&(u.options[e+1].disabled=d,2===a&&(u.selectedIndex=e+1)),0===a&&M===e&&c.setSelected())})},D.prototype.computeButtonRange=function(t){var e=t.type,i=t.count||1,o={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};o[e]?t._range=o[e]*i:"month"!==e&&"year"!==e||(t._range=24*{month:30,year:365}[e]*36e5*i),t._offsetMin=C(t.offsetMin,0),t._offsetMax=C(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin},D.prototype.getInputValue=function(t){var e="min"===t?this.minInput:this.maxInput,i=this.chart.options.rangeSelector,t=this.chart.time;return e?("text"===e.type&&i.inputDateParser||this.defaultInputDateParser)(e.value,t.useUTC,t):0},D.prototype.setInputValue=function(t,e){var i,o=this.options,r=this.chart.time,n="min"===t?this.minInput:this.maxInput,a="min"===t?this.minDateBox:this.maxDateBox;n&&(i=n.getAttribute("data-hc-time"),t=y(i)?Number(i):void 0,y(e)&&(y(i=t)&&n.setAttribute("data-hc-time-previous",i),n.setAttribute("data-hc-time",e),t=e),n.value=r.dateFormat(this.inputTypeFormats[n.type]||o.inputEditDateFormat,t),a&&a.attr({text:r.dateFormat(o.inputDateFormat,t)}))},D.prototype.setInputExtremes=function(t,e,i){var o,r="min"===t?this.minInput:this.maxInput;r&&(o=this.inputTypeFormats[r.type],t=this.chart.time,o&&(e=t.dateFormat(o,e),r.min!==e&&(r.min=e),i=t.dateFormat(o,i),r.max!==i&&(r.max=i)))},D.prototype.showInput=function(t){var e,i,o,r="min"===t?this.minDateBox:this.maxDateBox,n="min"===t?this.minInput:this.maxInput;n&&r&&this.inputGroup&&(e="text"===n.type,i=(o=this.inputGroup).translateX,t=o.translateY,o=this.options.inputBoxWidth,b(n,{width:e?r.width+(o?-2:20)+"px":"auto",height:e?r.height-2+"px":"auto",border:"2px solid silver"}),b(n,e&&o?{left:i+r.x+"px",top:t+"px"}:{left:Math.min(Math.round(r.x+i-(n.offsetWidth-r.width)/2),this.chart.chartWidth-n.offsetWidth)+"px",top:t-(n.offsetHeight-r.height)/2+"px"}))},D.prototype.hideInput=function(t){t="min"===t?this.minInput:this.maxInput;t&&b(t,{top:"-9999em",border:0,width:"1px",height:"1px"})},D.prototype.defaultInputDateParser=function(t,e,i){var o,r=t.split("/").join("-").split(" ").join("T");-1===r.indexOf("T")&&(r+="T00:00"),e?r+="Z":!u.isSafari||6<(o=r).length&&(o.lastIndexOf("-")===o.length-6||o.lastIndexOf("+")===o.length-6)||(r+=(n=new Date(r).getTimezoneOffset()/60)<=0?"+"+l(-n)+":00":"-"+l(n)+":00");var n=Date.parse(r);return S(n)||(t=t.split("-"),n=Date.UTC(h(t[0]),h(t[1])-1,h(t[2]))),i&&e&&S(n)&&(n+=i.getTimezoneOffset(n)),n},D.prototype.drawInput=function(a){var s=this.chart,t=this.div,e=this.inputGroup,l=this,i=s.renderer.style||{},o=s.renderer,r=s.options.rangeSelector,n=f.lang,h="min"===a;function p(){var t=l.getInputValue(a),e=s.xAxis[0],i=s.scroller&&s.scroller.xAxis?s.scroller.xAxis:e,o=i.dataMin,r=i.dataMax,n=l.maxInput,i=l.minInput;t!==Number(d.getAttribute("data-hc-time-previous"))&&S(t)&&(d.setAttribute("data-hc-time-previous",t),h&&n&&S(o)?t>Number(n.getAttribute("data-hc-time"))?t=void 0:t<o&&(t=o):i&&S(r)&&(t<Number(i.getAttribute("data-hc-time"))?t=void 0:r<t&&(t=r)),void 0!==t&&e.setExtremes(h?t:e.min,h?e.max:t,void 0,void 0,{trigger:"rangeSelectorInput"}))}n=n[h?"rangeSelectorFrom":"rangeSelectorTo"],n=o.label(n,0).addClass("highcharts-range-label").attr({padding:n?2:0,height:n?r.inputBoxHeight:0}).add(e),o=o.label("",0).addClass("highcharts-range-input").attr({padding:2,width:r.inputBoxWidth,height:r.inputBoxHeight,"text-align":"center"}).on("click",function(){l.showInput(a),l[a+"Input"].focus()});s.styledMode||o.attr({stroke:r.inputBoxBorderColor,"stroke-width":1}),o.add(e);var d=x("input",{name:a,className:"highcharts-range-selector"},void 0,t);d.setAttribute("type",function(e){if(-1!==e.indexOf("%L"))return"text";var t=["a","A","d","e","w","b","B","m","o","y","Y"].some(function(t){return-1!==e.indexOf("%"+t)}),i=["H","k","I","l","M","S"].some(function(t){return-1!==e.indexOf("%"+t)});if(t&&i)return"datetime-local";if(t)return"date";if(i)return"time";return"text"}(r.inputDateFormat||"%b %e, %Y")),s.styledMode||(n.css(k(i,r.labelStyle)),o.css(k({color:g.neutralColor80},i,r.inputStyle)),b(d,M({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:i.fontSize,fontFamily:i.fontFamily,top:"-9999em"},r.inputStyle))),d.onfocus=function(){l.showInput(a)};var c=!(d.onblur=function(){d===u.doc.activeElement&&p(),l.hideInput(a),l.setInputValue(a),d.blur()});return d.onchange=function(){c||(p(),l.hideInput(a),d.blur())},d.onkeypress=function(t){13===t.keyCode&&p()},d.onkeydown=function(t){c=!0,38!==t.keyCode&&40!==t.keyCode||p()},d.onkeyup=function(){c=!1},{dateBox:o,input:d,label:n}},D.prototype.getPosition=function(){var t=this.chart,e=t.options.rangeSelector,t="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0;return{buttonTop:t+e.buttonPosition.y,inputTop:t+e.inputPosition.y-10}},D.prototype.getYTDExtremes=function(t,e,i){var o=this.chart.time,r=new o.Date(t),n=o.get("FullYear",r),n=i?o.Date.UTC(n,0,1):+new o.Date(n,0,1),n=Math.max(e,n),r=r.getTime();return{max:Math.min(t||r,r),min:n}},D.prototype.render=function(t,e){var i,o=this.chart,r=o.renderer,n=o.container,a=o.options,s=a.rangeSelector,l=C(a.chart.style&&a.chart.style.zIndex,0)+1,h=s.inputEnabled,a=this.rendered;!1!==s.enabled&&(a||(this.group=r.g("range-selector-group").attr({zIndex:7}).add(),this.div=x("div",void 0,{position:"relative",height:0,zIndex:l}),this.buttonOptions.length&&this.renderButtons(),n.parentNode&&n.parentNode.insertBefore(this.div,n),h&&(this.inputGroup=r.g("input-group").add(this.group),r=this.drawInput("min"),this.minDateBox=r.dateBox,this.minLabel=r.label,this.minInput=r.input,r=this.drawInput("max"),this.maxDateBox=r.dateBox,this.maxLabel=r.label,this.maxInput=r.input)),h&&(this.setInputValue("min",t),this.setInputValue("max",e),e=o.scroller&&o.scroller.getUnionExtremes()||o.xAxis[0]||{},y(e.dataMin)&&y(e.dataMax)&&(o=o.xAxis[0].minRange||0,this.setInputExtremes("min",e.dataMin,Math.min(e.dataMax,this.getInputValue("max"))-o),this.setInputExtremes("max",Math.max(e.dataMin,this.getInputValue("min"))+o,e.dataMax)),this.inputGroup&&(i=0,[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(t){var e;!t||(e=t.getBBox().width)&&(t.attr({x:i}),i+=e+s.inputSpacing)}))),this.alignElements(),this.rendered=!0)},D.prototype.renderButtons=function(){var n=this,a=this.buttons,t=this.chart,e=this.options,i=f.lang,s=t.renderer,l=k(e.buttonTheme),h=l&&l.states,p=l.width||28;delete l.width,delete l.states,this.buttonGroup=s.g("range-selector-buttons").add(this.group);var d=this.dropdown=x("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);v(d,"touchstart",function(){d.style.fontSize="16px"}),[[u.isMS?"mouseover":"mouseenter"],[u.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(t){var e=t[0],i=t[1];v(d,e,function(){var t=a[n.currentButtonIndex()];t&&A(t.element,i||e)})}),this.zoomText=s.label(i&&i.rangeSelectorZoom||"",0).attr({padding:e.buttonTheme.padding,height:e.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(e.labelStyle),l["stroke-width"]=C(l["stroke-width"],0)),x("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,d),this.buttonOptions.forEach(function(o,r){x("option",{textContent:o.title||o.text},void 0,d),a[r]=s.button(o.text,0,0,function(t){var e,i=o.events&&o.events.click;!1!==(e=i?i.call(o,t):e)&&n.clickButton(r),n.isActive=!0},l,h&&h.hover,h&&h.select,h&&h.disabled).attr({"text-align":"center",width:p}).add(n.buttonGroup),o.title&&a[r].attr("title",o.title)})},D.prototype.alignElements=function(){function t(t,e){return c&&o.titleCollision(a)&&"top"===f&&"right"===e.align&&e.y-t.getBBox().height-12<(c.y||0)+(c.height||0)+a.spacing[0]?-40:0}var i,o=this,e=this,r=e.buttonGroup,n=e.buttons,a=e.chart,s=e.group,l=e.inputGroup,h=e.options,p=e.zoomText,d=a.options,c=d.exporting&&!1!==d.exporting.enabled&&d.navigation&&d.navigation.buttonOptions,u=h.buttonPosition,g=h.inputPosition,f=h.verticalAlign,e=a.plotLeft;s&&u&&g&&(d=u.x-a.spacing[3],r&&(this.positionButtons(),this.initialButtonGroupWidth||(i=0,p&&(i+=p.getBBox().width+5),n.forEach(function(t,e){i+=t.width,e!==n.length-1&&(i+=h.buttonSpacing)}),this.initialButtonGroupWidth=i),e-=a.spacing[3],this.updateButtonStates(),p=t(r,u),this.alignButtonGroup(p),s.placed=r.placed=a.hasLoaded),r=0,l&&(r=t(l,g),"left"===g.align?d=e:"right"===g.align&&(d=-Math.max(a.axisOffset[1],-r)),l.align({y:g.y,width:l.getBBox().width,align:g.align,x:g.x+d-2},!0,a.spacingBox),l.placed=a.hasLoaded),this.handleCollision(r),s.align({verticalAlign:f},!0,a.spacingBox),e=s.alignAttr.translateY,d=s.getBBox().height+20,l=0,"bottom"===f&&(l=e-(d=d+((r=a.legend&&a.legend.options)&&"bottom"===r.verticalAlign&&r.enabled&&!r.floating?a.legend.legendHeight+C(r.margin,10):0)-20)-(h.floating?0:h.y)-(a.titleOffset?a.titleOffset[2]:0)-10),"top"===f?(h.floating&&(l=0),a.titleOffset&&a.titleOffset[0]&&(l=a.titleOffset[0]),l+=a.margin[0]-a.spacing[0]||0):"middle"===f&&(g.y===u.y?l=e:(g.y||u.y)&&(g.y<0||u.y<0?l-=Math.min(g.y,u.y):l=e-d)),s.translate(h.x,h.y+Math.floor(l)),e=this.minInput,d=this.maxInput,l=this.dropdown,h.inputEnabled&&e&&d&&(e.style.marginTop=s.translateY+"px",d.style.marginTop=s.translateY+"px"),l&&(l.style.marginTop=s.translateY+"px"))},D.prototype.alignButtonGroup=function(t,e){var i=this.chart,o=this.options,r=this.buttonGroup,n=(this.buttons,o.buttonPosition),a=i.plotLeft-i.spacing[3],o=n.x-i.spacing[3];"right"===n.align?o+=t-a:"center"===n.align&&(o-=a/2),r&&r.align({y:n.y,width:C(e,this.initialButtonGroupWidth),align:n.align,x:o},!0,i.spacingBox)},D.prototype.positionButtons=function(){var i=this.buttons,t=this.chart,o=this.options,e=this.zoomText,r=t.hasLoaded?"animate":"attr",n=o.buttonPosition,a=t.plotLeft,s=a;e&&"hidden"!==e.visibility&&(e[r]({x:C(a+n.x,a)}),s+=n.x+e.getBBox().width+5),this.buttonOptions.forEach(function(t,e){"hidden"!==i[e].visibility?(i[e][r]({x:s}),s+=i[e].width+o.buttonSpacing):i[e][r]({x:a})})},D.prototype.handleCollision=function(r){function t(){var e=0;return i.buttons.forEach(function(t){t=t.getBBox();t.width>e&&(e=t.width)}),e}function e(t){if(a&&n){var e=a.alignAttr.translateX+a.alignOptions.x-r+a.getBBox().x+2,i=a.alignOptions.width,o=n.alignAttr.translateX+n.getBBox().x;return e<o+t&&o<e+i&&l.y<p.y+a.getBBox().height}}var i=this,o=this.chart,n=this.buttonGroup,a=this.inputGroup,s=this.options,l=s.buttonPosition,h=s.dropdown,p=s.inputPosition,s=function(){a&&n&&a.attr({translateX:a.alignAttr.translateX+(o.axisOffset[1]>=-r?0:-r),translateY:a.alignAttr.translateY+n.getBBox().height+10})};if(n){if("always"===h)return this.collapseButtons(r),void(e(t())&&s());"never"===h&&this.expandButtons()}a&&n?p.align===l.align||e(this.initialButtonGroupWidth+20)?"responsive"===h?(this.collapseButtons(r),e(t())&&s()):s():"responsive"===h&&this.expandButtons():n&&"responsive"===h&&(this.initialButtonGroupWidth>o.plotWidth?this.collapseButtons(r):this.expandButtons())},D.prototype.collapseButtons=function(t){function i(t){return{text:t?t+" ":"",width:"auto",paddingLeft:C(s.buttonTheme.paddingLeft,l.padding,8),paddingRight:C(s.buttonTheme.paddingRight,l.padding,8)}}var e=this,o=e.buttons,r=e.buttonOptions,n=e.chart,a=e.dropdown,s=e.options,e=e.zoomText,l=n.userOptions.rangeSelector&&n.userOptions.rangeSelector.buttonTheme||{};e&&e.hide();var h=!1;r.forEach(function(t,e){e=o[e];2!==e.state?e.hide():(e.show(),e.attr(i(t.text)),h=!0)}),h||(a&&(a.selectedIndex=0),o[0].show(),o[0].attr(i(this.zoomText&&this.zoomText.textStr)));a=s.buttonPosition.align;this.positionButtons(),"right"!==a&&"center"!==a||this.alignButtonGroup(t,o[this.currentButtonIndex()].getBBox().width),this.showDropdown()},D.prototype.expandButtons=function(){var i=this.buttons,t=this.buttonOptions,o=this.options,e=this.zoomText;this.hideDropdown(),e&&e.show(),t.forEach(function(t,e){e=i[e];e.show(),e.attr({text:t.text,width:o.buttonTheme.width||28,paddingLeft:C(o.buttonTheme.paddingLeft,"unset"),paddingRight:C(o.buttonTheme.paddingRight,"unset")}),e.state<2&&e.setState(0)}),this.positionButtons()},D.prototype.currentButtonIndex=function(){var t=this.dropdown;return t&&0<t.selectedIndex?t.selectedIndex-1:0},D.prototype.showDropdown=function(){var t,e=this.buttonGroup,i=this.buttons,o=this.chart,r=this.dropdown;e&&r&&(t=e.translateX,e=e.translateY,i=i[this.currentButtonIndex()].getBBox(),b(r,{left:o.plotLeft+t+"px",top:e+.5+"px",width:i.width+"px",height:i.height+"px"}),this.hasVisibleDropdown=!0)},D.prototype.hideDropdown=function(){var t=this.dropdown;t&&(b(t,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)},D.prototype.getHeight=function(){var t=this.options,e=this.group,i=t.inputPosition,o=t.buttonPosition,r=t.y,n=o.y,o=i.y,i=0;return t.height||(this.alignElements(),i=e?e.getBBox(!0).height+13+r:0,r=Math.min(o,n),(o<0&&n<0||0<o&&0<n)&&(i+=Math.abs(r)),i)},D.prototype.titleCollision=function(t){return!(t.options.title.text||t.options.subtitle.text)},D.prototype.update=function(t){var e=this.chart;k(!0,e.options.rangeSelector,t),this.destroy(),this.init(e),this.render()},D.prototype.destroy=function(){var i=this,t=i.minInput,e=i.maxInput;i.eventsToUnbind&&(i.eventsToUnbind.forEach(function(t){return t()}),i.eventsToUnbind=void 0),r(i.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),e&&(e.onfocus=e.onblur=e.onchange=null),s(i,function(t,e){t&&"chart"!==e&&(t instanceof o?t.destroy():t instanceof window.HTMLElement&&n(t)),t!==D.prototype[e]&&(i[e]=null)},this)},D);function D(t){this.buttons=void 0,this.buttonOptions=D.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=t,this.init(t)}return c.prototype.defaultButtons=[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],c.prototype.inputTypeFormats={"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"},m.prototype.minFromRange=function(){function t(t,e){var i="year"===n?"FullYear":"Month",o=new s.Date(t),r=s.get(i,o);return s.set(i,o,r+e),r===s.get(i,o)&&s.set("Date",o,0),o.getTime()-t}var e,i,o,r=this.range,n=r.type,a=this.max,s=this.chart.time;return S(r)?(e=a-r,o=r):(e=a+t(a,-r.count),this.chart&&(this.chart.fixedRange=a-e)),i=C(this.dataMin,Number.MIN_VALUE),(e=!S(e)?i:e)<=i&&(e=i,void 0===o&&(o=t(e,r.count)),this.newMax=Math.min(e+o,this.dataMax)),e=!S(a)?void 0:e},u.RangeSelector||(p=[],d=function(e){var t,i,o,r=e.rangeSelector;function n(){r&&(t=e.xAxis[0].getExtremes(),i=e.legend,o=r&&r.options.verticalAlign,S(t.min)&&r.render(t.min,t.max),i.display&&"top"===o&&o===i.options.verticalAlign&&(o=k(e.spacingBox),"vertical"===i.options.layout?o.y=e.plotTop:o.y+=r.getHeight(),i.group.placed=!1,i.align(o)))}r&&(a(p,function(t){return t[0]===e})||p.push([e,[v(e.xAxis[0],"afterSetExtremes",function(t){r&&r.render(t.min,t.max)}),v(e,"redraw",n)]]),n())},v(t,"afterGetContainer",function(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new c(this))}),v(t,"beforeRender",function(){var t=this.axes,e=this.rangeSelector;e&&(S(e.deferredYTDClick)&&(e.clickButton(e.deferredYTDClick),delete e.deferredYTDClick),t.forEach(function(t){t.updateNames(),t.setScale()}),this.getAxisMargins(),e.render(),t=e.options.verticalAlign,e.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)))}),v(t,"update",function(t){var e=t.options.rangeSelector,i=this.rangeSelector,o=this.extraBottomMargin,t=this.extraTopMargin;e&&e.enabled&&!y(i)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=i=new c(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,i&&(d(this),e=e&&e.verticalAlign||i.options&&i.options.verticalAlign,i.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0)),this.extraBottomMargin===o&&this.extraTopMargin===t||(this.isDirtyBox=!0))}),v(t,"render",function(){var t=this.rangeSelector;t&&!t.options.floating&&(t.render(),"bottom"===(t=t.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0))}),v(t,"getMargins",function(){var t=this.rangeSelector;t&&(t=t.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))}),t.prototype.callbacks.push(d),v(t,"destroy",function(){for(var t=0;t<p.length;t++){var e=p[t];if(e[0]===this)return e[1].forEach(function(t){return t()}),void p.splice(t,1)}}),u.RangeSelector=c),c}),e(t,"Core/Chart/StockChart.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/DefaultOptions.js"],t["Core/Color/Palette.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,i,o,r,v,n,a,s,l){var h,p,d,c=this&&this.__extends||(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=t.animObject,b=o.format,g=r.getOptions,f=n.prototype.tooltipFormatter,r=a.prototype,x=r.init,m=r.processData,r=l.addEvent,y=l.arrayMax,M=l.arrayMin,A=l.clamp,k=l.defined,C=l.extend,S=l.find,w=l.isNumber,D=l.isString,B=l.merge,O=l.pick,E=l.splat,c=(c(T,p=i),T.prototype.init=function(i,t){var o=g(),e=i.xAxis,r=i.yAxis,n=O(i.navigator&&i.navigator.enabled,o.navigator.enabled,!0);i.xAxis=i.yAxis=void 0;n=B({chart:{panning:{enabled:!0,type:"x"},pinchType:"x"},navigator:{enabled:n},scrollbar:{enabled:O(o.scrollbar&&o.scrollbar.enabled,!0)},rangeSelector:{enabled:O(o.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:O(o.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},i,{isStock:!0});i.xAxis=e,i.yAxis=r,n.xAxis=E(i.xAxis||{}).map(function(t,e){return B(P("xAxis",t),o.xAxis,o.xAxis&&o.xAxis[e],t,G("xAxis",i))}),n.yAxis=E(i.yAxis||{}).map(function(t,e){return B(P("yAxis",t),o.yAxis,o.yAxis&&o.yAxis[e],t)}),p.prototype.init.call(this,n,t)},T.prototype.createAxis=function(t,e){return e.axis=B(P(t,e.axis),e.axis,G(t,this.userOptions)),p.prototype.createAxis.call(this,t,e)},T);function T(){return null!==p&&p.apply(this,arguments)||this}function P(t,e){return"xAxis"===t?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:"yAxis"===t?{labels:{y:-2},opposite:O(e.opposite,!0),showLastLabel:!(!e.categories&&"category"!==e.type),title:{text:null}}:{}}function G(t,e){if("xAxis"!==t)return{};var i=g(),t={type:"datetime",categories:void 0};return O(e.navigator&&e.navigator.enabled,i.navigator.enabled,!0)&&(t.startOnTick=!1,t.endOnTick=!1),t}return(d=c=c||{}).stockChart=function(t,e,i){return new d(t,e,i)},r(a,"setOptions",function(t){var e;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?e={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(e={marker:{enabled:!1,radius:2}}),e&&(t.plotOptions[this.type]=B(t.plotOptions[this.type],e)))}),r(e,"autoLabelAlign",function(t){var e,i=this.chart,o=this.options,r=i._labelPanes=i._labelPanes||{},i=this.options.labels;this.chart.options.isStock&&"yAxis"===this.coll&&!r[e=o.top+","+o.height]&&i.enabled&&(15===i.x&&(i.x=0),void 0===i.align&&(i.align="right"),r[e]=this,t.align="right",t.preventDefault())}),r(e,"destroy",function(){var t=this.chart,e=this.options&&this.options.top+","+this.options.height;e&&t._labelPanes&&t._labelPanes[e]===this&&delete t._labelPanes[e]}),r(e,"getPlotLinePath",function(t){var i,o,r,n,a,s,e,l,h=this,p=(this.isLinked&&!this.series?this.linkedParent:this).series,d=h.chart,c=d.renderer,u=h.left,g=h.top,f=[],x=[],m=t.translatedValue,v=t.value,b=t.force;(d.options.isStock&&!1!==t.acrossPanes&&"xAxis"===h.coll||"yAxis"===h.coll)&&(t.preventDefault(),e=h.coll,l="xAxis"===e?"yAxis":"xAxis",e=h.options[l],x=w(e)?[d[l][e]]:D(e)?[d.get(e)]:p.map(function(t){return t[l]}),(h.isXAxis?d.yAxis:d.xAxis).forEach(function(t){var e;k(t.options.id)&&-1!==t.options.id.indexOf("navigator")||(e=t.isXAxis?"yAxis":"xAxis",e=k(t.options[e])?d[e][t.options[e]]:d[e][0],h===e&&x.push(t))}),a=x.length?[]:[(h.isXAxis?d.yAxis:d.xAxis)[0]],x.forEach(function(e){-1!==a.indexOf(e)||S(a,function(t){return t.pos===e.pos&&t.len===e.len})||a.push(e)}),s=O(m,h.translate(v,null,null,t.old)),w(s)&&(h.horiz?a.forEach(function(t){var e;o=t.pos,n=o+t.len,i=r=Math.round(s+h.transB),"pass"!==b&&(i<u||i>u+h.width)&&(b?i=r=A(i,u,u+h.width):e=!0),e||f.push(["M",i,o],["L",r,n])}):a.forEach(function(t){var e;i=t.pos,r=i+t.len,o=n=Math.round(g+h.height-s),"pass"!==b&&(o<g||o>g+h.height)&&(b?o=n=A(o,g,g+h.height):e=!0),e||f.push(["M",i,o],["L",r,n])})),t.path=0<f.length?c.crispPolyLine(f,t.lineWidth||1):null)}),s.prototype.crispPolyLine=function(t,e){for(var i=0;i<t.length;i+=2){var o=t[i],r=t[i+1];o[1]===r[1]&&(o[1]=r[1]=Math.round(o[1])-e%2/2),o[2]===r[2]&&(o[2]=r[2]=Math.round(o[2])+e%2/2)}return t},r(e,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),r(e,"afterDrawCrosshair",function(t){var e,i,o,r,n,a,s,l,h,p,d,c,u,g,f,x,m;this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&w(this.min)&&w(this.max)&&(e=this.chart,d=this.logarithmic,i=this.crosshair.label,o=this.horiz,r=this.opposite,p=this.left,s=this.top,n=this.crossLabel,l=i.format,h="",c="inside"===this.options.tickPosition,u=!1!==this.crosshair.snap,g=0,x=t.e||this.cross&&this.cross.e,f=t.point,m=this.min,t=this.max,d&&(m=d.lin2log(m),t=d.lin2log(t)),d=o?"center":r?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",n||(n=this.crossLabel=e.renderer.label("",0,void 0,i.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(f?f.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:i.align||d,padding:O(i.padding,8),r:O(i.borderRadius,3),zIndex:2}).add(this.labelGroup),e.styledMode||n.attr({fill:i.backgroundColor||f&&f.series&&f.series.color||v.neutralColor60,stroke:i.borderColor||"","stroke-width":i.borderWidth||0}).css(C({color:v.backgroundColor,fontWeight:"normal",fontSize:"11px",textAlign:"center"},i.style||{}))),s=o?(a=u?(f.plotX||0)+p:x.chartX,s+(r?0:this.height)):(a=r?this.width+p:0,u?(f.plotY||0)+s:x.chartY),l||i.formatter||(l="{value"+((h=this.dateTime?"%b %d, %Y":h)?":"+h:"")+"}"),x=u?this.isXAxis?f.x:f.y:this.toValue(o?x.chartX:x.chartY),m=f?f.series.isPointInside(f):w(x)&&m<x&&x<t,t="",l?t=b(l,{value:x},e):i.formatter&&w(x)&&(t=i.formatter.call(this,x)),n.attr({text:t,x:a,y:s,visibility:m?"visible":"hidden"}),m=n.getBBox(),w(n.y)&&(o?(c&&!r||!c&&r)&&(s=n.y-m.height):s=n.y-m.height/2),p=o?{left:p-m.x,right:p+this.width-m.x}:{left:"left"===this.labelAlign?p:0,right:"right"===this.labelAlign?p+this.width:e.chartWidth},n.translateX<p.left&&(g=p.left-n.translateX),n.translateX+m.width>=p.right&&(g=-(n.translateX+m.width-p.right)),n.attr({x:a+g,y:s,anchorX:o?a:this.opposite?0:e.chartWidth,anchorY:o?this.opposite?e.chartHeight:0:s+m.height/2}))}),a.prototype.init=function(){x.apply(this,arguments),this.initCompare(this.options.compare)},a.prototype.setCompare=function(t){this.initCompare(t),this.userOptions.compare=t},a.prototype.initCompare=function(o){this.modifyValue="value"===o||"percent"===o?function(t,e){var i=this.compareValue;return void 0!==t&&void 0!==i?("value"===o?t-=i:t=t/i*100-(100===this.options.compareBase?0:100),e&&(e.change=t),t):0}:null,this.chart.hasRendered&&(this.isDirty=!0)},a.prototype.processData=function(t){var e,i,o,r,n,a=this,s=-1,l=!0===a.options.compareStart?0:1;if(m.apply(this,arguments),a.xAxis&&a.processedYData)for(i=a.processedXData,r=(o=a.processedYData).length,a.pointArrayMap&&(s=a.pointArrayMap.indexOf(a.options.pointValKey||a.pointValKey||"y")),e=0;e<r-l;e++)if(n=o[e]&&-1<s?o[e][s]:o[e],w(n)&&i[e+l]>=a.xAxis.min&&0!==n){a.compareValue=n;break}},r(a,"afterGetExtremes",function(t){var e=t.dataExtremes;this.modifyValue&&e&&(t=[this.modifyValue(e.dataMin),this.modifyValue(e.dataMax)],e.dataMin=M(t),e.dataMax=y(t))}),e.prototype.setCompare=function(e,t){this.isXAxis||(this.series.forEach(function(t){t.setCompare(e)}),O(t,!0)&&this.chart.redraw())},n.prototype.tooltipFormatter=function(t){var e=this.series.chart.numberFormatter;return t=t.replace("{point.change}",(0<this.change?"+":"")+e(this.change,O(this.series.tooltipOptions.changeDecimals,2))),f.apply(this,[t])},r(a,"render",function(){var t,e,i,o=this.chart;o.is3d&&o.is3d()||o.polar||!this.xAxis||this.xAxis.isRadial||!1===this.options.clip||(i=this.yAxis.len,this.xAxis.axisLine&&(e=o.plotTop+o.plotHeight-this.yAxis.pos-this.yAxis.len,t=Math.floor(this.xAxis.axisLine.strokeWidth()/2),0<=e&&(i-=Math.max(t-e,0))),o.hasLoaded&&(this.clipBox||!this.isDirty||this.isDirtyData)||(this.clipBox=this.clipBox||B(o.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=i),o.hasRendered&&(t=u(this.options.animation),e=this.getSharedClipKey(t),(t=o.sharedClips[e])&&(t.animate({width:this.xAxis.len,height:i}),(e=o.sharedClips[e+"m"])&&e.animate({width:this.xAxis.len}))))}),r(i,"update",function(t){t=t.options;"scrollbar"in t&&this.navigator&&(B(!0,this.options.scrollbar,t.scrollbar),this.navigator.update({},!1),delete t.scrollbar)}),c}),e(t,"masters/modules/stock.src.js",[t["Core/Globals.js"],t["Core/Scrollbar.js"],t["Core/Chart/StockChart.js"]],function(t,e,i){t.Scrollbar=e,t.StockChart=t.stockChart=i.stockChart,e.compose(t.Axis)})});