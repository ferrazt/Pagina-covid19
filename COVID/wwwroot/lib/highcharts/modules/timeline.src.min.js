"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/timeline",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){t=t?t._modules:{};function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i))}e(t,"Series/Timeline/TimelinePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var o,i,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=t.series,s=t.seriesTypes.pie.prototype.pointClass,a=e.defined,l=e.isNumber,p=e.merge,c=e.objectEach,d=e.pick;function h(){var t=null!==i&&i.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return i=r.prototype.pointClass,n(h,i),h.prototype.alignConnector=function(){var t=this,e=t.series,i=t.connector,o=t.dataLabel,n=t.dataLabel.options=p(e.options.dataLabels,t.options.dataLabels),r=t.series.chart,s=i.getBBox(),s={x:s.x+o.translateX,y:s.y+o.translateY};r.inverted?s.y-=o.options.connectorWidth/2:s.x+=o.options.connectorWidth/2,i[r.isInsidePlot(s.x,s.y)?"animate":"attr"]({d:t.getConnectorPath()}),e.chart.styledMode||i.attr({stroke:n.connectorColor||t.color,"stroke-width":n.connectorWidth,opacity:o[a(o.newOpacity)?"newOpacity":"opacity"]})},h.prototype.drawConnector=function(){var t=this,e=t.series;t.connector||(t.connector=e.chart.renderer.path(t.getConnectorPath()).attr({zIndex:-1}).add(t.dataLabel)),t.series.chart.isInsidePlot(t.dataLabel.x,t.dataLabel.y)&&t.alignConnector()},h.prototype.getConnectorPath=function(){var t=this,e=t.series.chart,i=t.series.xAxis.len,o=e.inverted,n=o?"x2":"y2",r=t.dataLabel,s=r.targetPosition,a={x1:t.plotX,y1:t.plotY,x2:t.plotX,y2:(l(s.y)?s:r).y},p=(r.alignAttr||r)[n[0]]<t.series.yAxis.len/2;return o&&(a={x1:t.plotY,y1:i-t.plotX,x2:s.x||r.x,y2:i-t.plotX}),p&&(a[n]+=r[o?"width":"height"]),c(a,function(t,e){a[e]-=(r.alignAttr||r)[e[0]]}),e.renderer.crispLine([["M",a.x1,a.y1],["L",a.x2,a.y2]],r.options.connectorWidth)},h.prototype.init=function(){var t=i.prototype.init.apply(this,arguments);return t.name=d(t.name,"Event"),t.y=1,t},h.prototype.isValid=function(){return null!==this.options.y},h.prototype.setState=function(){var t=i.prototype.setState;this.isNull||t.apply(this,arguments)},h.prototype.setVisible=function(t,e){var i=this.series;e=d(e,i.options.ignoreHiddenPoint),s.prototype.setVisible.call(this,t,!1),i.processData(),e&&i.chart.redraw()},h}),e(t,"Series/Timeline/TimelineSeries.js",[t["Mixins/LegendSymbol.js"],t["Core/Color/Palette.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Series/Timeline/TimelinePoint.js"],t["Core/Utilities.js"]],function(t,e,i,o,n,r){var s,h,a=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=i.seriesTypes,l=p.column,c=p.line,d=r.addEvent,u=r.arrayMax,y=r.arrayMin,f=r.defined,p=r.extend,b=r.merge,g=r.pick,e=(a(v,h=c),v.prototype.alignDataLabel=function(t,e,i,o){var n=this,r=n.chart.inverted,s=n.visibilityMap.filter(function(t){return t}),a=n.visiblePointsCount,p=s.indexOf(t),l=n.options.dataLabels,c=t.userDLOptions||{},d=l.alternate?!p||p===a-1?1.5:2:1,s=Math.floor(n.xAxis.len/a),p=e.padding;t.visible&&(a=Math.abs(c.x||t.options.dataLabels.x),p=r?{width:(t=2*(a-p)-t.itemHeight/2)+"px",textOverflow:e.width/t*e.height/2>s*d?"ellipsis":"none"}:{width:(c.width||l.width||s*d-2*p)+"px"},e.css(p),n.chart.styledMode||e.shadow(l.shadow)),h.prototype.alignDataLabel.apply(n,arguments)},v.prototype.bindAxes=function(){var e=this;h.prototype.bindAxes.call(e),["xAxis","yAxis"].forEach(function(t){"xAxis"!==t||e[t].userOptions.type||(e[t].categories=e[t].hasNames=!0)})},v.prototype.distributeDL=function(){var e,i,o=this,n=o.options.dataLabels,r={},s=1,a=n.distance;o.points.forEach(function(t){t.visible&&!t.isNull&&(e=t.options,i=t.options.dataLabels,o.hasRendered||(t.userDLOptions=b({},i)),r[o.chart.inverted?"x":"y"]=n.alternate&&s%2?-a:a,e.dataLabels=b(r,t.userDLOptions),s++)})},v.prototype.generatePoints=function(){var i=this;h.prototype.generatePoints.apply(i),i.points.forEach(function(t,e){t.applyOptions({x:i.xData[e]},i.xData[e])})},v.prototype.getVisibilityMap=function(){return(this.data.length?this:this.userOptions).data.map(function(t){return!(!t||!1===t.visible||t.isNull)&&t})},v.prototype.getXExtremes=function(t){var i=this,t=t.filter(function(t,e){return i.points[e].isValid()&&i.points[e].visible});return{min:y(t),max:u(t)}},v.prototype.init=function(){var t=this;h.prototype.init.apply(t,arguments),t.eventsToUnbind.push(d(t,"afterTranslate",function(){var e,i=Number.MAX_VALUE;t.points.forEach(function(t){t.isInside=t.isInside&&t.visible,t.visible&&!t.isNull&&(f(e)&&(i=Math.min(i,Math.abs(t.plotX-e))),e=t.plotX)}),t.closestPointRangePx=i})),t.eventsToUnbind.push(d(t,"drawDataLabels",function(){t.distributeDL()})),t.eventsToUnbind.push(d(t,"afterDrawDataLabels",function(){var e;t.points.forEach(function(t){if(e=t.dataLabel)return e.animate=function(t){return this.targetPosition&&(this.targetPosition=t),o.prototype.animate.apply(this,arguments)},e.targetPosition||(e.targetPosition={}),t.drawConnector()})})),t.eventsToUnbind.push(d(t.chart,"afterHideOverlappingLabel",function(){t.points.forEach(function(t){t.connector&&t.dataLabel&&t.dataLabel.oldOpacity!==t.dataLabel.newOpacity&&t.alignConnector()})}))},v.prototype.markerAttribs=function(t,e){var i=this.options.marker,o=t.marker||{},n=o.symbol||i.symbol,r=g(o.width,i.width,this.closestPointRangePx),s=g(o.height,i.height),a=0;return this.xAxis.dateTime?h.prototype.markerAttribs.call(this,t,e):(e&&(i=i.states[e]||{},e=o.states&&o.states[e]||{},a=g(e.radius,i.radius,a+(i.radiusPlus||0))),t.hasImage=n&&0===n.indexOf("url"),{x:Math.floor(t.plotX)-r/2-a/2,y:t.plotY-s/2-a/2,width:r+a,height:s+a})},v.prototype.processData=function(){var t,e=this,i=0;for(e.visibilityMap=e.getVisibilityMap(),e.visibilityMap.forEach(function(t){t&&i++}),e.visiblePointsCount=i,t=0;t<e.xData.length;t++)e.yData[t]=1;h.prototype.processData.call(this,arguments)},v.defaultOptions=b(c.defaultOptions,{colorByPoint:!0,stickyTracking:!1,ignoreHiddenPoint:!0,legendType:"point",lineWidth:4,tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px"> {point.key}</span><br/>',pointFormat:"{point.description}"},states:{hover:{lineWidthPlus:0}},dataLabels:{enabled:!0,allowOverlap:!0,alternate:!0,backgroundColor:e.backgroundColor,borderWidth:1,borderColor:e.neutralColor40,borderRadius:3,color:e.neutralColor80,connectorWidth:1,distance:100,formatter:function(){var t=this.series.chart.styledMode?"<span>● </span>":'<span style="color:'+this.point.color+'">● </span>';return t+='<span class="highcharts-strong">'+(this.key||"")+"</span><br/>"+(this.point.label||"")},style:{textOutline:"none",fontWeight:"normal",fontSize:"12px"},shadow:!1,verticalAlign:"middle"},marker:{enabledThreshold:0,symbol:"square",radius:6,lineWidth:2,height:15},showInLegend:!1,colorKey:"x"}),v);function v(){var t=null!==h&&h.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.userOptions=void 0,t.visibilityMap=void 0,t}return p(e.prototype,{drawLegendSymbol:t.drawRectangle,drawTracker:l.prototype.drawTracker,pointClass:n,trackerGroups:["markerGroup","dataLabelsGroup"]}),i.registerSeriesType("timeline",e),e}),e(t,"masters/modules/timeline.src.js",[],function(){})});