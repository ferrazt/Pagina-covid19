"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/indicators/indicators",["highcharts","highcharts/modules/stock"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,a,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,a))}e(t=t?t._modules:{},"Mixins/IndicatorRequired.js",[t["Core/Utilities.js"]],function(t){var n=t.error;return{isParentLoaded:function(t,e,a,i,o){return t?!i||i(t):(n(o||this.generateMessage(a,e)),!1)},generateMessage:function(t,e){return'Error: "'+t+'" indicator type requires "'+e+'" indicator loaded before. Please read docs: https://api.highcharts.com/highstock/plotOptions.'+t}}}),e(t,"Stock/Indicators/SMA/SMAComposition.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var a=t.series,i=t.seriesTypes.ohlc.prototype;t=e.addEvent;var o=e.extend;t(a,"init",function(t){(t=t.options).useOhlcData&&"highcharts-navigator-series"!==t.id&&o(this,{pointValKey:i.pointValKey,pointArrayMap:i.pointArrayMap,toYData:i.toYData})}),t(a,"afterSetOptions",function(t){var e=(t=t.options).dataGrouping;e&&t.useOhlcData&&"highcharts-navigator-series"!==t.id&&(e.approximation="ohlc")})}),e(t,"Stock/Indicators/SMA/SMAIndicator.js",[t["Mixins/IndicatorRequired.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,a,e){var i,n,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),r=a.seriesTypes.line,p=e.addEvent,d=e.error,s=e.extend,l=e.isArray,c=e.merge,u=e.pick,h=e.splat,f=t.generateMessage;function y(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.dataEventsToUnbind=void 0,t.linkedParent=void 0,t.options=void 0,t.points=void 0,t}return o(y,n=r),y.prototype.destroy=function(){this.dataEventsToUnbind.forEach(function(t){t()}),n.prototype.destroy.apply(this,arguments)},y.prototype.getName=function(){var t=this.name,a=[];return t||((this.nameComponents||[]).forEach(function(t,e){a.push(this.options.params[t]+u(this.nameSuffixes[e],""))},this),t=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+a.join(", ")+")":"")),t},y.prototype.getValues=function(t,e){var a=e.period,i=t.xData,o=(t=t.yData).length,n=0,r=0,s=[],p=[],d=[],c=-1;if(!(i.length<a)){for(l(t[0])&&(c=e.index||0);n<a-1;)r+=c<0?t[n]:t[n][c],n++;for(e=n;e<o;e++){r+=c<0?t[e]:t[e][c];var u=[i[e],r/a];s.push(u),p.push(u[0]),d.push(u[1]),r-=c<0?t[e-n]:t[e-n][c]}return{values:s,xData:p,yData:d}}},y.prototype.init=function(t,e){function a(){var t,e,a=s.points||[],i=(s.xData||[]).length,o=s.getValues(s.linkedParent,s.options.params)||{values:[],xData:[],yData:[]},n=[],r=!0;if(i&&!s.hasGroupedData&&s.visible&&s.points)if(s.cropped){for(s.xAxis&&(t=s.xAxis.min,e=s.xAxis.max),i=s.cropData(o.xData,o.yData,t,e),t=0;t<i.xData.length;t++)n.push([i.xData[t]].concat(h(i.yData[t])));i=o.xData.indexOf(s.xData[0]),t=o.xData.indexOf(s.xData[s.xData.length-1]),-1===i&&t===o.xData.length-2&&n[0][0]===a[0].x&&n.shift(),s.updateData(n)}else o.xData.length!==i-1&&o.xData.length!==i+1&&(r=!1,s.updateData(o.values));r&&(s.xData=o.xData,s.yData=o.yData,s.options.data=o.values),!1===s.bindTo.series&&(delete s.processedXData,s.isDirty=!0,s.redraw()),s.isDirtyData=!1}var i,s=this,o=s.requireIndicators();return o.allLoaded?(n.prototype.init.call(s,t,e),t.linkSeries(),s.dataEventsToUnbind=[],s.linkedParent?(s.dataEventsToUnbind.push(p(s.bindTo.series?s.linkedParent:s.linkedParent.xAxis,s.bindTo.eventName,a)),void("init"===s.calculateOn?a():i=p(s.chart,s.calculateOn,function(){a(),i()}))):d("Series "+s.options.linkedTo+" not found! Check `linkedTo`.",!1,t)):d(f(s.type,o.needed))},y.prototype.processData=function(){var t=this.options.compareToMain,e=this.linkedParent;n.prototype.processData.apply(this,arguments),e&&e.compareValue&&t&&(this.compareValue=e.compareValue)},y.prototype.requireIndicators=function(){var e={allLoaded:!0};return this.requiredIndicators.forEach(function(t){a.seriesTypes[t]?a.seriesTypes[t].prototype.requireIndicators():(e.allLoaded=!1,e.needed=t)}),e},y.defaultOptions=c(r.defaultOptions,{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:0,period:14}}),s((t=y).prototype,{bindTo:{series:!0,eventName:"updatedData"},calculateOn:"init",hasDerivedData:!0,nameComponents:["period"],nameSuffixes:[],requiredIndicators:[],useCommonDataGrouping:!0}),a.registerSeriesType("sma",t),t}),e(t,"masters/indicators/indicators.src.js",[],function(){})});