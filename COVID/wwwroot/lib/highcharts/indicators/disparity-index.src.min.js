"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/disparity-index",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){e=e?e._modules:{};function t(e,t,r,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,r))}t(e,"Mixins/IndicatorRequired.js",[e["Core/Utilities.js"]],function(e){var n=e.error;return{isParentLoaded:function(e,t,r,i,a){return e?!i||i(e):(n(a||this.generateMessage(r,t)),!1)},generateMessage:function(e,t){return'Error: "'+e+'" indicator type requires "'+t+'" indicator loaded before. Please read docs: https://api.highcharts.com/highstock/plotOptions.'+e}}}),t(e,"Stock/Indicators/DisparityIndex/DisparityIndexIndicator.js",[e["Mixins/IndicatorRequired.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(i,a,e){var n,t,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=a.seriesTypes.sma,s=e.correctFloat,l=e.defined,p=e.extend,g=e.isArray,e=e.merge,e=(r(d,t=o),d.prototype.init=function(){var t=arguments,r=this,e=t[1].params,e=e&&e.average?e.average:void 0;r.averageIndicator=a.seriesTypes[e]||o,i.isParentLoaded(r.averageIndicator,e,r.type,function(e){e.prototype.init.apply(r,t)})},d.prototype.calculateDisparityIndex=function(e,t){return s(e-t)/t*100},d.prototype.getValues=function(e,t){var r=t.index,i=e.xData,a=e.yData,n=a?a.length:0,o=[],s=[],p=[],d=this.averageIndicator,c=g(a[0]),t=d.prototype.getValues(e,t),u=t.yData,f=i.indexOf(t.xData[0]);if(u&&0!==u.length&&l(r)&&!(a.length<=f)){for(var h=f;h<n;h++){var y=this.calculateDisparityIndex(c?a[h][r]:a[h],u[h-f]);o.push([i[h],y]),s.push(i[h]),p.push(y)}return{values:o,xData:s,yData:p}}},d.defaultOptions=e(o.defaultOptions,{params:{average:"sma",index:3},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),d);function d(){var e=null!==t&&t.apply(this,arguments)||this;return e.averageIndicator=void 0,e.data=void 0,e.options=void 0,e.points=void 0,e}return p(e.prototype,{nameBase:"Disparity Index",nameComponents:["period","average"]}),a.registerSeriesType("disparityindex",e),e}),t(e,"masters/indicators/disparity-index.src.js",[],function(){})});