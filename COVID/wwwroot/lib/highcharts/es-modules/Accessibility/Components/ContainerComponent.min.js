import AccessibilityComponent from"../AccessibilityComponent.js";import KeyboardNavigationHandler from"../KeyboardNavigationHandler.js";import ChartUtilities from"../Utils/ChartUtilities.js";var unhideChartElementFromAT=ChartUtilities.unhideChartElementFromAT,getChartTitle=ChartUtilities.getChartTitle;import H from"../../Core/Globals.js";var doc=H.doc;import HTMLUtilities from"../Utils/HTMLUtilities.js";var stripHTMLTags=HTMLUtilities.stripHTMLTagsFromString;import U from"../../Core/Utilities.js";var extend=U.extend,ContainerComponent=function(){};ContainerComponent.prototype=new AccessibilityComponent,extend(ContainerComponent.prototype,{onChartUpdate:function(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()},handleSVGTitleElement:function(){var t,e=this.chart,i="highcharts-title-"+e.index,r=stripHTMLTags(e.langFormat("accessibility.svgContainerTitle",{chartTitle:getChartTitle(e)}));r.length&&((t=this.svgTitleElement=this.svgTitleElement||doc.createElementNS("http://www.w3.org/2000/svg","title")).textContent=r,t.id=i,e.renderTo.insertBefore(t,e.renderTo.firstChild))},setSVGContainerLabel:function(){var t=this.chart,e=t.langFormat("accessibility.svgContainerLabel",{chartTitle:getChartTitle(t)});t.renderer.box&&e.length&&t.renderer.box.setAttribute("aria-label",e)},setGraphicContainerAttrs:function(){var t=this.chart,e=t.langFormat("accessibility.graphicContainerLabel",{chartTitle:getChartTitle(t)});e.length&&t.container.setAttribute("aria-label",e)},setRenderToAttrs:function(){var t=this.chart;"disabled"!==t.options.accessibility.landmarkVerbosity?t.renderTo.setAttribute("role","region"):t.renderTo.removeAttribute("role"),t.renderTo.setAttribute("aria-label",t.langFormat("accessibility.chartContainerLabel",{title:getChartTitle(t),chart:t}))},makeCreditsAccessible:function(){var t=this.chart,e=t.credits;e&&(e.textStr&&e.element.setAttribute("aria-label",t.langFormat("accessibility.credits",{creditsStr:stripHTMLTags(e.textStr)})),unhideChartElementFromAT(t,e.element))},getKeyboardNavigation:function(){var e=this.chart;return new KeyboardNavigationHandler(e,{keyCodeMap:[],validate:function(){return!0},init:function(){var t=e.accessibility;t&&t.keyboardNavigation.tabindexContainer.focus()}})},destroy:function(){this.chart.renderTo.setAttribute("aria-hidden",!0)}});export default ContainerComponent;