"use strict";import H from"../../Core/Globals.js";import AST from"../../Core/Renderer/HTML/AST.js";var doc=H.doc;import DOMElementProvider from"./DOMElementProvider.js";import HTMLUtilities from"./HTMLUtilities.js";var setElAttrs=HTMLUtilities.setElAttrs,visuallyHideElement=HTMLUtilities.visuallyHideElement,Announcer=function(){function e(e,n){this.chart=e,this.domElementProvider=new DOMElementProvider,this.announceRegion=this.addAnnounceRegion(n)}return e.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()},e.prototype.announce=function(e){var n=this;AST.setElementHTML(this.announceRegion,e),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(function(){n.announceRegion.innerHTML="",delete n.clearAnnouncementRegionTimer},1e3)},e.prototype.addAnnounceRegion=function(e){var n=this.chart.announcerContainer||this.createAnnouncerContainer(),t=this.domElementProvider.createElement("div");return setElAttrs(t,{"aria-hidden":!1,"aria-live":e}),visuallyHideElement(t),n.appendChild(t),t},e.prototype.createAnnouncerContainer=function(){var e=this.chart,n=doc.createElement("div");return setElAttrs(n,{"aria-hidden":!1,style:"position:relative",class:"highcharts-announcer-container"}),e.renderTo.insertBefore(n,e.renderTo.firstChild),e.announcerContainer=n},e}();export default H.Announcer=Announcer;