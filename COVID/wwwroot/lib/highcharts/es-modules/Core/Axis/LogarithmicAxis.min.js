"use strict";import Axis from"./Axis.js";import U from"../Utilities.js";var addEvent=U.addEvent,getMagnitude=U.getMagnitude,normalizeTickInterval=U.normalizeTickInterval,pick=U.pick,LogarithmicAxisAdditions=function(){function i(i){this.axis=i}return i.prototype.getLogTickPositions=function(i,t,o,n){var r=this,e=r.axis,l=e.len,a=e.options,c=[];if(n||(r.minorAutoInterval=void 0),.5<=i)i=Math.round(i),c=e.getLinearTickPositions(i,t,o);else if(.08<=i)for(var s,g,u=void 0,v=void 0,d=void 0,h=void 0,m=void 0,u=.3<i?[1,2,4]:.15<i?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],v=Math.floor(t);v<o+1&&!m;v++)for(s=u.length,d=0;d<s&&!m;d++)t<(g=r.log2lin(r.lin2log(v)*u[d]))&&(!n||h<=o)&&void 0!==h&&c.push(h),o<h&&(m=!0),h=g;else{var p=r.lin2log(t),f=r.lin2log(o),k=n?e.getMinorTickInterval():a.tickInterval,a=a.tickPixelInterval/(n?5:1),l=n?l/e.tickPositions.length:l;i=pick("auto"===k?null:k,r.minorAutoInterval,(f-p)*a/(l||1)),i=normalizeTickInterval(i,void 0,getMagnitude(i)),c=e.getLinearTickPositions(i,p,f).map(r.log2lin),n||(r.minorAutoInterval=i/5)}return n||(e.tickInterval=i),c},i.prototype.lin2log=function(i){return Math.pow(10,i)},i.prototype.log2lin=function(i){return Math.log(i)/Math.LN10},i}(),LogarithmicAxis=function(){function i(){}return i.compose=function(i){i.keepProps.push("logarithmic"),addEvent(i,"init",function(i){var t=this,o=i.userOptions,i=t.logarithmic;"logarithmic"!==o.type?t.logarithmic=void 0:i=i||(t.logarithmic=new LogarithmicAxisAdditions(t))}),addEvent(i,"afterInit",function(){var i=this,t=i.logarithmic;t&&(i.lin2val=function(i){return t.lin2log(i)},i.val2lin=function(i){return t.log2lin(i)})})},i}();LogarithmicAxis.compose(Axis);export default LogarithmicAxis;