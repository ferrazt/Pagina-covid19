"use strict";import Axis from"./Axis.js";import U from"../Utilities.js";var addEvent=U.addEvent,pick=U.pick,MapAxisAdditions=function(i){this.axis=i},MapAxis=function(){function i(){}return i.compose=function(i){i.keepProps.push("mapAxis"),addEvent(i,"init",function(){var i=this;i.mapAxis||(i.mapAxis=new MapAxisAdditions(i))}),addEvent(i,"getSeriesExtremes",function(){var i,t;this.mapAxis&&(t=[],(i=this).isXAxis&&(i.series.forEach(function(i,a){i.useMapGeometry&&(t[a]=i.xData,i.xData=[])}),i.mapAxis.seriesXData=t))}),addEvent(i,"afterGetSeriesExtremes",function(){var i,t,s,n,e;this.mapAxis&&(t=(i=this).mapAxis.seriesXData||[],i.isXAxis&&(s=pick(i.dataMin,Number.MAX_VALUE),n=pick(i.dataMax,-Number.MAX_VALUE),i.series.forEach(function(i,a){i.useMapGeometry&&(s=Math.min(s,pick(i.minX,s)),n=Math.max(n,pick(i.maxX,n)),i.xData=t[a],e=!0)}),e&&(i.dataMin=s,i.dataMax=n),i.mapAxis.seriesXData=void 0))}),addEvent(i,"afterSetAxisTranslation",function(){var i,a,t,s;this.mapAxis&&(i=(t=(a=this).chart).plotWidth/t.plotHeight,t=t.xAxis[0],"yAxis"===a.coll&&void 0!==t.transA&&a.series.forEach(function(i){i.preserveAspectRatio&&(s=!0)}),s&&(a.transA=t.transA=Math.min(a.transA,t.transA),t=((a=i/((t.max-t.min)/(a.max-a.min))<1?a:t).max-a.min)*a.transA,a.mapAxis.pixelPadding=a.len-t,a.minPixelPadding=a.mapAxis.pixelPadding/2,(t=a.mapAxis.fixTo)&&(t=t[1]-a.toValue(t[0],!0),t*=a.transA,(Math.abs(t)>a.minPixelPadding||a.min===a.dataMin&&a.max===a.dataMax)&&(t=0),a.minPixelPadding-=t)))}),addEvent(i,"render",function(){this.mapAxis&&(this.mapAxis.fixTo=void 0)})},i}();MapAxis.compose(Axis);export default MapAxis;