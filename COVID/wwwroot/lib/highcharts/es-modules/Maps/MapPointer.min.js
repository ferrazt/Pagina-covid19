"use strict";import Pointer from"../Core/Pointer.js";import U from"../Core/Utilities.js";var totalWheelDeltaTimer,extend=U.extend,pick=U.pick,wrap=U.wrap,totalWheelDelta=0;extend(Pointer.prototype,{onContainerDblClick:function(t){var e=this.chart;t=this.normalize(t),e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,e.xAxis[0].toValue(t.chartX),e.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)},onContainerMouseWheel:function(t){var e=this.chart,a=(t=this.normalize(t)).deltaY||t.detail||-t.wheelDelta/120;1<=Math.abs(a)&&(totalWheelDelta+=Math.abs(a),totalWheelDeltaTimer&&clearTimeout(totalWheelDeltaTimer),totalWheelDeltaTimer=setTimeout(function(){totalWheelDelta=0},50)),totalWheelDelta<10&&e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(Math.pow(e.options.mapNavigation.mouseWheelSensitivity,a),e.xAxis[0].toValue(t.chartX),e.yAxis[0].toValue(t.chartY),t.chartX,t.chartY,!(Math.abs(a)<1)&&void 0)}}),wrap(Pointer.prototype,"zoomOption",function(t){var e=this.chart.options.mapNavigation;pick(e.enableTouchZoom,e.enabled)&&(this.chart.options.chart.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))}),wrap(Pointer.prototype,"pinchTranslate",function(t,e,a,o,i,l,r){t.call(this,e,a,o,i,l,r),"map"===this.chart.options.chart.type&&this.hasZoom&&(t=o.scaleX>o.scaleY,this.pinchTranslateDirection(!t,e,a,o,i,l,r,t?o.scaleX:o.scaleY))});