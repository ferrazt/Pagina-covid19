"use strict";var __extends=this&&this.__extends||function(){var i=function(e,r){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)};return function(e,r){function t(){this.constructor=e}i(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}}();import ReduceArrayMixin from"../../../Mixins/ReduceArray.js";var getArrayExtremes=ReduceArrayMixin.getArrayExtremes;import SeriesRegistry from"../../../Core/Series/SeriesRegistry.js";var SMAIndicator=SeriesRegistry.seriesTypes.sma;import U from"../../../Core/Utilities.js";var extend=U.extend,isArray=U.isArray,merge=U.merge,WilliamsRIndicator=function(r){function e(){var e=null!==r&&r.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return __extends(e,r),e.prototype.getValues=function(e,r){var t,i,o,s=r.period,n=e.xData,a=e.yData,p=a?a.length:0,u=[],c=[],d=[];if(!(n.length<s)&&isArray(a[0])&&4===a[0].length){for(o=s-1;o<p;o++)i=a.slice(o-s+1,o+1),i=(t=getArrayExtremes(i,2,1))[0],i=((t=t[1])-a[o][3])/(t-i)*-100,n[o]&&(u.push([n[o],i]),c.push(n[o]),d.push(i));return{values:u,xData:c,yData:d}}},e.defaultOptions=merge(SMAIndicator.defaultOptions,{params:{index:void 0,period:14}}),e}(SMAIndicator);extend(WilliamsRIndicator.prototype,{nameBase:"Williams %R"}),SeriesRegistry.registerSeriesType("williamsr",WilliamsRIndicator);export default WilliamsRIndicator;