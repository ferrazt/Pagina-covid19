"use strict";var __extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();import MultipleLinesMixin from"../../../Mixins/MultipleLines.js";import SeriesRegistry from"../../../Core/Series/SeriesRegistry.js";var SMAIndicator=SeriesRegistry.seriesTypes.sma;import U from"../../../Core/Utilities.js";var extend=U.extend,merge=U.merge,pick=U.pick;function getExtremeIndexInArray(e,t){for(var r=e[0],n=0,o=1;o<e.length;o++)("max"===t&&e[o]>=r||"min"===t&&e[o]<=r)&&(r=e[o],n=o);return n}var AroonIndicator=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return __extends(e,t),e.prototype.getValues=function(e,t){for(var r,n,o=t.period,i=e.xData,a=e.yData,s=a?a.length:0,p=[],l=[],u=[],d=o-1;d<s;d++)n=getExtremeIndexInArray((r=a.slice(d-o+1,d+2)).map(function(e){return pick(e[2],e)}),"min"),r=getExtremeIndexInArray(r.map(function(e){return pick(e[1],e)}),"max")/o*100,n=n/o*100,i[d+1]&&(p.push([i[d+1],r,n]),l.push(i[d+1]),u.push([r,n]));return{values:p,xData:l,yData:u}},e.defaultOptions=merge(SMAIndicator.defaultOptions,{params:{index:void 0,period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),e}(SMAIndicator);extend(AroonIndicator.prototype,{linesApiNames:["aroonDown"],nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y",drawGraph:MultipleLinesMixin.drawGraph,getTranslatedLinesNames:MultipleLinesMixin.getTranslatedLinesNames,toYData:MultipleLinesMixin.toYData,translate:MultipleLinesMixin.translate}),SeriesRegistry.registerSeriesType("aroon",AroonIndicator);export default AroonIndicator;