"use strict";var __extends=this&&this.__extends||function(){var e=function(o,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var t in r)r.hasOwnProperty(t)&&(o[t]=r[t])})(o,r)};return function(o,r){function t(){this.constructor=o}e(o,r),o.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}}();import H from"../../../Core/Globals.js";var noop=H.noop;import SeriesRegistry from"../../../Core/Series/SeriesRegistry.js";var _a=SeriesRegistry.seriesTypes,SMAIndicator=_a.sma,ColumnSeries=_a.column;import U from"../../../Core/Utilities.js";import palette from"../../../Core/Color/Palette.js";var extend=U.extend,merge=U.merge,correctFloat=U.correctFloat,isArray=U.isArray,AOIndicator=function(r){function o(){var o=null!==r&&r.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return __extends(o,r),o.prototype.drawGraph=function(){var o,r=this,t=r.options,e=r.points,r=r.userOptions.color,i=t.greaterBarColor,a=t.lowerBarColor,t=e[0];if(!r&&t)for(t.color=i,o=1;o<e.length;o++)e[o].y>e[o-1].y?e[o].color=i:e[o].y<e[o-1].y?e[o].color=a:e[o].color=e[o-1].color},o.prototype.getValues=function(o){var r,t,e,i,a,n=34,s=o.xData||[],l=o.yData||[],p=l.length,c=[],u=[],d=[],y=0,f=0;if(!(s.length<=n)&&isArray(l[0])&&4===l[0].length){for(i=0;i<33;i++)e=(l[i][1]+l[i][2])/2,29<=i&&(y=correctFloat(y+e)),f=correctFloat(f+e);for(a=33;a<p;a++)e=(l[a][1]+l[a][2])/2,y=correctFloat(y+e),f=correctFloat(f+e),r=correctFloat(y/5-f/n),c.push([s[a],r]),u.push(s[a]),d.push(r),t=a+1-n,y=correctFloat(y-(l[r=a+1-5][1]+l[r][2])/2),f=correctFloat(f-(l[t][1]+l[t][2])/2);return{values:c,xData:u,yData:d}}},o.defaultOptions=merge(SMAIndicator.defaultOptions,{params:{index:void 0,period:void 0},greaterBarColor:palette.positiveColor,lowerBarColor:palette.negativeColor,threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}}),o}(SMAIndicator);extend(AOIndicator.prototype,{nameBase:"AO",nameComponents:!1,markerAttribs:noop,getColumnMetrics:ColumnSeries.prototype.getColumnMetrics,crispCol:ColumnSeries.prototype.crispCol,translate:ColumnSeries.prototype.translate,drawPoints:ColumnSeries.prototype.drawPoints}),SeriesRegistry.registerSeriesType("ao",AOIndicator);export default AOIndicator;