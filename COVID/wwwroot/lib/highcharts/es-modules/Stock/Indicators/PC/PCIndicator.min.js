"use strict";var __extends=this&&this.__extends||function(){var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}}();import palette from"../../../Core/Color/Palette.js";import MultipleLinesMixin from"../../../Mixins/MultipleLines.js";import ReduceArrayMixin from"../../../Mixins/ReduceArray.js";import SeriesRegistry from"../../../Core/Series/SeriesRegistry.js";var SMAIndicator=SeriesRegistry.seriesTypes.sma;import U from"../../../Core/Utilities.js";var merge=U.merge,extend=U.extend,getArrayExtremes=ReduceArrayMixin.getArrayExtremes,PCIndicator=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return __extends(e,t),e.prototype.getValues=function(e,t){var i,r,o,n,a,s=t.period,p=e.xData,l=e.yData,d=l?l.length:0,u=[],c=[],m=[];if(!(d<s)){for(a=s;a<=d;a++)r=p[a-1],o=l.slice(a-s,a),i=(n=getArrayExtremes(o,2,1))[1],o=n[0],u.push([r,i,n=(i+o)/2,o]),c.push(r),m.push([i,n,o]);return{values:u,xData:c,yData:m}}},e.defaultOptions=merge(SMAIndicator.defaultOptions,{params:{index:void 0,period:20},lineWidth:1,topLine:{styles:{lineColor:palette.colors[2],lineWidth:1}},bottomLine:{styles:{lineColor:palette.colors[8],lineWidth:1}},dataGrouping:{approximation:"averages"}}),e}(SMAIndicator);extend(PCIndicator.prototype,{getTranslatedLinesNames:MultipleLinesMixin.getTranslatedLinesNames,drawGraph:MultipleLinesMixin.drawGraph,toYData:MultipleLinesMixin.toYData,pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],translate:MultipleLinesMixin.translate}),SeriesRegistry.registerSeriesType("pc",PCIndicator);export default PCIndicator;